var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(i){n=[6,i],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},bfcl;!function(e){var t;!function(t){var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.LoadResource=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var o,r,s,a,l=this;return __generator(this,function(m){switch(m.label){case 0:o=[],Array.prototype.push.apply(o,this.ResGroupName),this.LoadingUI.CodePage=n,this.LoadingUI.ResCount=o.length,t.addChild(this.LoadingUI),r=0,s=o,m.label=1;case 1:return r<s.length?(a=s[r],[4,RES.loadGroup(a,0,this.LoadingUI)]):[3,4];case 2:m.sent(),m.label=3;case 3:return r++,[3,1];case 4:return this.LoadingUI.Finished(),this.LoadingUI.once(e.Event.Loading.CLICK,function(){l.LoadingUI.Clear(),t.removeChild(l.LoadingUI),i()},this),[2]}})})},n}(eui.Component);t.GameUI=n,__reflect(n.prototype,"bfcl.Controls.GameUI",["eui.UIComponent","egret.DisplayObject","bfcl.Interface.IGame"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t=function(){function e(){}return e.Assert=function(e,t){if(void 0===t&&(t=""),0==e){var n=new Error(t);throw console.error(n),n}},e}();e.Debug=t,__reflect(t.prototype,"bfcl.Debug")}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.Serialize=function(){return JSON.stringify(this)},e.Deserialize=function(e){return e.trim().length>0?JSON.parse(e):void 0},e}();e.BaseProperty=t,__reflect(t.prototype,"bfcl.Property.BaseProperty")}(t=e.Property||(e.Property={}))}(bfcl||(bfcl={}));var game;!function(e){var t;!function(e){var t=function(){function e(){this.Worker=new slot.Game.Worker,this.Dc=new slot.Game.Display}return e}();e.Context=t,__reflect(t.prototype,"game.Base.Context")}(t=e.Base||(e.Base={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.Clear=function(){this.GameMsgBox.Clear(),this.Info.Clear()},e}();e.Display=t,__reflect(t.prototype,"game.Base.Display")}(t=e.Base||(e.Base={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.Status=t,__reflect(t.prototype,"game.Base.Status")}(t=e.Base||(e.Base={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.Clear=function(){this.LocalizationManager.Dispose(),this.LocalizationManager=null,this.AudioManager.Dispose(),this.AudioManager=null},e}();e.Worker=t,__reflect(t.prototype,"game.Base.Worker")}(t=e.Base||(e.Base={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.GameMaintenance=1]="GameMaintenance",e[e.SystemMaintenance=2]="SystemMaintenance",e[e.Version=3]="Version",e[e.UserOffline=4]="UserOffline"}(t=e.GameStatus||(e.GameStatus={}));var n;!function(e){e[e.BET=0]="BET",e[e.MAIN_SPIN=1]="MAIN_SPIN",e[e.MAIN_RESULT=2]="MAIN_RESULT",e[e.INTERLUDE_ENTRANCE=3]="INTERLUDE_ENTRANCE",e[e.FREE_SPIN=4]="FREE_SPIN",e[e.FREE_RESULT=5]="FREE_RESULT",e[e.INTERLUDE_EXIT=6]="INTERLUDE_EXIT",e[e.COMMIT=7]="COMMIT",e[e.UNKOWN=999]="UNKOWN"}(n=e.StageTypes||(e.StageTypes={}));var i;!function(e){e[e.Dragon_Fire=65]="Dragon_Fire",e[e.Dragon_Ice=66]="Dragon_Ice",e[e.Diamond_Purple=67]="Diamond_Purple",e[e.Diamond_Green=68]="Diamond_Green",e[e.Word_A=69]="Word_A",e[e.Word_K=70]="Word_K",e[e.Word_Q=71]="Word_Q",e[e.Word_J=72]="Word_J",e[e.Wild=90]="Wild",e[e.FreeGame=89]="FreeGame"}(i=e.SymbolCodes||(e.SymbolCodes={}));var o;!function(e){e[e.UNKNOW=-1]="UNKNOW",e[e.FREE_BGM=0]="FREE_BGM",e[e.MAIN_BGM=1]="MAIN_BGM",e[e.LINE=2]="LINE",e[e.REEL_SPIN=3]="REEL_SPIN",e[e.REEL_DROP_1=4]="REEL_DROP_1",e[e.REEL_DROP_2=5]="REEL_DROP_2",e[e.REEL_STOP_1=6]="REEL_STOP_1",e[e.REEL_STOP_2=7]="REEL_STOP_2",e[e.DRAW=8]="DRAW",e[e.SCATTER_WIN=9]="SCATTER_WIN",e[e.SYMBOL_WIN=10]="SYMBOL_WIN",e[e.ADD_ROUND=11]="ADD_ROUND",e[e.INTERLUDE_ENTRANCE=12]="INTERLUDE_ENTRANCE",e[e.INTERLUDE_EXIT=13]="INTERLUDE_EXIT"}(o=e.SoundIds||(e.SoundIds={}))}(t=e.Enum||(e.Enum={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(n,i,o){var r=t.call(this)||this;return r.m_IsSend=!1,r.m_Request=new i,r.m_Response=new o,r.m_Task=new e.Http.Task,e.Event.Tracker.Instance.dispatchEvent(new e.Event.Monitor(e.Event.Monitor.HttpService,n,r)),r}return __extends(n,t),Object.defineProperty(n.prototype,"Request",{get:function(){return this.m_Request},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Params",{get:function(){switch(this.Method){case egret.HttpMethod.POST:return[this.m_Request.Serialize()];case egret.HttpMethod.GET:for(var t=[],n=Object.keys(this.m_Request),i=0,o=n;i<o.length;i++){var r=o[i];t.push(r+"="+this.m_Request[r])}return t;default:e.Debug.Assert(!1)}},enumerable:!0,configurable:!0}),n.prototype.Send=function(){var t=this;this.m_IsSend||(this.m_IsSend=!0,this.m_Task.Url=this.ServerUrl+this.Api,this.m_Task.Method=this.Method,this.m_Task.JwToken=this.JwToken,this.m_Task.Params=this.Params,this.m_Task.SuccessCallback=function(n){t.RemoveTask(),t.m_Response=e.Http.Data.Response.Deserialize(n),t.m_Response.status_code==e.Http.Data.Response.SUCCESS?(egret.log(n),null!=t.OnSuccessCallback&&t.OnSuccessCallback(t.m_Response)):(console.error(n),null!=t.OnFailureCallback&&t.OnFailureCallback(t.m_Response.status_code))},this.m_Task.FailureCallback=function(e){t.RemoveTask(),console.error(e)},this.m_Task.Send())},n.prototype.RemoveTask=function(){null!=this.m_Task&&(this.m_Task.Dispose(),this.m_Task=null)},n.prototype.Dispose=function(){this.RemoveTask(),this.OnSuccessCallback=null,this.OnFailureCallback=null},n}(egret.EventDispatcher);t.Service=n,__reflect(n.prototype,"bfcl.Http.Service",["bfcl.Interface.IMonitor"])}(t=e.Http||(e.Http={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.Serialize=function(){return JSON.stringify(this)},e}();e.Request=t,__reflect(t.prototype,"bfcl.Http.Data.Request")}(t=e.Data||(e.Data={}))}(t=e.Http||(e.Http={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(t){var n=function(){function t(){this.status_code=e.Http.Data.Response.SUCCESS}return t.Deserialize=function(e){return e.trim().length>0?JSON.parse(e):new t},t.SUCCESS="SUCCESS",t.IO_ERROR="IO_ERROR",t}();t.Response=n,__reflect(n.prototype,"bfcl.Http.Data.Response")}(n=t.Data||(t.Data={}))}(t=e.Http||(e.Http={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){var o=e.call(this)||this;return o.Code=-1,o.NormalLayer=0,o.WinLayer=1,o.Code=t,o.NormalLayer=n,o.WinLayer=i,o}return __extends(t,e),t}(bfcl.Property.BaseProperty);e.SymbolProperty=t,__reflect(t.prototype,"slot.Property.SymbolProperty")}(t=e.Property||(e.Property={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_ResIndex=0,t.m_ResValues=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"ResCurValue",{get:function(){return this.m_ResValues[this.m_ResIndex]},set:function(e){this.m_ResValues[this.m_ResIndex]=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ResCount",{set:function(e){this.m_ResIndex=0,this.m_ResValues=[];for(var t=0;e>t;t++)this.m_ResValues.push(0)},enumerable:!0,configurable:!0}),t.prototype.TotalPercent=function(){for(var e=0,t=0,n=this.m_ResValues;t<n.length;t++){var i=n[t];e+=i}return 100*e/this.m_ResValues.length},t.prototype.SetPreccess=function(e){this.ResCurValue=e,this.ResCurValue>=1&&(this.ResCurValue=1,this.m_ResIndex++)},t.prototype.Clear=function(){this.m_ResIndex=0,this.m_ResValues=[]},t}(egret.Sprite);e.LoadingPanelUI=t,__reflect(t.prototype,"bfcl.Controls.LoadingPanelUI",["RES.PromiseTaskReporter"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Normal=null,t.m_Shine=null,t.m_Mask=new egret.Shape,t.m_Loop=!1,t.m_DistanceX=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"NormalPoint",{set:function(e){this.m_Normal.x=e.x,this.m_Normal.y=e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ShinePoint",{set:function(e){this.m_Shine.x=e.x,this.m_Shine.y=e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaskRotation",{set:function(e){this.m_Mask.rotation=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceX",{set:function(e){this.m_DistanceX=e},enumerable:!0,configurable:!0}),t.prototype.Init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_Shine.mask=this.m_Mask,this.addChild(this.m_Normal),this.addChild(this.m_Shine),this.addChild(this.m_Mask),this.m_Mask.scaleX=this.m_Mask.scaleY=0},t.prototype.Shine=function(e){void 0===e&&(e=1),this.visible&&(egret.Tween.removeTweens(this.m_Mask),egret.Tween.get(this.m_Mask,{loop:this.m_Loop}).set({x:this.m_Mask.x-2*this.m_Mask.width,scaleX:1,scaleY:1}).to({x:this.m_Mask.x+this.m_DistanceX},1e3*e))},t.prototype.Dispose=function(){this.removeChild(this.m_Mask),this.removeChild(this.m_Normal),this.removeChild(this.m_Shine),this.m_Normal=null,this.m_Shine=null,this.m_Mask=null},t}(eui.Component);e.ShineUI=t,__reflect(t.prototype,"bfcl.Controls.Base.ShineUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Base||(e.Base={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_MaskImage=new eui.Image,e.m_UpImage=new eui.Image,e.m_DownImage=new eui.Image,e.m_DisabledImage=new eui.Image,e.Label=null,e.m_IsTouching=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Serial",{get:function(){return this.m_Serial},set:function(e){this.m_Serial=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Enable",{get:function(){return this.m_Enable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsTouching",{set:function(e){this.m_IsTouching=e,this.m_DownImage.visible=e,this.m_UpImage.visible=!e},enumerable:!0,configurable:!0}),n.prototype.SetEnable=function(e){this.m_Enable!=e&&(this.m_Enable=e,this.m_DisabledImage.visible=!e,this.m_Enable?(this.m_MaskImage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnDown,this),this.m_MaskImage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.OnCancel,this),this.m_MaskImage.addEventListener(egret.TouchEvent.TOUCH_END,this.OnUp,this)):(this.m_MaskImage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnDown,this),this.m_MaskImage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.OnCancel,this),this.m_MaskImage.removeEventListener(egret.TouchEvent.TOUCH_END,this.OnUp,this)))},n.prototype.OnDown=function(e){this.IsTouching=!0},n.prototype.OnUp=function(e){this.IsTouching=!1},n.prototype.OnCancel=function(e){this.IsTouching=!1},Object.defineProperty(n.prototype,"Width",{get:function(){return this.m_Width||0},set:function(e){this.m_Width!=e&&(this.m_Width=this.width=e,this.m_UpImage.width=e,this.m_DownImage.width=e,this.m_DisabledImage.width=e,this.m_MaskImage.width=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Height",{get:function(){return this.m_Height||0},set:function(e){this.m_Height!=e&&(this.m_Height=this.height=e,this.m_UpImage.height=e,this.m_DownImage.height=e,this.m_DisabledImage.height=e,this.m_MaskImage.height=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Scale9Grid",{get:function(){return this.m_Scale9Grid},set:function(e){this.m_Scale9Grid=e,this.m_UpImage.scale9Grid=e,this.m_DownImage.scale9Grid=e,this.m_DisabledImage.scale9Grid=e},enumerable:!0,configurable:!0}),n.prototype.Init=function(e,t,n){void 0===n&&(n=""),this.Skin(e,t,n),this.m_UpImage.touchEnabled=!1,this.m_DownImage.touchEnabled=!1,this.m_DisabledImage.touchEnabled=!1,this.addChild(this.m_DownImage),this.addChild(this.m_UpImage),this.addChild(this.m_DisabledImage),this.addChild(this.m_MaskImage),this.IsTouching=!1},n.prototype.Skin=function(e,t,n){void 0===n&&(n="");var i=RES.getRes(e);this.m_UpImage.texture=i,this.m_DownImage.texture=RES.getRes(t),n.length>0&&(this.m_DisabledImage.texture=RES.getRes(n)),this.m_MaskImage.texture=i,this.m_MaskImage.alpha=0,null!=this.m_Scale9Grid&&(this.Scale9Grid=this.m_Scale9Grid),null==this.m_Width&&(this.width=i.bitmapData.width),null==this.m_Height&&(this.height=i.bitmapData.height),this.Width=this.width,this.Height=this.height},n.prototype.AddLabel=function(t){void 0===t&&(t=null),e.Debug.Assert(null!=t),e.Debug.Assert(null==this.Label),this.Label=t,this.Label.touchEnabled=!1,this.addChild(this.Label),this.Label.verticalCenter=0,this.Label.horizontalCenter=0},n.prototype.Clear=function(){this.SetEnable(!1)},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_UpImage),this.removeChild(this.m_DownImage),this.removeChild(this.m_DisabledImage),this.removeChild(this.m_MaskImage),this.m_UpImage=null,this.m_DownImage=null,this.m_DisabledImage=null,this.m_MaskImage=null,null!=this.Label&&(this.removeChild(this.Label),this.Label=null)},n}(eui.Component);t.ButtonUI=n,__reflect(n.prototype,"bfcl.Controls.ButtonUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.m_Group=new eui.Group,n.m_Layout=new eui.HorizontalLayout,n.m_CurValue=-1,n.m_LabelText="",n.m_LabelWidth=0,n.m_Group.width=1600,n.m_Label=new eui.BitmapLabel,n.m_LabelFont=RES.getRes(t),n.m_Label.font=n.m_LabelFont,n.m_Group.addChild(n.m_Label),n.addChild(n.m_Group),n.touchEnabled=!1,n}return __extends(t,e),Object.defineProperty(t.prototype,"Number",{get:function(){return this.m_CurValue},set:function(e){this.SetNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GroupWidth",{set:function(e){this.m_Group.width=e},enumerable:!0,configurable:!0}),t.prototype.SetNumber=function(e){this.m_CurValue!=e&&(this.m_CurValue=Math.ceil(e),this.m_Label.text=this.m_CurValue.toString())},Object.defineProperty(t.prototype,"TextAlign",{get:function(){return this.m_Layout.horizontalAlign},set:function(e){e!=this.m_Layout.horizontalAlign&&(this.m_Layout.horizontalAlign=e,this.m_Group.layout=this.m_Layout)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LabelWidth",{get:function(){if(this.m_LabelText!=this.m_Label.text){this.m_LabelWidth=0;for(var e=0,t=this.m_Label.text;e<t.length;e++){var n=t[e];this.m_LabelWidth+=this.m_LabelFont.charList[n].w}this.m_LabelText=this.m_Label.text}return this.m_LabelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LabelX",{get:function(){return this.m_Label.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LabelY",{get:function(){return this.m_Label.y},enumerable:!0,configurable:!0}),t.prototype.Clear=function(){this.SetNumber(0)},t.prototype.Dispose=function(){this.m_Group.removeChild(this.m_Label),this.removeChild(this.m_Group),this.m_Group=null,this.m_Label=null},t}(eui.Component);e.NormalDigits=t,__reflect(t.prototype,"bfcl.Controls.Digits.NormalDigits",["eui.UIComponent","egret.DisplayObject"])}(t=e.Digits||(e.Digits={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"Number",{get:function(){return this.m_Number},set:function(e){this.m_Number=e},enumerable:!0,configurable:!0}),t}(eui.Component);e.Page=t,__reflect(t.prototype,"bfcl.Controls.Info.Page",["eui.UIComponent","egret.DisplayObject"])}(t=e.Info||(e.Info={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n=function(){function t(t){if(this.m_Pairs=[],null!=t){e.Debug.Assert(t.length>0);for(var n=0,i=t;n<i.length;n++){var o=i[n];this.Add(o.Key,o.Value)}}}return Object.defineProperty(t.prototype,"Count",{get:function(){return this.m_Pairs.length},enumerable:!0,configurable:!0}),t.prototype.GetKeyIndex=function(e){for(var t=0;t<this.m_Pairs.length;t++)if(this.m_Pairs[t].Key===e)return t;return-1},t.prototype.ContainsKey=function(e){return-1!=this.GetKeyIndex(e)},t.prototype.Add=function(e,t){var n=this.GetKeyIndex(e);-1==n?this.m_Pairs.push({Key:e,Value:t}):this.m_Pairs[n].Value=t},t.prototype.Remove=function(t){var n=this.GetKeyIndex(t);return e.Debug.Assert(-1!=n,"Dictionary[Remove] find not this key"),this.m_Pairs.splice(n,1)[0]},t.prototype.RemoveAt=function(t){return e.Debug.Assert(t>=0&&t<this.Count,"Dictionary[RemoveAt] index Error"),this.m_Pairs.splice(t,1)[0]},t.prototype.GetValuePair=function(t){return e.Debug.Assert(t>=0&&t<this.Count,"Dictionary[GetValuePair] index Error"),this.m_Pairs[t]},t.prototype.GetKey=function(t){return e.Debug.Assert(t>=0&&t<this.Count,"Dictionary[GetKey] index Error"),this.m_Pairs[t].Key},t.prototype.GetValue=function(t){var n=this.GetKeyIndex(t);return e.Debug.Assert(-1!=n,"Dictionary[GetValue] find not this key"),this.m_Pairs[n].Value},t.prototype.SetValue=function(t,n){var i=this.GetKeyIndex(t);e.Debug.Assert(-1!=i,"Dictionary[SetValue] find not this key"),this.m_Pairs[i].Value},t.prototype.Clear=function(){this.m_Pairs=[]},t}();t.Dictionary=n,__reflect(n.prototype,"bfcl.Collections.Dictionary")}(t=e.Collections||(e.Collections={}))}(bfcl||(bfcl={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.GameMaintenance=1]="GameMaintenance",e[e.SystemMaintenance=2]="SystemMaintenance",e[e.Version=3]="Version",e[e.UserOffline=4]="UserOffline"}(t=e.GameStatus||(e.GameStatus={}));var n;!function(e){e[e.BET=0]="BET",e[e.MAIN_SPIN=1]="MAIN_SPIN",e[e.MAIN_RESULT=2]="MAIN_RESULT",e[e.INTERLUDE_ENTRANCE=3]="INTERLUDE_ENTRANCE",e[e.FREE_SPIN=4]="FREE_SPIN",e[e.FREE_RESULT=5]="FREE_RESULT",e[e.INTERLUDE_EXIT=6]="INTERLUDE_EXIT",e[e.COMMIT=7]="COMMIT",e[e.UNKOWN=999]="UNKOWN"}(n=e.StageTypes||(e.StageTypes={}));var i;!function(e){e[e.Ariel=65]="Ariel",e[e.Fish_Red=66]="Fish_Red",e[e.Fish_Blue=67]="Fish_Blue",e[e.Fish_Star=68]="Fish_Star",e[e.Actinia=69]="Actinia",e[e.Snail=70]="Snail",e[e.Word_A=71]="Word_A",e[e.Word_K=72]="Word_K",e[e.Word_Q=73]="Word_Q",e[e.Word_J=74]="Word_J",e[e.FreeGame=89]="FreeGame",e[e.Wild=90]="Wild"}(i=e.SymbolCodes||(e.SymbolCodes={}));var o;!function(e){e[e.MAIN_SPIN=0]="MAIN_SPIN",e[e.FREE_SPIN=1]="FREE_SPIN"}(o=e.ScenesModes||(e.ScenesModes={}));var r;!function(e){e[e.X1=1]="X1",e[e.X2=2]="X2",e[e.X3=3]="X3"}(r=e.WinFrameSizeTypes||(e.WinFrameSizeTypes={}));var s;!function(e){e[e.X2=2]="X2",e[e.X3=3]="X3"}(s=e.ArielEffectSizeTypes||(e.ArielEffectSizeTypes={}));var a;!function(e){e[e.X2=2]="X2",e[e.X3=3]="X3"}(a=e.BubbleOdds||(e.BubbleOdds={}));var l;!function(e){e[e.UNKNOW=-1]="UNKNOW",e[e.MAIN_BGM=0]="MAIN_BGM",e[e.BONUS_BGM=1]="BONUS_BGM",e[e.ADD_SPIN=2]="ADD_SPIN",e[e.SCATTER_DRAW=3]="SCATTER_DRAW",e[e.REEL_SPIN=4]="REEL_SPIN",e[e.REEL_STOP=5]="REEL_STOP",e[e.SYMBOL_WIN=6]="SYMBOL_WIN",e[e.SCATTER_WIN=7]="SCATTER_WIN",e[e.SCATTER_SHOW=8]="SCATTER_SHOW",e[e.BUBBLE_CARTOON=9]="BUBBLE_CARTOON",e[e.BUBBLE_IN=10]="BUBBLE_IN",e[e.BUBBLE_OUT=11]="BUBBLE_OUT",e[e.INTERLUDE_ENTRANCE=12]="INTERLUDE_ENTRANCE",e[e.INTERLUDE_EXIT=13]="INTERLUDE_EXIT",e[e.ARIEL_SHOW=14]="ARIEL_SHOW",e[e.SPIN_CLICK=15]="SPIN_CLICK",e[e.SPIN_A_ROUND=16]="SPIN_A_ROUND"}(l=e.SoundIds||(e.SoundIds={}))}(t=e.Enum||(e.Enum={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.GameMaintenance=1]="GameMaintenance",e[e.SystemMaintenance=2]="SystemMaintenance",e[e.Version=3]="Version",e[e.UserOffline=4]="UserOffline"}(t=e.GameStatus||(e.GameStatus={}));var n;!function(e){e[e.BET=0]="BET",e[e.MAIN_SPIN=1]="MAIN_SPIN",e[e.MAIN_RESULT=2]="MAIN_RESULT",e[e.INTERLUDE_ENTRANCE=3]="INTERLUDE_ENTRANCE",e[e.FREE_SPIN=4]="FREE_SPIN",e[e.FREE_RESULT=5]="FREE_RESULT",e[e.INTERLUDE_EXIT=6]="INTERLUDE_EXIT",e[e.COMMIT=7]="COMMIT",e[e.UNKOWN=999]="UNKOWN"}(n=e.StageTypes||(e.StageTypes={}));var i;!function(e){e[e.Miner=65]="Miner",e[e.Supervisor=66]="Supervisor",e[e.Diamond_Red=67]="Diamond_Red",e[e.Diamond_Yellow=68]="Diamond_Yellow",e[e.Diamond_Blue=69]="Diamond_Blue",e[e.Word_Q=73]="Word_Q",e[e.Word_K=72]="Word_K",e[e.Word_A=71]="Word_A",e[e.Wild=90]="Wild",e[e.FreeGame=89]="FreeGame"}(i=e.SymbolCodes||(e.SymbolCodes={}));var o;!function(e){e[e.UNKNOW=-1]="UNKNOW",e[e.FREE_BGM=0]="FREE_BGM",e[e.MINER_CAR=1]="MINER_CAR",e[e.SPIN_START=2]="SPIN_START",e[e.MAIN_BGM=3]="MAIN_BGM",e[e.BOMB=4]="BOMB",e[e.DRAW=5]="DRAW",e[e.SCATTER_SHOW=6]="SCATTER_SHOW",e[e.SCATTER_WIN=7]="SCATTER_WIN",e[e.REEL_SPIN=8]="REEL_SPIN",e[e.REEL_STOP=9]="REEL_STOP",e[e.SYMBOL_WIN=10]="SYMBOL_WIN",e[e.INTERLUDE_ENTRANCE=11]="INTERLUDE_ENTRANCE",e[e.INTERLUDE_EXIT=12]="INTERLUDE_EXIT"}(o=e.SoundIds||(e.SoundIds={}))}(t=e.Enum||(e.Enum={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var kernel;!function(e){function t(){return n.Num+" ["+n.Time+"]"}var n=function(){function e(){}return e.Num="GeGame Ver:1.0.2",e.Time="2020/09/30",e}();e.Version=n,__reflect(n.prototype,"kernel.Version"),e.GetVersion=t}(kernel||(kernel={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Controls.GameUI);e.GameUI=t,__reflect(t.prototype,"slot.Controls.GameUI")}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(eui.Component);e.StatusActioner=t,__reflect(t.prototype,"slot.Controls.StatusActioner",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n=function(){function e(){this.m_FrameRatePerSec=3,this.m_RollBackFactor=.2,this.m_RollOscillationFactor=.75,this.m_AccelerationInterval=1,this.m_FrameRate=30,this.m_NormalSymbolState="",this.m_MoveSymbolState="",this.m_MotionBlurSpeed=-1}return Object.defineProperty(e.prototype,"NormalSymbolState",{get:function(){return this.m_NormalSymbolState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MoveSymbolState",{get:function(){return this.m_MoveSymbolState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MotionBlurSpeed",{get:function(){return this.m_MotionBlurSpeed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MotionBlur",{get:function(){return this.m_MotionBlurSpeed>0},enumerable:!0,configurable:!0}),e.prototype.SetMotionBlur=function(e,t,n){bfcl.Debug.Assert(e>0),bfcl.Debug.Assert(""!=t&&""!=n),this.m_MotionBlurSpeed=e,this.m_NormalSymbolState=t,this.m_MoveSymbolState=n},Object.defineProperty(e.prototype,"FrameRatePerSec",{set:function(e){bfcl.Debug.Assert(!isNaN(e)&&e>0),this.m_FrameRatePerSec=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxSpeed",{get:function(){return this.m_FrameRatePerSec*this.m_FrameRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RollBackFactor",{get:function(){return this.m_RollBackFactor},set:function(e){bfcl.Debug.Assert(!isNaN(e)&&.3>=e&&e>=0),this.m_RollBackFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RollOscillationFactor",{get:function(){return this.m_RollOscillationFactor},set:function(e){bfcl.Debug.Assert(!isNaN(e)&&1>=e&&e>=.1),this.m_RollOscillationFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AccelerationInterval",{get:function(){return this.m_AccelerationInterval},set:function(e){bfcl.Debug.Assert(!isNaN(e)&&2>=e&&e>0),this.m_AccelerationInterval=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Acceleration",{get:function(){return this.MaxSpeed/this.m_FrameRate/this.m_AccelerationInterval},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FrameRate",{get:function(){return this.m_FrameRate},set:function(e){bfcl.Debug.Assert(!isNaN(e)&&e>0),this.m_FrameRate=e},enumerable:!0,configurable:!0}),e}();t.Parameter=n,__reflect(n.prototype,"slot.Controls.Reel.Parameter");var i=function(i){function o(e){var r=i.call(this)||this;return r.m_ReelNum=0,r.m_State=o.STATUS_NONE,r.m_Speed=0,r.m_OnStopSpeed=0,r.m_BackFillSpeed=0,r.m_Ts=0,r.m_StartGapBetweenReel=0,r.m_StopGapBetweenReel=0,r.m_Containers=new bfcl.Collections.Dictionary,r.m_Symbols=[],r.m_StopPosList=[],r.m_CurContainerType=t.Containers.Types.Roll,r.m_Parameter=new n,r.m_Factory=e,r}return __extends(o,i),Object.defineProperty(o.prototype,"DisplayRowCount",{get:function(){return null==this.ReelContainer?0:this.ReelContainer.DisplayRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"DefaultContainerType",{set:function(e){this.m_CurContainerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"StartGapBetweenReel",{set:function(e){bfcl.Debug.Assert(!isNaN(e)&&e>=0),this.m_StartGapBetweenReel=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"StopGapBetweenReel",{set:function(e){bfcl.Debug.Assert(!isNaN(e)&&e>=0),this.m_StopGapBetweenReel=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ReelNum",{get:function(){return this.m_ReelNum},set:function(e){bfcl.Debug.Assert(!isNaN(e)&&e>=0),this.m_ReelNum=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"StopPosList",{set:function(e){this.m_StopPosList=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"DemoSymbolCodes",{set:function(e){null!=this.ReelContainer&&(this.ReelContainer.DemoSymbolCodes=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ReelContainer",{get:function(){return 0==this.m_Containers.Count?null:this.m_Containers.GetValue(this.m_CurContainerType)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Parameter",{get:function(){return null==this.ReelContainer?this.m_Parameter:this.ReelContainer.Parameter},enumerable:!0,configurable:!0}),o.prototype.Perload=function(e){this.StopPosList=e;for(var t=0;t<this.m_Containers.Count;t++)this.m_Containers.GetValuePair(t).Value.Clear();this.ReelContainer.Perload(this.m_StopPosList)},o.prototype.RegisterContainer=function(e,n,i,o){bfcl.Debug.Assert(!this.m_Containers.ContainsKey(e));var r;switch(e){case t.Containers.Types.Roll:r=new t.Containers.RollContainer(this.m_Symbols,n,i,o,this.m_Factory,this);break;case t.Containers.Types.Drop:r=new t.Containers.DropContainer(this.m_Symbols,n,i,o,this.m_Factory,this)}this.m_Containers.Add(r.Type,r)},o.prototype.GetSymbolByRow=function(e){return this.ReelContainer.GetSymbolByRow(e)},o.prototype.Run=function(e,n,i){(this.m_State==o.STATUS_NONE||this.m_State==o.STATUS_STOP)&&(bfcl.Debug.Assert(this.m_Containers.ContainsKey(e)),void 0!=n&&(bfcl.Debug.Assert(n.length>0),this.StopPosList=n),e==t.Containers.Types.Drop&&(bfcl.Debug.Assert(n.length==i.length),this.RemovesAt(i)),this.m_State=o.STATUS_ROLL_BACK,this.m_CurContainerType=e,this.m_BackFillSpeed=this.Parameter.MaxSpeed*this.Parameter.RollBackFactor,egret.Tween.get(this).wait(this.m_StartGapBetweenReel).call(this.OnCallRun))},o.prototype.OnCallRun=function(){this.m_Ts=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this),this.addEventListener(e.Event.ReelContainer.FINALLY_PUSH_A_SYMBOL,this.OnSymbolFinallyPushed,this),this.dispatchEvent(new e.Event.Reel(e.Event.Reel.ROLL_BACK,this.m_ReelNum))},o.prototype.OnEnterFrame=function(n){var i=egret.getTimer(),r=Math.abs(i-this.m_Ts);this.m_Ts=i;var s=Math.floor(r/(1e3/this.Parameter.FrameRate));0>=s&&(s=1);for(var a=0;s>a;a++){if(this.Governor(),this.ReelContainer.Move(this.m_Speed),this.m_State==o.STATUS_STOP_OSCILLATION&&this.m_BackFillSpeed<=0)return this.StopImmediatly(),void this.dispatchEvent(new e.Event.Reel(e.Event.Reel.STOPPED,this.m_ReelNum));if(this.m_State==o.STATUS_STOP_WATTING_IN_PLACE&&this.ReelContainer.IsInPlace)return this.m_State=o.STATUS_STOP_OSCILLATION,void(this.m_BackFillSpeed=this.ReelContainer.OverflowY);if(this.m_State==o.STATUS_ROLL_BACK&&this.m_BackFillSpeed<0){if(this.m_CurContainerType==t.Containers.Types.Roll&&this.m_Speed<this.ReelContainer.Parameter.MaxSpeed)return;return this.m_State=o.STATUS_ROLLING,this.dispatchEvent(new e.Event.Reel(e.Event.Reel.ROLLING,this.m_ReelNum)),void(this.m_CurContainerType==t.Containers.Types.Drop&&this.Stop())}}},o.prototype.OnSymbolFinallyPushed=function(t){this.dispatchEvent(new e.Event.Reel(e.Event.Reel.FINALLY_PUSH_A_SYMBOL,this.m_ReelNum,t.Symbol,t.Index))},o.prototype.Governor=function(){switch(this.m_State){case o.STATUS_ROLLING:case o.STATUS_STOP_DELAYING:case o.STATUS_STOP_WATTING_IN_PLACE:this.m_Speed+=this.Parameter.Acceleration;break;case o.STATUS_ROLL_BACK:var e=this.Parameter.Acceleration;this.m_BackFillSpeed-=e,this.m_BackFillSpeed>0?this.m_Speed-=this.Parameter.Acceleration:this.m_Speed+=this.Parameter.Acceleration;break;case o.STATUS_STOP_OSCILLATION:var e=this.m_OnStopSpeed*this.Parameter.RollOscillationFactor;e<=this.Parameter.Acceleration&&(e=this.Parameter.Acceleration),this.m_Speed-=e,this.m_BackFillSpeed+=this.m_Speed,this.m_Speed<0&&this.m_BackFillSpeed<0&&(this.m_Speed-=this.m_BackFillSpeed,this.m_BackFillSpeed=0);break;default:bfcl.Debug.Assert(!1)}this.m_Speed>this.Parameter.MaxSpeed&&(this.m_Speed=this.Parameter.MaxSpeed),this.m_Speed<-this.Parameter.MaxSpeed&&(this.m_Speed=-this.Parameter.MaxSpeed)},o.prototype.Stop=function(e){this.m_State==o.STATUS_ROLLING&&(this.m_State=o.STATUS_STOP_DELAYING,egret.Tween.get(this).wait(this.m_StopGapBetweenReel).call(this.OnCallStop))},o.prototype.OnCallStop=function(){this.m_State=o.STATUS_STOP_WATTING_IN_PLACE,this.ReelContainer.SetFinallyList(this.m_StopPosList),this.m_OnStopSpeed=this.m_Speed,this.dispatchEvent(new e.Event.Reel(e.Event.Reel.STOPPING,this.m_ReelNum))},o.prototype.StopImmediatly=function(){this.m_State!=o.STATUS_STOP&&(this.RemoveEvent(),this.ReelContainer.Rearrange(),this.m_State=o.STATUS_STOP,this.m_Speed=0)
},o.prototype.RemovesAt=function(e){bfcl.Debug.Assert(this.m_State==o.STATUS_STOP),this.m_CurContainerType=t.Containers.Types.Drop,this.ReelContainer.RemovesAt(e)},o.prototype.RemoveEvent=function(){this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this),this.hasEventListener(e.Event.ReelContainer.FINALLY_PUSH_A_SYMBOL)&&this.removeEventListener(e.Event.ReelContainer.FINALLY_PUSH_A_SYMBOL,this.OnSymbolFinallyPushed,this)},o.prototype.Dispose=function(){for(egret.Tween.removeTweens(this),this.RemoveEvent();this.m_Containers.Count>0;){var e=this.m_Containers.RemoveAt(0).Value;null!=e&&(e.Dispose(),e=null)}},o.STATUS_NONE=0,o.STATUS_STOP=1,o.STATUS_ROLL_BACK=2,o.STATUS_ROLLING=3,o.STATUS_STOP_DELAYING=4,o.STATUS_STOP_WATTING_IN_PLACE=5,o.STATUS_STOP_OSCILLATION=6,o}(eui.Component);t.BaseReel=i,__reflect(i.prototype,"slot.Controls.Reel.BaseReel",["eui.UIComponent","egret.DisplayObject","slot.Interface.IReel"])}(n=t.Reel||(t.Reel={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(i){var o=t.call(this)||this;o.m_Reels=[],o.m_RunningReelNums=[],o.m_StoppingReelNums=[],o.m_State=n.STATUS_NONE,o.m_ActionScript=[];for(var r=0;i>r;r++)o.m_ActionScript.push(new e.Property.ActionScript(e.Controls.Reel.Containers.Types.Roll,r));return o}return __extends(n,t),n.prototype.Push=function(t){bfcl.Debug.Assert(null!=t),this.m_Reels.push(t),t.addEventListener(e.Event.Reel.ROLLING,this.OnReelRolling,this),t.addEventListener(e.Event.Reel.STOPPED,this.OnReelStopped,this),t.addEventListener(e.Event.Reel.STOPPING,this.OnReelStopping,this),this.addChild(t)},n.prototype.GetReel=function(e){return bfcl.Debug.Assert(e>=0&&e<this.m_Reels.length),this.m_Reels[e]},n.prototype.SetStartGapBetweenReel=function(e){if(e instanceof Array){bfcl.Debug.Assert(e.length==this.m_Reels.length);for(var t=0;t<this.m_Reels.length;t++)this.m_Reels[t].StartGapBetweenReel=e[t]}else if("number"==typeof e){bfcl.Debug.Assert(e>=0);for(var t=0;t<this.m_Reels.length;t++)this.m_Reels[t].StartGapBetweenReel=t*e}},n.prototype.SetStopGapBetweenReel=function(e){if(e instanceof Array){bfcl.Debug.Assert(e.length==this.m_Reels.length);for(var t=0;t<this.m_Reels.length;t++)this.m_Reels[t].StopGapBetweenReel=e[t]}else if("number"==typeof e){bfcl.Debug.Assert(e>=0);for(var t=0;t<this.m_Reels.length;t++)this.m_Reels[t].StopGapBetweenReel=t*e}},n.prototype.SetToStatus=function(e,t,n){bfcl.Debug.Assert(e<this.m_Reels.length),bfcl.Debug.Assert(t<this.m_Reels[e].DisplayRowCount),this.m_Reels[e].GetSymbolByRow(t).State=n},n.prototype.GetSymbol=function(e,t){return bfcl.Debug.Assert(e<this.m_Reels.length),bfcl.Debug.Assert(t<this.m_Reels[e].DisplayRowCount),this.m_Reels[e].GetSymbolByRow(t)},n.prototype.UpdateStopPosList=function(){for(var e=0,t=this.m_ActionScript;e<t.length;e++){var n=t[e];this.m_Reels[n.ReelNum].StopPosList=n.StopPosList}},n.prototype.Roll=function(){if(this.m_State==n.STATUS_NONE||this.m_State==n.STATUS_STOPPED){this.m_State=n.STATUS_ROLLING,this.m_RunningReelNums=[],this.m_StoppingReelNums=[];for(var e=0,t=this.m_ActionScript;e<t.length;e++){var i=t[e];this.m_RunningReelNums.push(i.ReelNum),this.m_StoppingReelNums.push(i.ReelNum),this.m_Reels[i.ReelNum].Run(i.Type,i.StopPosList,i.RemovePosList)}}},n.prototype.OnReelRolling=function(t){var i=t.ReelNum,o=this.m_RunningReelNums.indexOf(i);bfcl.Debug.Assert(-1!=o),this.m_RunningReelNums.splice(o,1),this.dispatchEvent(new e.Event.Reel(e.Event.Reel.ROLLING,i)),0==this.m_RunningReelNums.length&&(this.m_State=n.STATUS_ROLLED,this.dispatchEvent(new e.Event.Reel(e.Event.Reel.ALL_ROLLING,i)))},n.prototype.StopAt=function(e){this.m_State==n.STATUS_ROLLED&&this.m_Reels[e].Stop()},n.prototype.StopAll=function(){if(this.m_State==n.STATUS_ROLLED){this.m_State=n.STATUS_STOPPING;for(var e=0,t=this.m_ActionScript;e<t.length;e++){var i=t[e];this.m_Reels[i.ReelNum].Stop()}}},n.prototype.StopImmediatly=function(){if(this.m_State!=n.STATUS_STOPPED){this.m_State=n.STATUS_STOPPED;for(var e=0,t=this.m_Reels;e<t.length;e++){var i=t[e];i.StopImmediatly()}}},n.prototype.OnReelStopping=function(t){var n=this.m_StoppingReelNums.indexOf(t.ReelNum);bfcl.Debug.Assert(-1!=n),this.dispatchEvent(new e.Event.Reel(e.Event.Reel.STOPPING,t.ReelNum))},n.prototype.OnReelStopped=function(t){var i=t.ReelNum,o=this.m_StoppingReelNums.indexOf(i);bfcl.Debug.Assert(-1!=o),this.dispatchEvent(new e.Event.Reel(e.Event.Reel.STOPPED,i)),this.m_StoppingReelNums.splice(o,1),this.m_StoppingReelNums.length<=0&&(this.m_State=n.STATUS_STOPPED,this.dispatchEvent(new e.Event.Reel(e.Event.Reel.ALL_STOPPED,i)))},n.prototype.Clear=function(){this.StopImmediatly()},n.prototype.Dispose=function(){for(var t=0,n=this.m_Reels;t<n.length;t++){var i=n[t];i.hasEventListener(e.Event.Reel.STOPPED)&&i.removeEventListener(e.Event.Reel.STOPPED,this.OnReelStopped,this),i.hasEventListener(e.Event.Reel.STOPPING)&&i.removeEventListener(e.Event.Reel.STOPPING,this.OnReelStopping,this),this.removeChild(i),i.Dispose()}},n.STATUS_NONE=0,n.STATUS_ROLLING=1,n.STATUS_ROLLED=2,n.STATUS_STOPPING=3,n.STATUS_STOPPED=4,n}(eui.Component);t.Machine=n,__reflect(n.prototype,"slot.Controls.Reel.Machine",["eui.UIComponent","egret.DisplayObject"])}(n=t.Reel||(t.Reel={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t;!function(t){var n;!function(e){e[e.Roll=0]="Roll",e[e.Drop=1]="Drop"}(n=t.Types||(t.Types={}));var i=function(){function t(t,i,o,r,s,a,l){this.m_RowCount=0,this.m_RowHeight=0,this.m_Leftover=[],this.m_OverflowY=0,this.m_DemoSymbolCodes=[],this.m_Parameter=new e.Parameter,this.m_Type=n.Roll,this.m_Type=t,this.m_Symbols=o,this.m_Height=r,this.m_RowCount=s,this.m_RowHeight=r/s,this.m_Parameter=a,this.m_Factory=l,this.m_EventDispatcher=i}return Object.defineProperty(t.prototype,"Type",{get:function(){return this.m_Type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parameter",{get:function(){return this.m_Parameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DemoSymbolCodes",{set:function(e){this.m_DemoSymbolCodes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RowCount",{get:function(){return this.m_RowCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DisplayRowCount",{get:function(){return this.RowCount+2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Height",{get:function(){return this.m_Height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Leftover",{get:function(){return this.m_Leftover},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OverflowY",{get:function(){return this.m_OverflowY},enumerable:!0,configurable:!0}),t.prototype.Perload=function(e){if(null==e){e=[];for(var t=0;t<this.DisplayRowCount;t++)e.push(this.GetRandSymbolCode())}bfcl.Debug.Assert(e.length==this.DisplayRowCount),this.Clear();for(var n=0,i=e;n<i.length;n++){var o=i[n];this.Push(o)}},t.prototype.SetFinallyList=function(e){switch(this.Type){case n.Roll:bfcl.Debug.Assert(e.length==this.DisplayRowCount);break;case n.Drop:bfcl.Debug.Assert(e.length>0&&e.length<=this.DisplayRowCount)}this.m_Leftover=bfcl.Utils.Array.Clone(e)},t.prototype.Rearrange=function(){for(var e=0;e<this.m_Symbols.length;e++)this.m_Symbols[e].y=0==e?this.Height:this.m_Symbols[e-1].y-this.GetRowHeight(this.m_Symbols[e].RowHeight)},t.prototype.MotionBlurModeIfNecessary=function(e){if(this.Parameter.MotionBlur)for(var t=0,n=this.m_Symbols;t<n.length;t++){var i=n[t];e>=this.Parameter.MotionBlurSpeed?i.State==this.Parameter.NormalSymbolState&&(i.State=this.Parameter.MoveSymbolState):i.State==this.Parameter.MoveSymbolState&&(i.State=this.Parameter.NormalSymbolState)}},t.prototype.GetRowHeight=function(e){return-1==e?this.m_RowHeight:e},t.prototype.GetSymbolByRow=function(e){return bfcl.Debug.Assert(e>=0&&e<this.m_Symbols.length),this.m_Symbols[e]},t.prototype.GetRandSymbolCode=function(){if(this.m_DemoSymbolCodes.length>0)return this.m_DemoSymbolCodes.splice(0,1)[0];var e=Math.floor(Math.random()*this.m_Factory.Lib.Count);return this.m_Factory.Lib.SymbolCode(e)},t.prototype.RemovesAt=function(e){bfcl.Debug.Assert(this.m_Type==n.Drop),bfcl.Debug.Assert(e.length>0);for(var t=0,i=e;t<i.length;t++){var o=i[t];this.RemoveAt(o)}},t.prototype.RemoveAt=function(e){bfcl.Debug.Assert(this.m_Symbols.length>0),this.m_Factory.Recycle(this.m_Symbols.splice(e,1)[0])},t.prototype.Clear=function(){for(this.m_DemoSymbolCodes=[],this.m_Leftover=[];this.m_Symbols.length>0;)this.m_Factory.Recycle(this.m_Symbols.splice(0,1)[0])},t.prototype.Dispose=function(){this.Clear(),this.m_Factory.Dispose(),this.m_Factory=null,this.m_Symbols=null},t}();t.BaseContainer=i,__reflect(i.prototype,"slot.Controls.Reel.Containers.BaseContainer",["slot.Interface.IContainer"])}(t=e.Containers||(e.Containers={}))}(t=e.Reel||(e.Reel={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.skinName=t,n}return __extends(t,e),t}(eui.Component);e.LayerUI=t,__reflect(t.prototype,"slot.Controls.Reel.Containers.LayerUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Containers||(e.Containers={}))}(t=e.Reel||(e.Reel={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Status=new bfcl.Collections.Dictionary,t.m_Layers=[],t.m_Current="",t}return __extends(t,e),Object.defineProperty(t.prototype,"RowHeight",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"State",{get:function(){return this.m_Current},set:function(e){this.SetState(e)},enumerable:!0,configurable:!0}),t.prototype.SetState=function(e){if(this.m_Current!=e){this.m_Current=e;for(var t=0;t<this.m_Status.Count;t++){var n=this.m_Status.GetValuePair(t);n.Key!=this.m_Current?n.Value.Stop():(n.Value.Play(),i=n.Value.Layer)}}var i=this.m_Status.GetValue(this.m_Current).Layer;this.m_Layers.length>0&&i<this.m_Layers.length&&this.m_Layers[i].Container.addChildAt(this,0)},t.prototype.RegisterStatus=function(e,t){this.m_Status.ContainsKey(e)||this.m_Status.Add(e,t)},t.prototype.SetLayer=function(e,t){this.GetSwitcher(e).Layer=t},t.prototype.RegisterLayers=function(e){this.m_Layers=e},t.prototype.GetSwitcher=function(e){return bfcl.Debug.Assert(this.m_Status.ContainsKey(e)),this.m_Status.GetValue(e)},t.prototype.Dispose=function(){this.m_Status.Clear(),this.m_Status=null,this.m_Layers=null},t}(eui.Component);e.BaseSymbol=t,__reflect(t.prototype,"slot.Controls.Symbol.BaseSymbol",["eui.UIComponent","egret.DisplayObject","slot.Interface.ISymbolUI"])}(t=e.Symbol||(e.Symbol={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(game.Base.Context);e.Context=t,__reflect(t.prototype,"slot.Game.Context")}(t=e.Game||(e.Game={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Clear=function(){e.prototype.Clear.call(this),this.ScoreBar.Clear(),this.BigWin.Clear(),this.Blackboard.Clear()},t}(game.Base.Display);e.Display=t,__reflect(t.prototype,"slot.Game.Display")}(t=e.Game||(e.Game={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(game.Base.Status);e.Status=t,__reflect(t.prototype,"slot.Game.Status")}(t=e.Game||(e.Game={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Clear=function(){e.prototype.Clear.call(this)},t}(game.Base.Worker);e.Worker=t,__reflect(t.prototype,"slot.Game.Worker")}(t=e.Game||(e.Game={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.Entrance=new e.BlackboardProperty,n.Exeunt=new e.BlackboardProperty,n}return __extends(n,t),n}(bfcl.Property.BaseProperty);e.BlackboardSwitcherProperty=t,__reflect(t.prototype,"slot.Property.BlackboardSwitcherProperty")}(t=e.Property||(e.Property={}))}(slot||(slot={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(i,o,r){var s=n.call(this,e.Config.Reel.ReelCount)||this;s.m_SymbolPropertys=new bfcl.Collections.Dictionary,s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Ariel,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Ariel,"md_icon_01_png","md_icon_01_blur_png","md_Icon_Animation_01",2.5,24,210,-24,-40)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Fish_Red,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Fish_Red,"md_icon_04_png","md_icon_04_blur_png","md_Icon_Animation_04",2.5,24,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Fish_Blue,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Fish_Blue,"md_icon_05_png","md_icon_05_blur_png","md_Icon_Animation_05",3,18,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Fish_Star,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Fish_Star,"md_icon_06_png","md_icon_06_blur_png","md_Icon_Animation_06",3,18,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Actinia,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Actinia,"md_icon_08_png","md_icon_08_blur_png","md_Icon_Animation_08",3,18,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Snail,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Snail,"md_icon_07_png","md_icon_07_blur_png","md_Icon_Animation_07",3,20,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_A,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_A,"md_icon_A_png","md_icon_A_blur_png","md_Icon_Animation_A",3,20,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_K,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_K,"md_icon_K_png","md_icon_K_blur_png","md_Icon_Animation_K",3,20,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_Q,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_Q,"md_icon_Q_png","md_icon_Q_blur_png","md_Icon_Animation_Q",3,20,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_J,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_J,"md_icon_J_png","md_icon_J_blur_png","md_Icon_Animation_J",3,20,210,-24,-46)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Wild,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Wild,"md_icon_wild_png","md_icon_wild_blur_png","md_Icon_Animation_Wild",3,18,210,-40,-70)),s.m_SymbolPropertys.Add(e.Enum.SymbolCodes.FreeGame,new e.Property.SymbolProperty(e.Enum.SymbolCodes.FreeGame,"md_icon_FG_png","md_icon_FG_blur_png","md_Icon_Animation_FG",3,20,210,-24,-50));for(var a=0;a<s.m_SymbolPropertys.Count;a++){var l=s.m_SymbolPropertys.GetValuePair(a);l.Key==e.Enum.SymbolCodes.FreeGame?l.Value.NormalLayer=1:l.Value.NormalLayer=0,l.Value.WinLayer=2}for(var a=0;a<e.Config.Reel.ReelCount;a++){for(var m=[],u=0;u<r.length;u++){var h=1==u?320:300,c=1==u?-(h-300)/2:0,_=new t.LayerUI(c,h,u<r.length-1);_.x=i+298*a,_.y=o,m.push(_),r[u].addChild(_)}s.Push(s.GenerateAReel(a,m,a>0&&a<e.Config.Reel.ReelCount-1))}return s.SetStartGapBetweenReel(100),s.SetStopGapBetweenReel(0),s}return __extends(i,n),Object.defineProperty(i.prototype,"IsSpinning",{get:function(){return this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLING||this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLED},enumerable:!0,configurable:!0}),i.prototype.Init=function(t,n){for(var i=slot.Utils.Array.StrToPosList(t,n,e.Config.Reel.ReelCount,e.Config.Reel.RowCount),o=0;o<e.Config.Reel.ReelCount;o++)this.GetReel(o).Perload(i[o])},i.prototype.GenerateAReel=function(n,i,o){void 0===o&&(o=!1);for(var r=new slot.Library.SymbolLibrary,s=0,a=this.m_SymbolPropertys.Count;a>s;s++){var l=this.m_SymbolPropertys.GetValuePair(s);(l.Key!=e.Enum.SymbolCodes.FreeGame||o)&&r.Register(l.Key,l.Value)}return new t.ReelUI(n,e.Config.Reel.RowCount,i,r)},i.prototype.StopPosList=function(t){for(var n=0;n<e.Config.Reel.ReelCount;n++)this.m_ActionScript[n].StopPosList=t[n];this.UpdateStopPosList()},i.prototype.DemoReels=function(t){for(var n=0;n<e.Config.Reel.ReelCount;n++)this.GetReel(n).DemoSymbolCodes=t[n]},i.prototype.Foucs=function(n,i){for(var o=0,r=e.Config.Reel.ReelCount;r>o;o++)for(var s=0,a=e.Config.Reel.RowCount+2;a>s;s++){var l=0==s||s==a-1?-1:(3-s)*e.Config.Reel.ReelCount+o;this.SetToStatus(o,s,-1==n.indexOf(l)?t.SymbolUI.STATUS_DARK:i)}},i.prototype.ShowWin=function(e){this.Foucs(e,t.SymbolUI.STATUS_WIN)},i.prototype.Clear=function(){for(var i=0,o=e.Config.Reel.ReelCount;o>i;i++)for(var r=0,s=e.Config.Reel.RowCount+2;s>r;r++)this.SetToStatus(i,r,t.SymbolUI.STATUS_NORMAL);n.prototype.Clear.call(this)},i}(slot.Controls.Reel.Machine);t.ReelMachineUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.ReelMachineUI")}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e[e.NONE=-1]="NONE",e[e.CONFIRM=0]="CONFIRM",e[e.CANCEL=1]="CANCEL"}(t=e.Buttons||(e.Buttons={}))}(t=e.MessageBoxUI||(e.MessageBoxUI={}))}(t=e.Enum||(e.Enum={}))}(bfcl||(bfcl={})),function(e){var t;!function(t){var n=function(n){function i(){var i=n.call(this)||this;i.m_BG=new eui.Image,i.m_Text=new eui.Label,i.m_BtnGroup=new eui.Group,i.m_Buttons=new e.Collections.Dictionary,i.m_ButtonCodes=new e.Collections.Dictionary,i.m_BG.texture=RES.getRes("msg_bestgames_ui_png"),i.addChild(i.m_BG),i.m_Text.width=i.m_BG.width,i.m_Text.height=150,i.m_Text.y=20,i.m_Text.fontFamily="Bahnschrift",i.m_Text.size=45,i.m_Text.bold=!0,i.m_Text.textAlign=egret.HorizontalAlign.CENTER,i.m_Text.verticalAlign=egret.VerticalAlign.MIDDLE,i.addChild(i.m_Text),i.m_Buttons.Add(e.Enum.MessageBoxUI.Buttons.CONFIRM,new t.ButtonUI),i.m_Buttons.Add(e.Enum.MessageBoxUI.Buttons.CANCEL,new t.ButtonUI),i.m_ButtonCodes.Add(e.Enum.MessageBoxUI.Buttons.CONFIRM,"BUTTON_OK"),i.m_ButtonCodes.Add(e.Enum.MessageBoxUI.Buttons.CANCEL,"BUTTON_CANCEL");var o=new eui.HorizontalLayout;o.horizontalAlign=egret.HorizontalAlign.CENTER,o.gap=40,i.m_BtnGroup.layout=o,i.m_BtnGroup.y=240,i.m_BtnGroup.width=i.m_BG.width;for(var r=0;r<i.m_Buttons.Count;r++){var s=i.m_Buttons.GetValuePair(r),a=s.Value;a.Serial=s.Key,a.Init("msg_bestgames_btn0"+r.toString()+"_png","msg_bestgames_btn0"+r.toString()+"_png");var l=new eui.Label;l.fontFamily="Bahnschrift",l.bold=!0,l.size=33,a.AddLabel(l),a.addEventListener(egret.TouchEvent.TOUCH_TAP,i.OnBtnClick,i)}return i.addChild(i.m_BtnGroup),i.Clear(),i}return __extends(i,n),Object.defineProperty(i.prototype,"LocalizationManager",{set:function(t){e.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=t;for(var n=0;n<this.m_Buttons.Count;n++){var i=this.m_Buttons.GetValuePair(n);this.m_LocalizationManager.Bind(i.Value.Label,e.Constants.Propertys.Text,this.m_ButtonCodes.GetValue(i.Key))}},enumerable:!0,configurable:!0}),i.prototype.OnBtnClick=function(e){for(var t=0,n=this.m_Content.btns;t<n.length;t++){var i=n[t];if(i.id==e.currentTarget.Serial)return i.func(i.id),void(this.visible=!1)}},i.prototype.Show1=function(e,t){this.Clear(),this.m_Content.text.code=e,this.m_Content.text.color=t,this.Refresh()},i.prototype.Show2=function(e,t,n){this.Clear(),this.m_Content.text.code=e,this.m_Content.text.params=t,this.m_Content.text.color=n,this.m_Content.text.isBindLocalization=!0,this.Refresh()},i.prototype.Show3=function(e,t,n){this.Clear(),this.m_Content.text.code=e,this.m_Content.text.color=n,this.m_Content.btns=t,this.Refresh()},i.prototype.Show4=function(e,t,n,i){this.Clear(),this.m_Content.text.code=e,this.m_Content.text.params=n,this.m_Content.text.color=i,this.m_Content.text.isBindLocalization=!0,this.m_Content.btns=t,this.Refresh()},i.prototype.Show99=function(e){this.Clear(),this.m_Content=e,this.Refresh()},i.prototype.Refresh=function(){this.m_Content.text.color&&(this.m_Text.textColor=this.m_Content.text.color),this.m_Content.text.isBindLocalization?this.m_LocalizationManager.Bind(this.m_Text,e.Constants.Propertys.Text,this.m_Content.text.code,this.m_Content.text.params):this.m_Text.text=this.m_Content.text.code.toString();for(var t=0,n=this.m_Content.btns;t<n.length;t++){var i=n[t];this.m_BtnGroup.addChild(this.m_Buttons.GetValue(i.id))}this.visible=!0},i.prototype.Hide=function(){this.Clear()},i.prototype.Clear=function(){for(this.m_Content={text:{code:""}},this.visible=!1,this.m_Text.textColor=16777215,null!=this.m_LocalizationManager&&this.m_LocalizationManager.UnBind(this.m_Text);this.m_BtnGroup.numChildren>0;)this.m_BtnGroup.removeChildAt(0)},i.prototype.Dispose=function(){this.m_Content=null;for(var e=0;e<this.m_Buttons.Count;e++){var t=this.m_Buttons.GetValuePair(e).Value;this.m_BtnGroup.removeChild(t),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClick,this),t.Dispose(),t=null}this.m_Buttons.Clear(),this.m_Buttons=null,this.m_ButtonCodes.Clear(),this.m_ButtonCodes=null,this.removeChild(this.m_BtnGroup),this.m_BtnGroup=null,this.removeChild(this.m_BG),this.m_BG=null,this.removeChild(this.m_Text),this.m_Text=null},i}(eui.Component);t.MessageBoxUI=n,__reflect(n.prototype,"bfcl.Controls.MessageBoxUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var i=null!==n&&n.apply(this,arguments)||this;return i.m_BG=new eui.Image,i.m_Title=new eui.Label,i.m_BgmBar=new t.SlideBarUI({enabled:"msg_sound_icon00_png",disabled:"msg_sound_icon01_png"},{res:"msg_sound_bar01_png"},{res:"msg_sound_bar02_png"},{res:"msg_sound_bar00_png",x:-18,y:-8}),i.m_SoundBar=new t.SlideBarUI({enabled:"msg_sound_icon02_png",disabled:"msg_sound_icon03_png"},{res:"msg_sound_bar01_png"},{res:"msg_sound_bar02_png"},{res:"msg_sound_bar00_png",x:-18,y:-8}),i.m_BtnOK=new e.Controls.ButtonUI,i}return __extends(i,n),Object.defineProperty(i.prototype,"AudioManager",{set:function(t){e.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"IsMute",{get:function(){return null==this.m_BgmBar||null==this.m_SoundBar?!1:this.m_BgmBar.IsMute&&this.m_SoundBar.IsMute},enumerable:!0,configurable:!0}),i.prototype.SetMuteMode=function(e){this.m_BgmBar.SetMuteMode(e),this.m_SoundBar.SetMuteMode(e),this.Synchronize()},Object.defineProperty(i.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_BgmBar.ListenEvent=this.m_ListenEvent,this.m_SoundBar.ListenEvent=this.m_ListenEvent,this.m_ListenEvent?(this.m_BtnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_BgmBar.addEventListener(e.Event.SlideBar.VALUE_CHANGED,this.OnBgmValueChanged,this),this.m_SoundBar.addEventListener(e.Event.SlideBar.VALUE_CHANGED,this.OnSoundValueChanged,this)):(this.m_BtnOK.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnBtnOkClick,this),this.m_BgmBar.removeEventListener(e.Event.SlideBar.VALUE_CHANGED,this.OnBgmValueChanged,this),this.m_SoundBar.removeEventListener(e.Event.SlideBar.VALUE_CHANGED,this.OnSoundValueChanged,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_BG.texture=RES.getRes("msg_ui_png"),this.m_Title.width=700,this.m_Title.fontFamily="Tahoma",this.m_Title.textColor=16756224,this.m_Title.size=70,this.m_Title.bold=!0,this.m_Title.textAlign=egret.HorizontalAlign.CENTER,this.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,this.m_Title.x=800-this.m_Title.width/2,this.m_Title.y=80,this.m_Title.text="Sound Setting",this.m_BgmBar.x=330,this.m_BgmBar.y=310,this.m_SoundBar.x=330,this.m_SoundBar.y=560,this.m_BtnOK.Init("msg_bestgames_btn00_png","msg_bestgames_btn00_png"),this.m_BtnOK.x=800-this.m_BtnOK.width/2,this.m_BtnOK.y=760;var e=new eui.Label;e.fontFamily="Bahnschrift",e.text="OK",e.bold=!0,e.size=33,this.m_BtnOK.AddLabel(e),this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_BgmBar),this.addChild(this.m_SoundBar),this.addChild(this.m_BtnOK),this.Clear()},i.prototype.Show=function(){this.visible=this.ListenEvent=!0},i.prototype.Synchronize=function(){this.dispatchEvent(new e.Event.Volume(e.Event.Volume.CHANGED,e.Volume.Type.Bgm,this.m_BgmBar.Percent)),this.dispatchEvent(new e.Event.Volume(e.Event.Volume.CHANGED,e.Volume.Type.Sound,this.m_SoundBar.Percent)),this.dispatchEvent(new e.Event.Volume(e.Event.Volume.CHANGED,e.Volume.Type.Voice,this.m_SoundBar.Percent))},i.prototype.Hide=function(){this.visible=this.ListenEvent=!1},i.prototype.OnBtnOkClick=function(t){this.dispatchEvent(new e.Event.SoundSetting(e.Event.SoundSetting.COMFIRM,this.IsMute)),this.m_AudioManager.PlaySound("button01_mp3"),this.Hide()},i.prototype.OnBgmValueChanged=function(t){this.dispatchEvent(new e.Event.Volume(e.Event.Volume.CHANGED,e.Volume.Type.Bgm,t.Value))},i.prototype.OnSoundValueChanged=function(t){this.dispatchEvent(new e.Event.Volume(e.Event.Volume.CHANGED,e.Volume.Type.Sound,t.Value)),this.dispatchEvent(new e.Event.Volume(e.Event.Volume.CHANGED,e.Volume.Type.Voice,t.Value))},i.prototype.Clear=function(){this.m_BgmBar.Percent=1,this.m_SoundBar.Percent=1,this.Hide()},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_BgmBar),this.removeChild(this.m_SoundBar),this.removeChild(this.m_BtnOK),this.m_BG=null,this.m_Title=null,this.m_BgmBar.Dispose(),this.m_BgmBar=null,this.m_SoundBar.Dispose(),this.m_SoundBar=null,this.m_BtnOK.Dispose(),this.m_BtnOK=null},i}(eui.Component);t.SettingPanelUI=n,__reflect(n.prototype,"bfcl.Controls.Sound.SettingPanelUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Sound||(t.Sound={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(e,i,o,r){var s=n.call(this)||this;return s.m_Image=new eui.Image,s.m_IconRes={enabled:RES.getRes(e.enabled),disabled:RES.getRes(e.disabled)},s.m_Image.texture=s.m_IconRes.enabled,s.m_Bar=new t.SlideBarUI(i,o,r),s.m_Bar.x=s.m_Image.width+15,s.m_Bar.y=s.m_Image.height/2-s.m_Bar.height/2,s.m_Bar.Percent=1,s.addChild(s.m_Bar),s.addChild(s.m_Image),s.Clear(),s}return __extends(i,n),Object.defineProperty(i.prototype,"IsMute",{get:function(){return null==this.m_Bar?!1:0==this.m_Bar.Percent},enumerable:!0,configurable:!0}),i.prototype.SetMuteMode=function(e){this.m_Bar.IsMute=e,this.m_Image.texture=e||0==this.m_Bar.Percent?this.m_IconRes.disabled:this.m_IconRes.enabled},Object.defineProperty(i.prototype,"Percent",{get:function(){return this.m_Bar.Percent},set:function(e){this.m_Bar.Percent=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Bar.ListenEvent=t,this.m_ListenEvent?this.m_Bar.addEventListener(e.Event.SlideBar.VALUE_CHANGED,this.OnValueChanged,this):this.m_Bar.removeEventListener(e.Event.SlideBar.VALUE_CHANGED,this.OnValueChanged,this))},enumerable:!0,configurable:!0}),i.prototype.OnValueChanged=function(t){this.m_Image.texture=0==t.Value?this.m_IconRes.disabled:this.m_IconRes.enabled,this.dispatchEvent(new e.Event.SlideBar(t.type,t.Value))},i.prototype.Clear=function(){this.ListenEvent=!1,this.Percent=0},i.prototype.Dispose=function(){this.removeChild(this.m_Bar),this.removeChild(this.m_Image),this.m_Bar.Dispose(),this.m_Bar=null,this.m_Image=null},i}(eui.Component);n.SlideBarUI=i,__reflect(i.prototype,"bfcl.Controls.Sound.SlideBarUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Sound||(t.Sound={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){function t(e){return new egret.MovieClip(n(e))}function n(e){return i(e).generateMovieClipData()}function i(e){return new egret.MovieClipDataFactory(RES.getRes(e+"_json"),RES.getRes(e+"_png"))}e.MovieClip=t,e.MovieClipData=n,e.MovieClipDataFactory=i}(t=e.Decorator||(e.Decorator={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.CLICK="BounceMenu_CLICK",t}(egret.Event);e.BounceMenu=t,__reflect(t.prototype,"bfcl.Event.BounceMenu")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Checked=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Checked",{get:function(){return this.m_Checked},enumerable:!0,configurable:!0}),t.VALUE_CHANGED="CheckBox_VALUE_CHANGED",t}(egret.Event);e.CheckBox=t,__reflect(t.prototype,"bfcl.Event.CheckBox")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Codepage=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Codepage",{get:function(){return this.m_Codepage},enumerable:!0,configurable:!0}),t.CHANGED="CodePage_CHANGED",t}(egret.Event);e.CodePage=t,__reflect(t.prototype,"bfcl.Event.CodePage")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===n&&(n=-1),void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Serial=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),t.UPGRADE="Digits_UPGRADE",t.FINISHED="Digits_FINISHED",t}(egret.Event);e.Digits=t,__reflect(t.prototype,"bfcl.Event.Digits")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Response=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Response",{get:function(){return this.m_Response},enumerable:!0,configurable:!0}),t.COMPLETE="HttpRequest_COMPLETE",t.ERROR="HttpRequest_ERROR",t}(egret.Event);e.HttpRequest=t,__reflect(t.prototype,"bfcl.Event.HttpRequest")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.CLICK="Loading_CLICK",t}(egret.Event);e.Loading=t,__reflect(t.prototype,"bfcl.Event.Loading")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_GameId=-1,r.m_Type=t,r.m_GameId=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Type",{get:function(){return this.m_Type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GameId",{get:function(){return this.m_GameId},enumerable:!0,configurable:!0}),t.SUCCESS="Login_SUCCESS",t}(egret.Event);e.Login=t,__reflect(t.prototype,"bfcl.Event.Login")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_GameId=n,s.m_Monitorer=i,s}return __extends(t,e),Object.defineProperty(t.prototype,"GameId",{get:function(){return this.m_GameId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Monitorer",{get:function(){return this.m_Monitorer},enumerable:!0,configurable:!0}),t.HttpService="Monitor_HttpService",t}(egret.Event);e.Monitor=t,__reflect(t.prototype,"bfcl.Event.Monitor")
}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Value=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),t.VALUE_CHANGED="SlideBar_VALUE_CHANGED",t}(egret.Event);e.SlideBar=t,__reflect(t.prototype,"bfcl.Event.SlideBar")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_IsMute=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"IsMute",{get:function(){return this.m_IsMute},enumerable:!0,configurable:!0}),t.COMFIRM="SoundSetting_COMFIRM",t}(egret.Event);e.SoundSetting=t,__reflect(t.prototype,"bfcl.Event.SoundSetting")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===n&&(n=-1),void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Pass=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Pass",{get:function(){return this.m_Pass},enumerable:!0,configurable:!0}),t.FINISHED="Timer_FINISHED",t.UPDATE="Timer_UPDATE",t}(egret.Event);e.Timer=t,__reflect(t.prototype,"bfcl.Event.Timer")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_Button=n,s.m_Value=i,s}return __extends(t,e),Object.defineProperty(t.prototype,"Button",{get:function(){return this.m_Button},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),t.BUTTON_CLICK="TopTool_BUTTON_CLICK",t}(egret.Event);e.TopTool=t,__reflect(t.prototype,"bfcl.Event.TopTool")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;return n.m_HttpServices=new e.Collections.Dictionary,n.addEventListener(e.Event.Monitor.HttpService,n.OnBindAMonitorer,n),n}return __extends(n,t),Object.defineProperty(n,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new n),this.m_Instance},enumerable:!0,configurable:!0}),n.prototype.OnBindAMonitorer=function(e){this.m_HttpServices.ContainsKey(e.GameId)?this.m_HttpServices.GetValue(e.GameId).push(e.Monitorer):this.m_HttpServices.Add(e.GameId,[e.Monitorer])},n.prototype.Remove=function(e){if(this.m_HttpServices.ContainsKey(e))for(var t=this.m_HttpServices.Remove(e).Value;t.length>0;){var n=t.splice(0,1)[0];null!=n&&(n.Dispose(),n=null)}},n.prototype.Dispose=function(){for(;this.m_HttpServices.Count>0;)this.Remove(this.m_HttpServices.RemoveAt(this.m_HttpServices.Count-1).Key)},n}(egret.EventDispatcher);t.Tracker=n,__reflect(n.prototype,"bfcl.Event.Tracker")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_Params={},s.m_Params.type=n,s.m_Params.volume=i,s}return __extends(t,e),Object.defineProperty(t.prototype,"Params",{get:function(){return this.m_Params},enumerable:!0,configurable:!0}),t.CHANGED="Volume_CHANGED",t}(egret.Event);e.Volume=t,__reflect(t.prototype,"bfcl.Event.Volume")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Value=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),t.POSITION_CHANGED="VScrollBar_VALUE_CHANGED",t}(egret.Event);e.VScrollBar=t,__reflect(t.prototype,"bfcl.Event.VScrollBar")}(t=e.Event||(e.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(e){e[e.None=0]="None",e[e.Working=1]="Working",e[e.Idle=2]="Idle"}(n||(n={}));var i=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.m_State=n.None,i.m_Sound=new e.Audio.Sound,i.m_ResIndex=-1,i.m_LoopCount=1,i.m_LoopIndex=-1,i.m_Volume=1,i}return __extends(i,t),Object.defineProperty(i.prototype,"IsLoopMode",{get:function(){return this.m_LoopCount<=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Volume",{get:function(){return this.m_Volume},set:function(e){e>this.m_Volume&&e>1&&(e=1),e<this.m_Volume&&0>e&&(e=0),this.m_Volume!=e&&(this.m_Volume=e,this.m_Sound.Volume=e)},enumerable:!0,configurable:!0}),i.prototype.Play=function(e,t){void 0===t&&(t=1),null!=e&&0!=e.length&&(this.Clear(),this.m_Res=e,this.m_LoopCount=t,this.PlayOnce())},i.prototype.PlayOnce=function(){this.RemoveSound(),this.m_ResIndex=(this.m_ResIndex+1)%this.m_Res.length,0==this.m_ResIndex&&this.m_LoopIndex++,this.m_Sound.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.m_Sound.Play(this.m_Res[this.m_ResIndex]),this.m_Sound.Volume=this.m_Volume,this.m_State=n.Working},i.prototype.onSoundComplete=function(e){return this.IsLastResIndex()&&!this.CanNextRound()?(this.RemoveSound(),void this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))):void this.PlayOnce()},i.prototype.IsLastResIndex=function(){return this.m_ResIndex>=this.m_Res.length-1},i.prototype.CanNextRound=function(){return this.IsLoopMode?!0:this.m_LoopIndex<this.m_LoopCount-1},i.prototype.RemoveSound=function(){this.m_Sound.hasEventListener(egret.Event.COMPLETE)&&(this.m_Sound.removeEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.m_Sound.Clear()),this.m_State=n.Idle},i.prototype.Clear=function(){this.RemoveSound(),this.m_State=n.None,this.m_LoopCount=1,this.m_LoopIndex=-1,this.m_ResIndex=-1},i.prototype.Dispose=function(){this.Clear(),this.m_Sound.Dispose(),this.m_Sound=null},i}(egret.EventDispatcher);t.SoundQueue=i,__reflect(i.prototype,"bfcl.Audio.SoundQueue")}(t=e.Audio||(e.Audio={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(n){void 0===n&&(n=1);var i=t.call(this)||this;return i.m_Params=[],i.m_TryCount=1,i.m_IsSending=!1,i.m_ListenEvent=!1,i.m_TryCount=n,i.m_Serial=e.Random.Guid.NewGuid(),i}return __extends(n,t),Object.defineProperty(n.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"JwToken",{set:function(e){this.m_JwToken=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Url",{set:function(t){e.Debug.Assert(t.length>0),this.m_Url=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Params",{set:function(e){this.m_Params=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{set:function(t){e.Debug.Assert(t==egret.HttpMethod.POST||t==egret.HttpMethod.GET),this.m_Method=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SuccessCallback",{set:function(t){e.Debug.Assert(null!=t),this.m_SuccessCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FailureCallback",{set:function(t){e.Debug.Assert(null!=t),this.m_FailureCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_ListenEvent?(this.m_Request.addEventListener(egret.Event.COMPLETE,this.OnComplete,this),this.m_Request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.OnIOError,this),this.m_Request.addEventListener(egret.ProgressEvent.PROGRESS,this.OnProgress,this)):(this.m_Request.removeEventListener(egret.Event.COMPLETE,this.OnComplete,this),this.m_Request.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.OnIOError,this),this.m_Request.removeEventListener(egret.ProgressEvent.PROGRESS,this.OnProgress,this)))},enumerable:!0,configurable:!0}),n.prototype.Send=function(){this.m_IsSending||this.m_TryCount<0||(this.m_TryCount--,null!=this.m_Request&&(this.ListenEvent=!1,this.m_Request=null),this.m_Request=new egret.HttpRequest,this.ListenEvent=!0,this.m_Request.responseType=egret.HttpResponseType.TEXT,this.m_JwToken.trim().length>0&&this.m_Request.setRequestHeader("Authorization","bearer "+this.m_JwToken),this.m_Request.setRequestHeader("Content-Type","application/json"),this.m_Request.open(this.GetUrlStr(),this.m_Method),this.m_Request.send(this.GetSendData()))},n.prototype.GetUrlStr=function(){return this.m_Method==egret.HttpMethod.POST?this.m_Url:this.m_Method==egret.HttpMethod.GET?0==this.m_Params.length?this.m_Url:this.m_Url+"?"+this.m_Params.join("&"):void e.Debug.Assert(!1)},n.prototype.GetSendData=function(){return this.m_Method==egret.HttpMethod.POST?0==this.m_Params.length?"":this.m_Params[0]:this.m_Method==egret.HttpMethod.GET?"":void e.Debug.Assert(!1)},n.prototype.OnComplete=function(e){var t=e.currentTarget;this.m_Request===t&&(this.m_IsSending=!1,this.ListenEvent=!1,this.m_SuccessCallback(t.response))},n.prototype.OnIOError=function(e){var t=e.currentTarget;this.m_Request===t&&(this.m_IsSending=!1,this.ListenEvent=!1,this.m_FailureCallback(e))},n.prototype.OnProgress=function(e){var t=e.currentTarget;this.m_Request!==t},n.prototype.Dispose=function(){null!=this.m_Request&&(this.ListenEvent=!1,this.m_Request=null,this.m_SuccessCallback=null,this.m_FailureCallback=null)},n}(egret.EventDispatcher);t.Task=n,__reflect(n.prototype,"bfcl.Http.Task")}(t=e.Http||(e.Http={}))}(bfcl||(bfcl={}));var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),console.log(kernel.GetVersion()),egret.registerImplementation("eui.IAssetAdapter",new Adapter.AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new Adapter.ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t=this;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,10,,11]),[3,3];case 1:return n.sent(),[4,new Promise(function(e){return new eui.Theme(kernel.Constants.AssetBundleUrl+"resource/default.thm.json",t.stage).once(eui.UIEvent.COMPLETE,e,t)})];case 2:return n.sent(),[3,6];case 3:return[4,RES.loadConfig("default.res.json","resource/")];case 4:return n.sent(),[4,new Promise(function(e){return new eui.Theme("resource/default.thm.json",t.stage).once(eui.UIEvent.COMPLETE,e,t)})];case 5:n.sent(),n.label=6;case 6:return[4,RES.loadGroup("preload",0)];case 7:return n.sent(),[4,RES.loadGroup("Common",0)];case 8:return n.sent(),[4,RES.loadGroup("Loading",0)];case 9:return n.sent(),[3,11];case 10:return e=n.sent(),console.error(e),[3,11];case 11:return[2]}})})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n=this;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),e=!0,[4,RES.getResByUrl("test.txt")["catch"](function(t){e=!1})];case 2:return i.sent(),t=new bfcl.Controls.Login.PanelUI(e),t.once(bfcl.Event.Login.SUCCESS,function(e){n.stage.removeChild(t),t.Dispose(),t=null,new kernel.Main(n.stage,e.GameId)},this),this.stage.addChild(t),[2]}})})},t}(eui.UILayer);__reflect(Main.prototype,"Main");var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e.UNKOWN=-1,e.EN=437,e.TW=950,e.VN=1258,e.Current=e.TW,e}();e.Codepages=t,__reflect(t.prototype,"bfcl.Constants.Codepages")}(t=e.Constants||(e.Constants={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(e){if(null!=e)for(var t=0,n=e;t<n.length;t++){var i=n[t];this.Register(i.codepage,i.text)}}return e.prototype.Register=function(e,t){this.m_packs=this.m_packs||{},this.m_packs[e]=this.m_packs[e]||{},this.m_packs[e]=t},e.prototype.Search=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=this.m_packs[e][t];if(!o)return"{"+t+"}";if(n.length>0)for(var r=n[0],s=r.length,a=0;s>a;a++)o=o.replace("{"+a+"}",r[a]);return o},e.prototype.Dispose=function(){this.m_packs=null},e}();e.Library=t,__reflect(t.prototype,"bfcl.Localization.Library",["bfcl.Interface.ILibrary"])}(t=e.Localization||(e.Localization={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(n){var i=t.call(this)||this;return i.m_Codepage=e.Constants.Codepages.UNKOWN,i.m_DataBindings=new e.Collections.Dictionary,i.m_Libs=n,e.Event.Tracker.Instance.addEventListener(e.Event.CodePage.CHANGED,i.OnCodepageChanged,i),i}return __extends(n,t),Object.defineProperty(n,"Common",{get:function(){return null==this.m_Common,this.m_Common},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CodePage",{set:function(e){if(this.m_Codepage!=e){this.m_Codepage=e;for(var t=0;t<this.m_DataBindings.Count;t++){var n=this.m_DataBindings.GetValuePair(t);this.SetValue(n.Key,n.Value)}}},enumerable:!0,configurable:!0}),n.prototype.OnCodepageChanged=function(e){this.CodePage=e.Codepage},n.prototype.Bind=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=this.CreateAKeys(e,t),s=this.CreateAParams(n,i);this.m_DataBindings.Add(r,s),this.SetValue(r,s)},n.prototype.CreateAKeys=function(e,t){var n={};return n.ui=e,n.property=t,n},n.prototype.CreateAParams=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i={};i.code=e;var o=t[0];i.arg=[];for(var r=0,s=o;r<s.length;r++){var a=s[r];i.arg.push(a)}return i},n.prototype.UnBind=function(e){for(var t=[],n=0;n<this.m_DataBindings.Count;n++)this.m_DataBindings.GetKey(n).ui===e&&t.push(n);for(var n=t.length-1;n>=0;n--)this.m_DataBindings.RemoveAt(n)},n.prototype.SetValue=function(t,n){if(this.m_Codepage!=e.Constants.Codepages.UNKOWN)if(t.ui instanceof eui.BitmapLabel)t.property==e.Constants.Propertys.Text&&(t.ui.text=this.m_Libs.Search(this.m_Codepage,n.code,n.arg));else if(t.ui instanceof eui.Label)t.property==e.Constants.Propertys.Text&&(t.ui.text=this.m_Libs.Search(this.m_Codepage,n.code,n.arg));else if(t.ui instanceof e.Controls.ButtonUI){var i=this.m_Libs.Search(this.m_Codepage,n.code,n.arg);if(t.property==e.Constants.Propertys.States){var o=i.split(",");t.ui.Skin(o[0],o[1],o[2])}}else if(t.ui instanceof eui.Button){var i=this.m_Libs.Search(this.m_Codepage,n.code,n.arg);if(t.property==e.Constants.Propertys.Label)t.ui.label=i;else if(t.property==e.Constants.Propertys.States){var o=i.split(",");t.ui.getChildAt(0).source=o[0],t.ui.skin.$stateValues.statesMap.down.overrides[0].value=o[1],t.ui.skin.$stateValues.statesMap.disabled.overrides[0].value=o[2]}}else if(t.ui instanceof eui.Image&&t.property==e.Constants.Propertys.Texture){var r=t.ui;r.texture=RES.getRes(this.m_Libs.Search(this.m_Codepage,n.code,n.arg));var s=r.texture;r.height=s.textureHeight,r.width=s.textureWidth}},n.prototype.Dispose=function(){null!=this.m_Libs&&(this.m_Libs.Dispose(),this.m_Libs=null),null!=this.m_DataBindings&&(this.m_DataBindings.Clear(),this.m_DataBindings=null)},n}(egret.EventDispatcher);t.Manager=n,__reflect(n.prototype,"bfcl.Localization.Manager")}(t=e.Localization||(e.Localization={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},e}();e.Guid=t,__reflect(t.prototype,"bfcl.Random.Guid")}(t=e.Random||(e.Random={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e.Roulette=2,e.Texas=3,e.MineSlot=4,e.GetRichSlot=5,e.ChuckySlot=6,e.DiceGame=7,e.Baccarat=8,e.NiuNiu=9,e.BlackJack=10,e.Suibao=11,e.Wild=12,e.DragonZone=13,e.GemWorkshop=14,e.BigBanker=15,e.TexasCompetition=16,e.CroodsSlot=17,e.LaTaiMeiSlot=20,e.Mahjong=22,e.JPFruitsSlot=23,e.FarmSlot=24,e.HaydnBar=25,e.MermaidSlot=26,e.RagnarokSlot=27,e.Crazy7Slot=28,e.Common=999,e}();e.GameIds=t,__reflect(t.prototype,"bfcl.Constants.GameIds")}(t=e.Constants||(e.Constants={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e.Label="label",e.Text="text",e.States="states",e.Texture="texture",e}();e.Propertys=t,__reflect(t.prototype,"bfcl.Constants.Propertys")}(t=e.Constants||(e.Constants={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(t,n){var i=e.call(this)||this;return i.BtnUpRes=t,i.BtnDownRes=n,i}return __extends(t,e),t}(e.BaseProperty);e.BounceProperty=t,__reflect(t.prototype,"bfcl.Property.BounceProperty")}(t=e.Property||(e.Property={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.LoadGroup=t,__reflect(t.prototype,"bfcl.RESS.LoadGroup")}(t=e.RESS||(e.RESS={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(){function e(){}return e.StrToNumberArray=function(e){for(var t=[],n=e.split(","),i=0,o=n;i<o.length;i++){var r=o[i];t.push(+r)}return t},e.Clone=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},e.Clone2=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.Clone(e))}),n},e.Copy=function(e){var t=this;e.forEach(function(e){t.push(e)})},e.Repeat=function(e,t){for(var n=[],i=0;t>i;i++)n.push(e);return n},e.Range=function(e,t){for(var n=[],i=e;t>=i;i++)n.push(i);return n},e.Count=function(e,t){for(var n=0,i=0;i<e.length;i++)e[i]==t&&n++;return n},e.StrToNumber=function(e){for(var t=[],n=0;n<e.length;n++){t.push([]);for(var i=0,o=e[n].length;o>i;i++)t[n].push(+e[n][i])}return t},e}();e.Array=t,__reflect(t.prototype,"bfcl.Utils.Array")}(t=e.Utils||(e.Utils={}))}(bfcl||(bfcl={}));var demo;!function(e){var t;!function(e){e[e.Loading=0]="Loading",e[e.ReelMachine=1]="ReelMachine",e[e.BigWin=2]="BigWin",e[e.Test=3]="Test",e[e.Button=4]="Button",e[e.ScoreBar=5]="ScoreBar",e[e.SlideBar=6]="SlideBar",e[e.TopTool=7]="TopTool",e[e.Blackboard=8]="Blackboard",e[e.BounceMenu=9]="BounceMenu",e[e.AutoPlay=10]="AutoPlay",e[e.Info=11]="Info",e[e.AudioManager=12]="AudioManager",e[e.SoundSetting=13]="SoundSetting",e[e.VScrollBar=14]="VScrollBar",e[e.MineSlot=15]="MineSlot",e[e.MessageBox=16]="MessageBox",e[e.Reel=17]="Reel",e[e.Particle=18]="Particle",e[e.Bubble=19]="Bubble"}(t=e.Project||(e.Project={}));var n=function(){function n(e,t){this.runGame(e,t)}return n.prototype.runGame=function(n,i){return __awaiter(this,void 0,void 0,function(){var o,r,s,a,l,m,u,h,m,c,u,_,p,d,S,g,f,C,y,b,v,T,E,I,A,B,D,L,R,P,O,M,x,w,N,U,b,v,w,G,w,F,w,k,W,H,H,w,V,E,j,z;return __generator(this,function(K){switch(K.label){case 0:switch(o=i){case t.Bubble:return[3,1];case t.Particle:return[3,3];case t.Reel:return[3,5];case t.MessageBox:return[3,7];case t.Button:return[3,8];case t.AudioManager:return[3,10];case t.SoundSetting:return[3,12];case t.VScrollBar:return[3,13];case t.Info:return[3,14];case t.AutoPlay:return[3,16];case t.SlideBar:return[3,17];case t.BounceMenu:return[3,18];case t.Loading:return[3,19];case t.MineSlot:return[3,21];case t.ScoreBar:return[3,23];case t.TopTool:return[3,25];case t.Blackboard:return[3,27];case t.Test:return[3,29];case t.BigWin:return[3,31];case t.ReelMachine:return[3,33]}return[3,35];case 1:return[4,RES.loadGroup("MermaidSlot_1")];case 2:return K.sent(),r=new dragonBones.EgretFactory,s=null,r.parseDragonBonesData(RES.getRes("md_Icon_Bubble_Odds_ske_json")),r.parseTextureAtlasData(RES.getRes("md_Icon_Bubble_Odds_tex_json"),RES.getRes("md_Icon_Bubble_Odds_tex_A_png")),s=r.buildArmatureDisplay("Armature"),s.x=egret.sys.$TempStage.stageWidth/2,s.y=egret.sys.$TempStage.stageHeight/2,egret.Tween.get(s).wait(1e3).call(function(){s.animation.gotoAndPlayByFrame("Dark_out")}),n.addChild(s),[3,35];case 3:return[4,RES.loadGroup("DragonZone_1")];case 4:return K.sent(),a=new game.DragonZone.Controls.Line.LineUI(0),egret.Tween.get(a).wait(1e3).call(function(){a.Show()}),n.addChild(a),[3,35];case 5:return[4,RES.loadGroup("DragonZone_1")];case 6:for(K.sent(),l=new bfcl.Collections.Dictionary,l.Add(game.DragonZone.Enum.SymbolCodes.Dragon_Fire,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Dragon_Fire,"dz_icon_00_png","dz_icon_00_blur_png","dz_Icon_Animation_00",2.5,-12,254)),l.Add(game.DragonZone.Enum.SymbolCodes.Dragon_Ice,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Dragon_Ice,"dz_Icon_01_png","dz_icon_01_blur_png","dz_Icon_Animation_01",2.5,-12,254,-55,-28)),l.Add(game.DragonZone.Enum.SymbolCodes.Diamond_Purple,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Diamond_Purple,"dz_Icon_03_png","dz_icon_03_blur_png","dz_Icon_Animation_03",3,-12,254,-9,9)),l.Add(game.DragonZone.Enum.SymbolCodes.Diamond_Green,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Diamond_Green,"dz_Icon_04_png","dz_icon_04_blur_png","dz_Icon_Animation_04",3,-12,254,-9,9)),l.Add(game.DragonZone.Enum.SymbolCodes.Word_A,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Word_A,"dz_icon_06_png","dz_icon_06_blur_png","dz_Icon_Animation_06",3,-12,254,-9,9)),l.Add(game.DragonZone.Enum.SymbolCodes.Word_K,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Word_K,"dz_Icon_07_png","dz_icon_07_blur_png","dz_Icon_Animation_07",3,-12,254,5,15)),l.Add(game.DragonZone.Enum.SymbolCodes.Word_J,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Word_J,"dz_Icon_09_png","dz_icon_09_blur_png","dz_Icon_Animation_09",3,-12,254,5,15)),l.Add(game.DragonZone.Enum.SymbolCodes.Word_Q,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Word_Q,"dz_Icon_08_png","dz_icon_08_blur_png","dz_Icon_Animation_08",3,-12,254,5,15)),l.Add(game.DragonZone.Enum.SymbolCodes.Wild,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.Wild,"dz_icon_11_png","dz_icon_11_blur_png","dz_Icon_Animation_11",3,-12,254,-55,-28)),l.Add(game.DragonZone.Enum.SymbolCodes.FreeGame,new game.DragonZone.Property.SymbolProperty(game.DragonZone.Enum.SymbolCodes.FreeGame,"dz_Icon_12_png","dz_icon_12_blur_png","dz_Icon_Animation_12",3,-12,254,-115,-94)),m=0;m<l.Count;m++)u=l.GetValuePair(m),u.Key==game.DragonZone.Enum.SymbolCodes.FreeGame?u.Value.NormalLayer=1:u.Value.NormalLayer=0,u.Value.WinLayer=2;for(h=new slot.Library.SymbolLibrary,m=0,c=l.Count;c>m;m++)u=l.GetValuePair(m),h.Register(u.Key,u.Value);for(_=[],p=0;3>p;p++)d=1==p?450:304,S=1==p?-(d-304)/2:0,g=new game.DragonZone.Controls.LayerUI(S,d),g.x=105,g.y=92,g.name="layerContainer"+p.toString(),_.push(g);return f=new game.DragonZone.Controls.ReelUI(0,game.DragonZone.Config.Reel.RowCount,_,h),C=new eui.Image,C.texture=RES.getRes("dz_fg_bg_03_png"),n.addChild(_[0]),n.addChild(C),n.addChild(_[1]),n.addChild(_[2]),[3,35];case 7:return y=new bfcl.Localization.Library,y.Register(bfcl.Constants.Codepages.TW,kernel.Localization.Text.zh_TW()),y.Register(bfcl.Constants.Codepages.VN,kernel.Localization.Text.vi_VN()),y.Register(bfcl.Constants.Codepages.EN,kernel.Localization.Text.en_US()),b=new bfcl.Controls.MessageBoxUI,v=new bfcl.Localization.Manager(y),v.CodePage=bfcl.Constants.Codepages.TW,b.LocalizationManager=v,n.addChild(b),b.x=800-b.width/2,b.y=450-b.height/2,b.Show3("abc",[{id:bfcl.Enum.MessageBoxUI.Buttons.CONFIRM,func:function(e){egret.log("Click:"+e.toString())}},{id:bfcl.Enum.MessageBoxUI.Buttons.CANCEL,func:function(e){egret.log("Click:"+e.toString())}}]),[2];case 8:return[4,RES.loadGroup("MineSlot_1")];case 9:return K.sent(),T=new bfcl.Controls.LoopButtonUI,T.Init("msg_button_png","msg_button_glow_png","msg_button_start_"),T.SetEnable(!0),T.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){return egret.log(egret.getTimer())},this),n.addChild(T),[2];case 10:return[4,RES.loadGroup("MineSlot_1")];case 11:return K.sent(),E=new bfcl.Audio.Manager,E.PlaySound("ngRoll_mp3",-1),[3,35];case 12:return I=new bfcl.Controls.Sound.SettingPanelUI,I.Init(),I.Show(),n.addChild(I),[3,35];case 13:return A=new bfcl.Controls.VScrollBarUI,A.Init(),A.ListenEvent=!0,n.addChild(A),[3,35];case 14:return[4,RES.loadGroup("MineSlot_1",0,x)];case 15:return K.sent(),B=new bfcl.Controls.Info.PanelUI,B.Init(),B.AddPage(new game.MineSlot.Controls.Info.Page(" 1","info_1_png")),B.AddPage(new game.MineSlot.Controls.Info.Page(" 2","info_2_png")),n.addChild(B),B.Show(),[3,35];case 16:return D=new slot.Controls.AutoPlay.Panel,D.Init(),D.Show(123456),n.addChild(D),[3,35];case 17:return L=new bfcl.Controls.SlideBarUI({res:"msg_sound_bar01_png"},{res:"msg_sound_bar02_png"},{res:"msg_sound_bar00_png",x:-18,y:-8}),L.x=500,L.y=450,L.ListenEvent=!0,n.addChild(L),[3,35];case 18:return R=[],R.push(new bfcl.Property.BounceProperty("btn_info_png","btn_info_black_png")),R.push(new bfcl.Property.BounceProperty("btn_setting_png","btn_setting_black_png")),P=[],P.push(function(){egret.log("btn info click")}),P.push(function(){egret.log("btn setting click")}),O=new bfcl.Controls.BounceMenuUI,O.Init(R,"bg_01_png"),O.Bind(P),O.x=800,O.y=450,egret.Tween.get(O).wait(1500).call(function(){O.Show()}),egret.Tween.get(O).wait(3e3).call(function(){O.Hide()}),n.addChild(O),[3,35];case 19:return M=new bfcl.Controls.WaittingUI,M.Init(),M.Show(),n.addChild(M),[3,35];case 20:return K.sent(),x.Finished(),x.once(egret.TouchEvent.TOUCH_TAP,function(){x.Clear(),n.removeChild(x);var e=new eui.Image;e.width=n.stageWidth,e.height=n.stageHeight,e.source=RES.getRes("ng_bg_01_png"),n.addChild(e)},this),[3,35];case 21:return[4,RES.loadGroup("MineSlot_1")];case 22:return K.sent(),n.addChild(new e.MineSlot),[3,35];case 23:return[4,RES.loadGroup("MineSlot_1")];case 24:return K.sent(),w=new eui.Image,w.width=n.stageWidth,w.height=n.stageHeight,w.source=RES.getRes("ng_bg_01_png"),N=new slot.Controls.ScoreBarUI,n.addChild(w),n.addChild(N),N.Init(100,1e3,100),N.BtnEnables=slot.Enum.ScoreBarUI.Buttons.MENU|slot.Enum.ScoreBarUI.Buttons.MINUS_BET|slot.Enum.ScoreBarUI.Buttons.PLUS_BET,U=new bfcl.Localization.Library,U.Register(bfcl.Constants.Codepages.TW,kernel.Localization.Text.zh_TW()),U.Register(bfcl.Constants.Codepages.VN,kernel.Localization.Text.vi_VN()),U.Register(bfcl.Constants.Codepages.EN,kernel.Localization.Text.en_US()),b=new bfcl.Controls.MessageBoxUI,v=new bfcl.Localization.Manager(U),v.CodePage=bfcl.Constants.Codepages.VN,N.LocalizationManager=v,[3,35];case 25:return[4,RES.loadGroup("MineSlot_1")];case 26:return K.sent(),w=new eui.Image,w.width=n.stageWidth,w.height=n.stageHeight,w.source=RES.getRes("ng_bg_01_png"),G=new bfcl.Controls.TopToolUI,n.addChild(w),n.addChild(G),[3,35];case 27:return[4,RES.loadGroup("MineSlot_1")];case 28:return K.sent(),w=new eui.Image,w.width=n.stageWidth,w.height=n.stageHeight,w.source=RES.getRes("ng_bg_01_png"),F=new slot.Controls.BlackboardSwitcherUI,F.Init(new slot.Property.BlackboardSwitcherProperty),F.addEventListener(bfcl.Event.Digits.FINISHED,function(){egret.log("bfcl.Event.Digits.FINISHED")},this),F.addEventListener(slot.Event.Blackboard.CLICK,function(){egret.log("slot.Event.Blackboard.CLICK"),F.Hide()},this),F.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,function(e){switch(e.State){case slot.Event.Blackboard.STATE_SHOW:F.CurMode==slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT&&F.SetNumber(123456789);break;case slot.Event.Blackboard.STATE_HIDE:F.CurMode==slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE?(F.Clear(),F.ListenEvent=!0,F.Show(slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT)):(F.Clear(),F.ListenEvent=!0,F.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),F.SetNumber(5,!0))}},this),egret.Tween.get(this).wait(1e3).call(function(){F.ListenEvent=!0,F.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),F.CurMode==slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE&&F.SetNumber(5,!0)}),n.addChild(w),n.addChild(F),[3,35];case 29:return[4,RES.loadGroup("MineSlot_1")];case 30:return K.sent(),w=new eui.Image,w.width=n.stageWidth,w.height=n.stageHeight,w.source=RES.getRes("ng_bg_01_png"),k=new dragonBones.EgretFactory,k.parseDragonBonesData(RES.getRes("Public_MSG_ske_json")),k.parseTextureAtlasData(RES.getRes("Public_MSG_tex_json"),RES.getRes("Public_MSG_tex_png")),W=k.buildArmatureDisplay("Armature"),W.x=n.stageWidth/2,W.y=n.stageHeight/2,W.addEventListener(dragonBones.EventObject.START,function(e){console.log("armature START")},this),W.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,function(e){console.log("armature LOOP_COMPLETE")},this),egret.Tween.get(this).wait(1500).call(function(){console.log("armature Superwin_Start"),W.animation.gotoAndPlayByFrame("Superwin_Start")}),n.addChild(W),H=new particle.GravityParticleSystem(RES.getRes("BG_PtsLight_Green_png"),RES.getRes("BG_PtsLight_Green_json")),H.start(),H.emitterX=n.stageWidth/2,H.emitterY=n.stageHeight/2,[3,35];case 31:return[4,RES.loadGroup("MineSlot_1")];case 32:return K.sent(),w=new eui.Image,w.width=n.stageWidth,w.height=n.stageHeight,w.source=RES.getRes("ng_bg_01_png"),V=new bfcl.Localization.Library,V.Register(bfcl.Constants.Codepages.TW,kernel.localization.Sound.zh_TW()),V.Register(bfcl.Constants.Codepages.EN,kernel.localization.Sound.en_US()),V.Register(bfcl.Constants.Codepages.VN,kernel.localization.Sound.vi_VN()),E=new bfcl.Audio.Manager(V),j=new slot.Controls.BigWinUI,j.once(slot.Event.BigWin.TRAN_FINISHED,function(e){egret.log("TRAN_FINISHED")},this),j.once(slot.Event.BigWin.SHOW_FINISHED,function(e){egret.log("TRAN_FINISHED")},this),j.Init(),j.AudioManager=E,z=new eui.Button,z.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){j.Show(100,1e4)},this),n.addChild(w),n.addChild(j),n.addChild(z),bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,bfcl.Constants.Codepages.TW)),[3,35];case 33:return[4,RES.loadGroup("MineSlot_1")];case 34:return K.sent(),n.addChild(new e.ReelMachine.Main),[3,35];case 35:return[2]}})})},n}();e.Main=n,__reflect(n.prototype,"demo.Main")}(demo||(demo={}));var demo;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/haydn_skins/mineSlot/MainSkin.exml",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.m_GpFree.visible=!1,this.m_ReelMachine=new game.MineSlot.Controls.ReelMachineUI(280,220,[this.m_GpMainLayer0,this.m_GpMainLayer1,this.m_GpMainLayer2]),this.m_GpMain.addChild(this.m_ReelMachine);var t=new slot.Controls.Combo.ScoreUI;t.Init(),t.Show(11111,1),egret.Tween.get(t).wait(2100).call(function(){t.Show(22222,1)}),this.addChild(t)},t.prototype.GetSymbolParams=function(){for(var e=3,t=[],n=0;e>n;n++){var i={};i.reelNum=Math.floor(5*Math.random()),i.rowNum=Math.floor(4*Math.random()),i.point=new egret.Point(200+200*i.reelNum,200+100*i.rowNum),t.push(i)}return t},t}(eui.Component);e.MineSlot=t,__reflect(t.prototype,"demo.MineSlot",["eui.UIComponent","egret.DisplayObject"])}(demo||(demo={}));var demo;!function(e){var t;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.skinName="resource/haydn_skins/mineSlot/MainSkin.exml",e}return __extends(n,t),n.prototype.childrenCreated=function(){var n=this;t.prototype.childrenCreated.call(this),this.m_GpFreeSpin.visible=!1,this.m_ReelMachine=new e.ReelMachineUI(280,220),this.m_ReelMachine.addEventListener(slot.Event.Reel.ALL_ROLLING,function(){egret.Tween.get(n).wait(0).call(n.OnCallStop)},this),this.m_ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,function(){egret.Tween.get(n).wait(0).call(n.OnCallRoll)},this),this.m_GpMainSpin.addChild(this.m_ReelMachine),this.OnCallRoll()},n.prototype.OnCallStop=function(){this.m_ReelMachine.StopAll()},n.prototype.OnCallRoll=function(){this.m_ReelMachine.Roll()},n}(eui.Component);e.Main=t,__reflect(t.prototype,"demo.ReelMachine.Main",["eui.UIComponent","egret.DisplayObject"])
}(t=e.ReelMachine||(e.ReelMachine={}))}(demo||(demo={}));var demo;!function(e){var t;!function(t){var n=function(t){function n(e,n){for(var i=t.call(this,game.MineSlot.Config.Reel.ReelCount)||this,o=0;o<game.MineSlot.Config.Reel.ReelCount;o++)i.Push(i.GenerateAReel(o));return i.SetStartGapBetweenReel(100),i.SetStopGapBetweenReel(0),i}return __extends(n,t),Object.defineProperty(n.prototype,"IsSpinning",{get:function(){return this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLING||this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLED},enumerable:!0,configurable:!0}),n.prototype.Init=function(e,t){for(var n=e.split(","),i=t.split(","),o=0;o<game.MineSlot.Config.Reel.ReelCount;o++){var r=[];r.push(+i[o]);for(var s=0;s<game.MineSlot.Config.Reel.RowCount;s++)r.push(+n[s*game.MineSlot.Config.Reel.ReelCount+o]);r.push(+i[o+game.MineSlot.Config.Reel.ReelCount]),this.GetReel(o).Perload(r)}},n.prototype.GenerateAReel=function(t){var n=new slot.Library.SymbolLibrary;return n.Register(game.MineSlot.Enum.SymbolCodes.Miner,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Miner,"Icon_01_png","icon_01_blur_png","Icon_01_Sequence",2.5,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Supervisor,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Supervisor,"Icon_02_png","icon_02_blur_png","Icon_02_Sequence",2.5,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Diamond_Red,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Diamond_Red,"Icon_03_png","icon_03_blur_png","Icon_03_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Diamond_Yellow,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Diamond_Yellow,"Icon_04_png","icon_04_blur_png","Icon_04_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Diamond_Blue,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Diamond_Blue,"Icon_05_png","icon_05_blur_png","Icon_05_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Word_A,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Word_A,"Icon_07_png","icon_07_blur_png","Icon_07_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Word_K,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Word_K,"Icon_08_png","icon_08_blur_png","Icon_08_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Word_Q,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Word_Q,"Icon_09_png","icon_09_blur_png","Icon_09_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.Wild,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Wild,"Icon_12_png","icon_12_blur_png","Icon_12_Sequence",3,24,195)),n.Register(game.MineSlot.Enum.SymbolCodes.FreeGame,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.FreeGame,"icon_13_png","icon_13_blur_png","Icon_13_Sequence",3,24,195)),new e.ReelMachine.ReelUI(t,game.MineSlot.Config.Reel.RowCount,null,n)},n.prototype.Roll=function(){for(var e=Math.floor(5*Math.random())+1,n=[],i=[],o=0;e>o;o++){for(var r=-1;;)if(r=Math.floor(5*Math.random()),-1==i.indexOf(r))break;i.push(r);var s=new slot.Property.ActionScript;s.Type=0==Math.floor(2*Math.random())?slot.Controls.Reel.Containers.Types.Roll:slot.Controls.Reel.Containers.Types.Drop;var a=s.Type==slot.Controls.Reel.Containers.Types.Roll?6:Math.floor(5*Math.random())+1;if(s.ReelNum=r,s.StopPosList=this.GetDemoSymbolCodes(a),s.Type==slot.Controls.Reel.Containers.Types.Drop){for(var l=[],m=0;a>m;m++)for(;;){var u=Math.floor(6*Math.random());if(-1==l.indexOf(u)){l.push(u);break}}s.RemovePosList=l}n.push(s)}this.m_ActionScript=n,t.prototype.Roll.call(this)},n.prototype.GetDemoSymbolCodes=function(e){void 0===e&&(e=6);for(var t=[game.MineSlot.Enum.SymbolCodes.Miner,game.MineSlot.Enum.SymbolCodes.Supervisor,game.MineSlot.Enum.SymbolCodes.Diamond_Red,game.MineSlot.Enum.SymbolCodes.Diamond_Yellow,game.MineSlot.Enum.SymbolCodes.Diamond_Blue,game.MineSlot.Enum.SymbolCodes.Word_Q,game.MineSlot.Enum.SymbolCodes.Word_K,game.MineSlot.Enum.SymbolCodes.Word_A,game.MineSlot.Enum.SymbolCodes.Wild,game.MineSlot.Enum.SymbolCodes.FreeGame],n=[],i=0;e>i;i++){var o=Math.floor(Math.random()*t.length);n.push(t[o])}return n},n.prototype.ShowWin=function(e){},n}(slot.Controls.Reel.Machine);t.ReelMachineUI=n,__reflect(n.prototype,"demo.ReelMachine.ReelMachineUI")}(t=e.ReelMachine||(e.ReelMachine={}))}(demo||(demo={}));var demo;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){var r=e.call(this,new slot.Controls.SymbolUIFactory(o,game.MineSlot.Controls.SymbolUI,i))||this;return r.DefaultContainerType=slot.Controls.Reel.Containers.Types.Roll,r.ReelNum=t,r.touchEnabled=!1,r.touchChildren=!1,r.RegisterContainer(slot.Controls.Reel.Containers.Types.Roll,i[0].height,n,r.RollParameter()),r.Perload(),r}return __extends(t,e),t.prototype.RollParameter=function(){var e=new slot.Controls.Reel.Parameter;return e.SetMotionBlur(e.MaxSpeed,game.MineSlot.Controls.SymbolUI.STATUS_NORMAL,game.MineSlot.Controls.SymbolUI.STATUS_BLUR),e},t.prototype.DropParameter=function(){var e=new slot.Controls.Reel.Parameter;return e.RollBackFactor=0,e.RollOscillationFactor=1,e.FrameRatePerSec=3.5,e.AccelerationInterval=.25,e},t.prototype.Dispose=function(){e.prototype.Dispose.call(this)},t}(slot.Controls.Reel.BaseReel);e.ReelUI=t,__reflect(t.prototype,"demo.ReelMachine.ReelUI")}(t=e.ReelMachine||(e.ReelMachine={}))}(demo||(demo={}));var bfcl;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.STATE_HIDE=0,e.STATE_SHOW=1,e.m_Group=new eui.Group,e.m_BG=new eui.Image,e.m_ContainerWidth=0,e.m_ContainerHeight=0,e.m_Buttons=[],e.m_Propertys=[],e.m_BtnFuncs=[],e.m_State=e.STATE_HIDE,e}return __extends(i,n),Object.defineProperty(i.prototype,"IsShow",{get:function(){return this.m_State==this.STATE_SHOW},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(t){e.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){if(this.m_ListenEvent!=e){this.m_ListenEvent=e;for(var t=0,n=this.m_Buttons;t<n.length;t++){var i=n[t];this.m_ListenEvent?i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClick,this):i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClick,this)}}},enumerable:!0,configurable:!0}),i.prototype.Init=function(e,n,i){void 0===i&&(i=5),this.m_Propertys=e,this.m_ContainerHeight+=i;for(var o=0;o<e.length;o++){var r=e[o],s=new t.ButtonUI;s.name=o.toString(),s.Init(r.BtnUpRes,r.BtnDownRes),s.y=this.m_ContainerHeight,s.touchEnabled=!0,this.m_Buttons.push(s),this.m_Group.addChild(s);var a=RES.getRes(r.BtnUpRes);this.m_ContainerHeight+=a.bitmapData.height+i,a.bitmapData.width>this.m_ContainerWidth&&(this.m_ContainerWidth=a.bitmapData.width)}this.m_Mask=new t.Mask.RectShape(this.m_ContainerWidth,this.m_ContainerHeight+100),this.m_Mask.y=-this.m_Mask.Height,this.m_Group.mask=this.m_Mask,this.m_BG.texture=RES.getRes(n),this.m_Group.addChildAt(this.m_BG,0),this.m_BG.touchEnabled=!1,this.m_Group.touchEnabled=!1,this.m_Mask.touchEnabled=!1,this.addChild(this.m_Mask),this.addChild(this.m_Group),this.Clear()},i.prototype.Bind=function(e){this.m_BtnFuncs=e},i.prototype.Show=function(e){return void 0===e&&(e=!1),this.m_State!=this.STATE_SHOW?(this.m_State=this.STATE_SHOW,this.ListenEvent=!0,this.RemoveTween(),e?void(this.m_Group.y=-this.m_ContainerHeight):void egret.Tween.get(this.m_Group).set({y:0}).to({y:-this.m_ContainerHeight},500,egret.Ease.backOut)):void 0},i.prototype.Hide=function(e){return void 0===e&&(e=!1),this.m_State!=this.STATE_HIDE?(this.m_State=this.STATE_HIDE,this.ListenEvent=!1,this.RemoveTween(),e?void(this.m_Group.y=0):void egret.Tween.get(this.m_Group).set({y:-this.m_ContainerHeight}).to({y:0},250)):void 0},i.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_Group)},i.prototype.PlaySound=function(e){null!=this.m_AudioManager&&this.m_AudioManager.PlaySound(e)},i.prototype.OnBtnClick=function(t){this.dispatchEvent(new e.Event.BounceMenu(e.Event.BounceMenu.CLICK)),this.PlaySound("button01_mp3"),this.Hide(),this.m_BtnFuncs[+t.currentTarget.name]()},i.prototype.Clear=function(){this.ListenEvent=!1,this.Hide(!1)},i.prototype.Dispose=function(){for(this.Clear();this.m_Buttons.length>0;){var t=this.m_Buttons.splice(0,1)[0];this.m_Group.removeChild(t)}this.m_Buttons=null,this.m_Group.removeChild(this.m_BG),this.m_BG=null,e.Debug.Assert(0==this.m_Group.numChildren),this.removeChild(this.m_Group),this.removeChild(this.m_Mask),this.m_Group=null,this.m_Mask=null},i}(eui.Component);t.BounceMenuUI=n,__reflect(n.prototype,"bfcl.Controls.BounceMenuUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(e,n){void 0===e&&(e="msg_autoplay_selectframe_png"),void 0===n&&(n="msg_autoplay_check_png");var i=t.call(this)||this;i.Label=new eui.Label,i.m_BG=new eui.Image,i.m_Tick=new eui.Image,i.m_Checked=!1;var o=RES.getRes(e);return i.m_BG.texture=RES.getRes(e),i.m_Tick.texture=RES.getRes(n),i.m_Tick.touchEnabled=!1,i.Label.x=o.bitmapData.width+15,i.Label.fontFamily="Tahoma",i.Label.textColor=16756224,i.Label.size=35,i.Label.textAlign=egret.HorizontalAlign.LEFT,i.Label.verticalAlign=egret.VerticalAlign.MIDDLE,i.Label.text="",i.Label.touchEnabled=!1,i.addChild(i.m_BG),i.addChild(i.m_Tick),i.addChild(i.Label),i}return __extends(n,t),Object.defineProperty(n.prototype,"Checked",{get:function(){return this.m_Checked},set:function(e){this.m_Checked=e,this.m_Tick.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_BG.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?this.m_BG.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this):this.m_BG.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this))},enumerable:!0,configurable:!0}),n.prototype.OnItemClick=function(t){this.Checked=!this.Checked,this.dispatchEvent(new e.Event.CheckBox(e.Event.CheckBox.VALUE_CHANGED,this.m_Checked))},n.prototype.Clear=function(){this.Checked=!1},n.prototype.Dispose=function(){this.removeChild(this.m_BG),this.removeChild(this.m_Tick),this.removeChild(this.Label),this.m_BG=null,this.m_Tick=null,this.Label=null},n}(eui.Component);t.CheckBoxUI=n,__reflect(n.prototype,"bfcl.Controls.CheckBoxUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var Adapter;!function(e){var t=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?i(o):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();e.AssetAdapter=t,__reflect(t.prototype,"Adapter.AssetAdapter",["eui.IAssetAdapter"])}(Adapter||(Adapter={}));var Adapter;!function(e){var t=function(){function e(){}return e.prototype.getTheme=function(e,t,n,i){function o(e){t.call(i,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(i,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var a=e.split("/");a.pop();var l=a.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(i,generateJSON.paths[e])},this):RES.getResByUrl(l,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){t.call(i,generateJSON.paths[e])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();e.ThemeAdapter=t,__reflect(t.prototype,"Adapter.ThemeAdapter",["eui.IThemeAdapter"])}(Adapter||(Adapter={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.DragonZone,n.Request,n.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return e.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://dragonareaslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/dz_game/get_last_slot_init"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Init=n,__reflect(n.prototype,"game.DragonZone.API.Init")}(t=e.API||(e.API={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=bfcl.Constants.GameIds.DragonZone,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"game.DragonZone.API.Init.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"game.DragonZone.API.Init.Response");var i=function(){function e(){}return e}();e.BetInfo=i,__reflect(i.prototype,"game.DragonZone.API.Init.BetInfo")}(t=e.Init||(e.Init={}))}(t=e.API||(e.API={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.GetGameInfo=function(e,t){var n='{"bonus_odds":[2,2,2,1,1,1,1,3,2,2,2,2,3,1,2],"bonus_demo_slot":"66,67,67,68,66,65,66,65,68,66","bonus_slot":"67,68,68,65,67,65,68,66,68,68,66,68,65,66,65","demo_slot":"69,69,70,68,71,69,67,69,66,66","history":[0,0,0,0,0,0],"in_amt":100,"machine_id":783,"out_amt":174421,"user_level_bet":{"bet_gap":100,"bet_max":3000,"bet_min":100},"round":1,"slot":"66,69,89,68,67,67,69,71,68,69,70,89,69,70,71","user_amt":20471479,"status_code":"SUCCESS"}';return void e(bfcl.Http.Data.Response.Deserialize(n))},e.GetSlotDesc=function(e,t){var n='{"all_win_amt":199227,"bonus_slot":[[{"demo_slot":"66,68,68,65,65,66,66,66,68,66","win_index":[[512,513,517,518,519,520,521,522,524,525],[512,513,514,515,516,517,518,519,520,522],[513,514,519,522,523,524],[512,513,514,518,519,524],[512,513,514,518,519,524]],"combo_reels":[["65","65","65","66","65","68","66","66","67"],["65","65","68","66","66","66","66","66","68","66"],["65","65","66","66","66","66","66","66","66","66","67","67","66"],["65","65","65","67"],["65","65"]],"reels":[["68","65","68"],["65","68","66"],["66","68","65"],["67","68","65"],["66","68","66"]],"odds":[[2,2,3,1,3,1,3,1,2,2,3,2,3,1,3],[3,1,1,2,1,3,3,3,1,3,2,2,3,1,3],[1,1,1,2,1,2,2,1,1,3,3,2,3,1,3],[2,2,1,2,1,1,2,3,1,3,2,2,1,1,3],[1,3,1,2,1,1,3,3,1,3,2,2,2,1,3],[2,1,3,2,1,1,3,2,1,3,2,2,1,1,3]],"win_amts":[1260,7680,225,200,180,0]},{"demo_slot":"66,66,67,65,67,67,67,65,67,68","win_index":[[512,513,514,516,520,521],[514,520,522,523,525],[514,522,523],[512,513,514]],"combo_reels":[["68","68","65","68"],["67","67","65","65"],["65","66","65","68"],["68","67","68"],["67","66"]],"reels":[["68","66","65"],["68","66","65"],["68","67","67"],["65","68","65"],["68","68","67"]],"odds":[[1,2,2,2,1,1,3,3,2,2,3,2,3,2,3],[1,2,3,2,2,1,3,3,2,2,3,2,3,2,3],[3,1,3,1,2,1,2,3,1,2,1,3,3,2,3],[2,1,3,1,2,3,1,3,1,2,1,2,3,2,3],[2,3,2,1,2,3,1,3,1,2,1,2,3,2,3]],"win_amts":[480,720,45,30,0]},{"demo_slot":"67,68,66,65,66,65,67,65,68,66","win_index":[[512,513,516,518,519,521,522,523,524,525],[512,513,514,515,516,517,518,519,521,522,523,524],[513,517,518,524],[512,513,514,518,523],[512,513,514,518,523]],"combo_reels":[["65","65","66","65","66","67","65","66"],["65","65","65","67","65","65","67","67","65","65","65","68","66","66"],["65","65","65","68","68","67","65","68"],["65","66"],["65","65","68","66"]],"reels":[["67","65","68"],["67","68","68"],["65","68","67"],["66","66","67"],["67","67","68"]],"odds":[[1,3,3,2,2,3,3,2,3,1,3,3,2,3,1],[1,2,1,1,2,3,1,1,2,3,3,2,3,3,1],[1,2,1,1,1,3,3,1,2,3,3,2,2,3,1],[3,1,2,1,1,1,3,1,2,3,3,2,1,3,1],[3,2,3,1,1,1,1,1,2,3,3,2,1,3,1],[3,1,1,1,1,1,3,1,2,3,3,2,1,3,1]],"win_amts":[1260,17500,150,180,225,0]},{"demo_slot":"65,66,66,65,66,66,68,68,67,67","win_index":[[513,514,517,518,525],[512,513,514,515,518],[512,513,514,515,518],[512,513,514,515,516,517,518,526],[512,513,514,515,516,517,521],[513,517,521,522,524,525],[515,517,521,523,524,525,526],[512,513,514,515,516,517,520,521,522,525],[512,513,514,515,516,517,518,520,521,522,523,524,525,526],[513,515,516,517,521,524,525]],"combo_reels":[["65","65","68","68","68","67","68","66","68","68","65","65","65","68","67","68","66"],["65","65","65","65","68","68","65","68","67","65","68","65","65","66","67","66"],["65","65","68","68","65","67","68","65","68","65","67"],["65","65","68","68","68","66","68","68","65","65","65","67","68","67","65","66"],["68","68","67","66","65","68","68","65","65","68","67","67","65","67"]],"reels":[["68","65","67"],["65","65","66"],["65","66","67"],["66","67","65"],["68","66","68"]],"odds":[[2,1,2,2,3,2,1,1,1,1,2,2,2,2,1],[3,1,3,1,3,2,3,1,2,1,2,2,2,1,1],[1,2,2,2,3,2,3,1,2,1,2,2,2,1,1],[2,3,2,2,3,2,3,1,2,1,2,2,2,1,1],[2,2,1,2,1,1,3,1,2,3,2,2,2,1,1],[1,1,3,3,1,1,3,1,2,3,2,2,2,1,1],[3,2,1,3,2,1,3,3,3,1,1,2,1,2,1],[1,2,2,2,1,3,2,1,2,3,1,3,3,3,2],[1,2,2,1,1,3,2,1,3,2,3,3,3,2,2],[3,2,2,2,3,1,2,1,1,1,2,1,1,1,2],[3,2,3,1,1,3,2,2,1,2,2,1,1,1,2]],"win_amts":[160,360,200,7680,960,360,400,11200,147000,480,0]},{"demo_slot":"66,68,66,66,66,67,67,68,67,68","win_index":[],"combo_reels":[[],[],[],[],[]],"reels":[["67","65","66"],["68","65","65"],["68","66","67"],["67","66","67"],["65","68","68"]],"odds":[[1,2,2,3,2,2,2,2,3,2,2,1,2,1,3]],"win_amts":[0]}]],"slot":{"demo_slot":"90,90,70,90,67,68,71,67,69,67","win_index":[[515,519,520],[517,518,519,8,9,523,13],[512,513,514,515,516,518,520,521,522,14]],"line":[[],[1,15],[2,10,13,17]],"combo_reels":[["71","68","90"],["71","71","68","89"],["69","71","66"],["89","90","71","71","67","70"],["71","69","70","68"]],"reels":[["66","90","71"],["70","65","65"],["65","89","69"],["89","89","66"],["71","70","68"]],"win_amts":[0,100,192,0]},"user_amt":20670606,"status_code":"SUCCESS"}';return void t(bfcl.Http.Data.Response.Deserialize(n))},e}();e.Service=t,__reflect(t.prototype,"game.DragonZone.API.Service")}(t=e.API||(e.API={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.DragonZone,n.Request,n.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return e.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://dragonareaslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/dz_game/round_result"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Spin=n,__reflect(n.prototype,"game.DragonZone.API.Spin")}(t=e.API||(e.API={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=bfcl.Constants.GameIds.DragonZone,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"game.DragonZone.API.Spin.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"game.DragonZone.API.Spin.Response");var i=function(){function e(){}return e}();e.SlotInfo=i,__reflect(i.prototype,"game.DragonZone.API.Spin.SlotInfo")}(t=e.Spin||(e.Spin={}))}(t=e.API||(e.API={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.Types=new bfcl.Collections.Dictionary([{Key:e.Enum.StageTypes.BET,Value:"BET"},{Key:e.Enum.StageTypes.MAIN_SPIN,Value:"SPIN"},{Key:e.Enum.StageTypes.MAIN_RESULT,Value:"MAIN_RESULT"},{Key:e.Enum.StageTypes.INTERLUDE_ENTRANCE,Value:"INTERLUDE_ENTRANCE"},{Key:e.Enum.StageTypes.FREE_SPIN,Value:"FREE_SPIN"},{Key:e.Enum.StageTypes.FREE_RESULT,Value:"FREE_RESULT"},{Key:e.Enum.StageTypes.INTERLUDE_EXIT,Value:"INTERLUDE_EXIT"},{Key:e.Enum.StageTypes.COMMIT,Value:"COMMIT"}]),t}();t.Stages=n,__reflect(n.prototype,"game.DragonZone.Config.Stages");var i=function(){function t(){}return t.Res=new bfcl.Collections.Dictionary([{Key:e.Enum.SoundIds.FREE_BGM,Value:"dz_fgBgm_mp3"},{Key:e.Enum.SoundIds.MAIN_BGM,Value:"dz_ngBgm_mp3"},{Key:e.Enum.SoundIds.LINE,Value:"dz_ngLine_mp3"},{Key:e.Enum.SoundIds.DRAW,Value:"dz_ngFrame_mp3"},{Key:e.Enum.SoundIds.SCATTER_WIN,Value:"dz_FgReward_mp3"},{Key:e.Enum.SoundIds.REEL_SPIN,Value:"dz_ngRoll_1_mp3"},{Key:e.Enum.SoundIds.REEL_DROP_1,Value:"dz_ngStop_0_mp3"},{Key:e.Enum.SoundIds.REEL_DROP_2,Value:"dz_ngStop_1_mp3"},{Key:e.Enum.SoundIds.REEL_STOP_1,Value:"dz_ngClear_mp3"},{Key:e.Enum.SoundIds.REEL_STOP_2,Value:"dz_ngclear2_mp3"},{Key:e.Enum.SoundIds.ADD_ROUND,Value:"dz_fgRound_mp3"},{Key:e.Enum.SoundIds.SYMBOL_WIN,Value:"dz_ngWin_mp3"},{Key:e.Enum.SoundIds.INTERLUDE_ENTRANCE,Value:"dz_fgTransitions1_mp3"},{Key:e.Enum.SoundIds.INTERLUDE_EXIT,Value:"dz_fgTransitions2_mp3"}]),t}();t.Sound=i,__reflect(i.prototype,"game.DragonZone.Config.Sound");var o=function(){function e(){}return e.JwToken="eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiMjE5NzA4NTY2IiwiZXhwIjoxODI3Mzc5OTY1fQ.WKU0bchTSQPAkqpaHQYCBwkopawrrSpLN7HrFOGhobelmRlndHb2TSr7bb0nEGgyZUH7skU3dg01GMEzHTpYqHBXaIX5ycRuol0o9JrnHGKy4_Vfyfb8Z5FfNC8pRAY_g1y7GTohHIaZA0Q04BoH_LMLlayAs0rqePF7wgpwUDRvacUVuBc_hUf4Pf_AKSstBHsPM_QL1iLSLn0qpK4-JxRoPWr-h635YiK8s7XiXgx7CrUBKFbtwXJZU6yzokzuGdYZranO4krC0sORfzSDcRDU8iHNWGoH3KklhSMIXJO_tqxgQi6ocsrMLopOwJ-pfk3BPFWWtQ5AQrweghUPGw",e}();t.User=o,__reflect(o.prototype,"game.DragonZone.Config.User");var r=function(){function e(){}return e.ReelCount=5,e.RowCount=3,e.SlotReelStartTimeInterval_1=500,e}();t.Reel=r,__reflect(r.prototype,"game.DragonZone.Config.Reel");var s=function(){function e(){}return e.Data=[{tag:"a",tagPoint:new egret.Point(-48,412),source:"dz_lines_01_png",path:[new egret.Point(55,453),new egret.Point(1543,453)]},{tag:"b",tagPoint:new egret.Point(1562,140),source:"dz_lines_02_png",path:[new egret.Point(55,182),new egret.Point(1543,182)]},{tag:"c",tagPoint:new egret.Point(-48,726),source:"dz_lines_03_png",path:[new egret.Point(55,698),new egret.Point(1543,698)]},{tag:"d",tagPoint:new egret.Point(1562,700),source:"dz_lines_04_png",path:[new egret.Point(55,674),new egret.Point(520,674),new egret.Point(797,145),new egret.Point(1082,674),new egret.Point(1543,674)]},{tag:"e",tagPoint:new egret.Point(-48,165),source:"dz_lines_05_png",path:[new egret.Point(55,186),new egret.Point(520,186),new egret.Point(797,700),new egret.Point(1082,186),new egret.Point(1543,186)]},{tag:"f",tagPoint:new egret.Point(1562,385),source:"dz_lines_06_png",path:[new egret.Point(55,385),new egret.Point(220,385),new egret.Point(517,135),new egret.Point(1082,135),new egret.Point(1373,385),new egret.Point(1543,385)]},{tag:"g",tagPoint:new egret.Point(-48,483),source:"dz_lines_07_png",path:[new egret.Point(55,475),new egret.Point(220,475),new egret.Point(517,725),new egret.Point(1082,725),new egret.Point(1373,475),new egret.Point(1543,475)]},{tag:"h",tagPoint:new egret.Point(1562,630),source:"dz_lines_08_png",path:[new egret.Point(55,237),new egret.Point(520,237),new egret.Point(1078,605),new egret.Point(1543,605)]},{tag:"i",tagPoint:new egret.Point(-48,654),source:"dz_lines_09_png",path:[new egret.Point(55,632),new egret.Point(520,632),new egret.Point(1078,262),new egret.Point(1543,262)]},{tag:"j",tagPoint:new egret.Point(1562,213),source:"dz_lines_10_png",path:[new egret.Point(55,226),new egret.Point(220,226),new egret.Point(505,355),new egret.Point(808,226),new egret.Point(1085,355),new egret.Point(1375,226),new egret.Point(1543,226)]},{tag:"k",tagPoint:new egret.Point(-48,585),source:"dz_lines_11_png",path:[new egret.Point(55,562),new egret.Point(220,568),new egret.Point(505,436),new egret.Point(808,568),new egret.Point(1085,436),new egret.Point(1375,568),new egret.Point(1543,568)]},{tag:"l",tagPoint:new egret.Point(1562,280),source:"dz_lines_12_png",path:[new egret.Point(55,292),new egret.Point(232,292),new egret.Point(795,750),new egret.Point(1375,292),new egret.Point(1543,292)]},{tag:"m",tagPoint:new egret.Point(-48,795),source:"dz_lines_13_png",path:[new egret.Point(55,764),new egret.Point(220,764),new egret.Point(786,78),new egret.Point(1355,764),new egret.Point(1543,764)]},{tag:"n",tagPoint:new egret.Point(1562,458),source:"dz_lines_14_png",path:[new egret.Point(55,450),new egret.Point(220,450),new egret.Point(505,185),new egret.Point(808,450),new egret.Point(1085,185),new egret.Point(1375,450),new egret.Point(1543,450)]},{tag:"o",tagPoint:new egret.Point(-48,340),source:"dz_lines_15_png",path:[new egret.Point(55,345),new egret.Point(235,345),new egret.Point(505,610),new egret.Point(808,345),new egret.Point(1085,610),new egret.Point(1375,345),new egret.Point(1543,345)]},{tag:"p",tagPoint:new egret.Point(1562,772),source:"dz_lines_16_png",path:[new egret.Point(55,510),new egret.Point(235,510),new egret.Point(520,110),new egret.Point(808,750),new egret.Point(1085,110),new egret.Point(1375,740),new egret.Point(1543,740)]},{tag:"q",tagPoint:new egret.Point(-48,240),source:"dz_lines_17_png",path:[new egret.Point(55,250),new egret.Point(235,250),new egret.Point(505,480),new egret.Point(808,245),new egret.Point(1085,480),new egret.Point(1543,480)]},{tag:"r",tagPoint:new egret.Point(1562,70),source:"dz_lines_18_png",path:[new egret.Point(55,620),new egret.Point(220,620),new egret.Point(505,355),new egret.Point(1082,355),new egret.Point(1373,98),new egret.Point(1543,98)]},{tag:"s",tagPoint:new egret.Point(-48,97),source:"dz_lines_19_png",path:[new egret.Point(55,122),new egret.Point(220,122),new egret.Point(505,383),new egret.Point(1082,383),new egret.Point(1373,640),new egret.Point(1543,640)]},{tag:"t",tagPoint:new egret.Point(1562,525),source:"dz_lines_20_png",path:[new egret.Point(55,745),new egret.Point(235,745),new egret.Point(505,515),new egret.Point(808,745),new egret.Point(1085,515),new egret.Point(1543,515)]}],e}();t.Line=s,__reflect(s.prototype,"game.DragonZone.Config.Line");var a=function(){function e(){}return e.MESSAGE_SWITCH_STATION=1000007,e}();t.TextID=a,__reflect(a.prototype,"game.DragonZone.Config.TextID")}(t=e.Config||(e.Config={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var bfcl;!function(e){var t;!function(t){var n=function(n){function i(e,i,o){var r=n.call(this)||this;r.m_BG=new eui.Image,r.m_Line=new eui.Image,r.m_Mask=new eui.Image,r.m_Btn=new t.ButtonUI,r.m_Sensor=null,r.m_IsDownning=!1,r.m_Distance=new egret.Point,r.m_StartX=0,r.m_IsMute=!1,r.m_BG.texture=RES.getRes(e.res);var s=RES.getRes(i.res);return r.m_BarWidth=s.bitmapData.width,r.m_Line.texture=s,r.m_Mask.texture=s,r.m_Line.mask=r.m_Mask,r.m_BG.touchEnabled=!1,r.m_Line.touchEnabled=!1,r.m_Mask.touchEnabled=!1,r.m_Btn.touchEnabled=!1,r.m_Btn.touchChildren=!1,r.m_Btn.Init(o.res,o.res),null!=e.y&&(r.m_BG.y=e.y),null!=i.y&&(r.m_Line.y=i.y),null!=i.y&&(r.m_Mask.y=i.y),null!=o.y&&(r.m_Btn.y=o.y),null!=o.x&&(r.m_Btn.x=o.x,r.m_StartX=o.x),r.m_Sensor=r.SetRectShape(),r.addChild(r.m_Sensor),r.addChild(r.m_BG),r.addChild(r.m_Mask),r.addChild(r.m_Line),r.addChild(r.m_Btn),r.Clear(),r}return __extends(i,n),Object.defineProperty(i.prototype,"IsMute",{set:function(e){this.m_IsMute=e,this.m_IsMute||0!=this.m_Percent||(this.Percent=i.DEFAULT_VALUE),this.Refresh(this.Percent)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Percent",{get:function(){return this.m_IsMute?0:this.m_Percent},set:function(t){e.Debug.Assert(t>=0&&1>=t),(this.m_Percent!=t||this.m_IsMute)&&(this.m_IsMute=!1,this.m_Percent=t,this.Refresh(t))},enumerable:!0,configurable:!0}),i.prototype.Refresh=function(e){this.m_Mask.width=this.m_BarWidth*e,this.m_Btn.x=this.m_StartX+this.m_Mask.width},Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Sensor.touchEnabled=e,this.m_ListenEvent?(this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnMouseDown,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnMouseMove,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_END,this.OnMouseUp,this)):(this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnMouseDown,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnMouseMove,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_END,this.OnMouseUp,this)))},enumerable:!0,configurable:!0}),i.prototype.SetRectShape=function(){var e=this.GetObjRect(this.m_Btn),n=this.GetObjRect(this.m_BG),o=this.m_StartX-i.SLIDE_SPACING,r=this.m_StartX+this.m_BarWidth+this.m_Btn.width+2*i.SLIDE_SPACING,s=e.top<n.top?e.top:n.top;s-=i.SLIDE_SPACING;var a=e.bottom>n.bottom?e.bottom:n.bottom;a+=i.SLIDE_SPACING;var l=new t.Mask.RectShape(r-o,a-s);return l.x=o,l.y=s,l.alpha=0,l},i.prototype.GetObjRect=function(e){return new egret.Rectangle(e.x,e.y,e.width,e.height)},i.prototype.OnMouseDown=function(e){this.m_IsDownning=!0,this.m_Distance.x=e.stageX-this.m_Btn.x},i.prototype.OnMouseMove=function(t){if(0!=this.m_BarWidth&&this.m_IsDownning){var n=t.stageX-this.m_Distance.x,i=(n-this.m_StartX)/this.m_BarWidth;.011>i&&(i=0),i>1&&(i=1),this.m_Percent!=i&&(this.Percent=i,this.dispatchEvent(new e.Event.SlideBar(e.Event.SlideBar.VALUE_CHANGED,this.m_Percent)))}},i.prototype.OnMouseUp=function(e){this.m_IsDownning=!1},i.prototype.Clear=function(){this.ListenEvent=!1,this.Percent=0},i.prototype.Dispose=function(){this.removeChild(this.m_BG),this.removeChild(this.m_Line),this.removeChild(this.m_Mask),this.removeChild(this.m_Btn),this.removeChild(this.m_Sensor),this.m_BG=null,this.m_Line=null,this.m_Mask=null,this.m_Sensor=null,this.m_Btn.Dispose(),this.m_Btn=null},i.DEFAULT_VALUE=1,i.SLIDE_SPACING=5,i}(eui.Component);t.SlideBarUI=n,__reflect(n.prototype,"bfcl.Controls.SlideBarUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Title=new eui.Image,t.m_Digits=new bfcl.Controls.Digits.NormalDigits("dz_FreeSpinDigits_fnt"),t}return __extends(t,e),Object.defineProperty(t.prototype,"Spinned",{get:function(){return this.m_Spinned},set:function(e){this.m_Spinned=e,this.RefreshRemain()},enumerable:!0,configurable:!0}),t.prototype.RefreshRemain=function(){this.m_Digits.Number=this.m_Spinned,this.m_Title.visible=this.m_Digits.visible=this.m_Digits.Number>0},t.prototype.Init=function(){this.m_Title.texture=RES.getRes("dz_msg_RONUDX_png"),this.m_Title.x=40,this.m_Title.y=16,this.m_Digits.TextAlign=egret.HorizontalAlign.LEFT,this.m_Digits.x=435,this.m_Digits.y=20,this.addChild(this.m_Title),this.addChild(this.m_Digits),this.touchChildren=!1,this.touchEnabled=!1,this.x=800,this.y=62,this.Clear()},t.prototype.Clear=function(){this.m_Spinned=0,this.m_Title.visible=!1},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Title),this.removeChild(this.m_Digits),this.m_Title=null,this.m_Digits.Dispose(),this.m_Digits=null
},t}(eui.Component);e.AddSpinFrameUI=t,__reflect(t.prototype,"game.DragonZone.Controls.AddSpinFrameUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;n.m_BG=new eui.Image,n.m_Title=new eui.Image,n.m_BarBG=new eui.Image,n.m_BarMask=new eui.Image,n.m_BarFG=new eui.Image,n.m_Help=new eui.Image,n.m_BtnEnterGame=new bfcl.Controls.ButtonUI,n.m_Remark=new eui.Label,n.m_ProccessStartX=-1,n.m_ProccessWidth=-1,n.m_BG.texture=RES.getRes("dz_bg_Loading_game006_00_png"),n.m_BG.width=egret.sys.$TempStage.stageWidth,n.m_BG.height=egret.sys.$TempStage.stageHeight,n.m_Title.texture=RES.getRes("dz_LOGO_Loading_game006_00_png"),n.m_Title.x=n.m_BG.width/3.1,n.m_Title.y=.08*n.m_BG.height,n.m_BarBG.texture=RES.getRes("H5_Loading_03_png"),n.m_BarBG.x=n.m_BG.width/2-n.m_BarBG.width/2,n.m_BarBG.y=.9*n.m_BG.height-n.m_BarBG.height/2,n.m_BarMask.texture=RES.getRes("H5_Loading_Mask_png"),n.m_BarMask.width*=.84,n.m_BarMask.x=n.m_BG.width/2-n.m_BarMask.width/2,n.m_BarMask.y=.9*n.m_BG.height-n.m_BarMask.height/2,n.m_BarFG.texture=RES.getRes("H5_Loading_04_png"),n.m_BarFG.height*=1.15,n.m_BarFG.width*=1.05,n.m_BarFG.y=.9*n.m_BG.height-n.m_BarFG.height/2,n.m_ProccessStartX=n.m_BG.width/2-.75*n.m_BarFG.width,n.m_ProccessWidth=n.m_BG.width/2-.25*n.m_BarFG.width-n.m_ProccessStartX,n.m_BarFG.mask=n.m_BarMask,n.m_Help.texture=RES.getRes("dz_msg_Loading_game006_chinese_png"),n.m_Help.x=n.m_BG.width/2-n.m_Help.width/2,n.m_Help.y=.73*n.m_BG.height-n.m_Help.height/2,n.m_Remark.width=500,n.m_Remark.height=200,n.m_Remark.textAlign=egret.HorizontalAlign.CENTER,n.m_Remark.x=n.m_BG.width/2-n.m_Remark.width/2,n.m_Remark.y=.93*n.m_BG.height,n.m_BtnEnterGame.Init("dz_btn_Loading_game006_01_png","dz_btn_Loading_game006_01_black_png"),n.m_BtnEnterGame.AddLabel(new eui.Label);var i=new bfcl.Localization.Library;return i.Register(bfcl.Constants.Codepages.TW,e.Localization.Text.zh_TW.Loading()),i.Register(bfcl.Constants.Codepages.EN,e.Localization.Text.en_US.Loading()),i.Register(bfcl.Constants.Codepages.VN,e.Localization.Text.vi_VN.Loading()),n.addChild(n.m_BG),n.addChild(n.m_Title),n.addChild(n.m_Help),n.addChild(n.m_Remark),n.addChild(n.m_BarBG),n.addChild(n.m_BarMask),n.addChild(n.m_BarFG),n.addChild(n.m_BtnEnterGame),n.m_LocalizationManager=new bfcl.Localization.Manager(i),n.m_LocalizationManager.Bind(n.m_Title,bfcl.Constants.Propertys.Texture,e.Localization.Text.LOADING_TITLE),n.m_LocalizationManager.Bind(n.m_Help,bfcl.Constants.Propertys.Texture,e.Localization.Text.LOADING_INFO),n.m_LocalizationManager.Bind(n.m_BtnEnterGame.Label,bfcl.Constants.Propertys.Text,e.Localization.Text.LOADING_ENTER_GAME),n.Clear(),n}return __extends(n,t),Object.defineProperty(n.prototype,"Preccess",{set:function(n){t.prototype.SetPreccess.call(this,n);var i=this.TotalPercent();this.m_BarFG.x=this.m_ProccessStartX+this.m_ProccessWidth*(i/100),this.m_LocalizationManager.Bind(this.m_Remark,bfcl.Constants.Propertys.Text,e.Localization.Text.LOADING_LOADING,i.toFixed(0)+"/100")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CodePage",{set:function(e){this.m_LocalizationManager.CodePage=e},enumerable:!0,configurable:!0}),n.prototype.onProgress=function(e,t){this.Preccess=e/t},n.prototype.Finished=function(){this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!1,this.m_BtnEnterGame.visible=!0,this.m_BtnEnterGame.x=this.m_BG.width/2-this.m_BtnEnterGame.width/2,this.m_BtnEnterGame.y=.9*this.m_BG.height-this.m_BtnEnterGame.height/2,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.m_BtnEnterGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.Clear=function(){t.prototype.Clear.call(this),this.Preccess=0,this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!0,this.m_BtnEnterGame.visible=!1,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.m_BtnEnterGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.OnClick=function(e){this.dispatchEvent(new bfcl.Event.Loading(bfcl.Event.Loading.CLICK))},n.prototype.Dispose=function(){this.m_LocalizationManager.Dispose(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Help),this.removeChild(this.m_Remark),this.removeChild(this.m_BarBG),this.removeChild(this.m_BarMask),this.removeChild(this.m_BarFG),this.removeChild(this.m_BtnEnterGame),this.m_BtnEnterGame.Dispose(),this.m_BtnEnterGame=null,this.m_BG=null,this.m_Title=null,this.m_BarBG=null,this.m_BarMask=null,this.m_BarFG=null,this.m_Help=null,this.m_Remark=null},n}(bfcl.Controls.LoadingPanelUI);t.LoadingPanelUI=n,__reflect(n.prototype,"game.DragonZone.Controls.LoadingPanelUI")}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(t){var n;!function(e){e[e.Main=0]="Main",e[e.Free=1]="Free"}(n=t.SceneType||(t.SceneType={}));var i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.m_Scenes=new bfcl.Collections.Dictionary,e.m_Duration=1e3,e}return __extends(o,i),Object.defineProperty(o.prototype,"CurSceneType",{set:function(e){if(this.m_CurSceneType!=e){this.m_CurSceneType=e;for(var t=0;t<this.m_Scenes.Count;t++){var n=this.m_Scenes.GetValuePair(t);n.Value.Container.alpha=n.Key==this.m_CurSceneType?1:0}}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Main",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(n.Main):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Free",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(n.Free):void 0},enumerable:!0,configurable:!0}),o.prototype.Init=function(e,i){this.m_Scenes.Add(n.Main,new t.SceneUI(e)),this.m_Scenes.Add(n.Free,new t.SceneUI(i,!0)),this.Clear()},o.prototype.SwitchTo=function(e,t){var n=this;if(void 0===t&&(t=!1),bfcl.Debug.Assert(this.m_Scenes.ContainsKey(e)),t)return void this.OnToFinished(e);this.RemoveTweens();for(var i=0;i<this.m_Scenes.Count;i++){var o=this.m_Scenes.GetValuePair(i),r=o.Key==e?1:0,s=egret.Tween.get(o.Value.Container).to({alpha:r},this.m_Duration);i==this.m_Scenes.Count-1&&s.call(function(){n.OnToFinished(e)})}},o.prototype.OnToFinished=function(t){this.RemoveTweens(),this.CurSceneType=t,this.dispatchEvent(new e.DragonZone.Event.Scene(e.DragonZone.Event.Scene.ACTION_FINISHED))},o.prototype.RemoveTweens=function(){for(var e=0;e<this.m_Scenes.Count;e++)egret.Tween.removeTweens(this.m_Scenes.GetValuePair(e).Value.Container)},o.prototype.Clear=function(){this.RemoveTweens(),this.CurSceneType=n.Main},o.prototype.Dispose=function(){for(var e=0;e<this.m_Scenes.Count;e++){var t=this.m_Scenes.GetValuePair(e).Value;t.Dispose(),t=null}this.m_Scenes.Clear()},o}(eui.Component);t.SceneSwitcherUI=i,__reflect(i.prototype,"game.DragonZone.Controls.SceneSwitcherUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Controls||(t.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,i){void 0===i&&(i=!1);var o=t.call(this)||this;return o.Container=n[0],o.ReelMachine=new e.ReelMachineUI(288,239,n.slice(1),i),o}return __extends(n,t),n.prototype.Dispose=function(){this.ReelMachine.Dispose(),this.ReelMachine=null},n}(eui.Component);e.SceneUI=t,__reflect(t.prototype,"game.DragonZone.Controls.SceneUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Mc=null,t.m_Inited=!1,t}return __extends(t,e),t.prototype.Play=function(){this.m_Mc.gotoAndPlay(0,-1)},t.prototype.Stop=function(){this.m_Mc.stop()},t.prototype.Init=function(e,t,n){this.m_Inited||(this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.addChild(this.m_Mc)),this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(e),this.m_Mc.x=t,this.m_Mc.y=n,this.Clear()},t.prototype.Clear=function(){},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Mc),this.m_Mc=null},t}(slot.Controls.StatusActioner);e.MovieClip=t,__reflect(t.prototype,"game.DragonZone.Controls.Actioner.MovieClip")}(t=e.Actioner||(e.Actioner={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=230),void 0===n&&(n=135),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){var s=bfcl.Decorator.MovieClip("dz_wildforcastX2_Animation");s.x=t+r*i,s.y=n,s.scaleX=s.scaleY=2,this.m_List[r]=s,this.addChild(s)}this.Clear()},n.prototype.Show=function(e){this.Clear();for(var t=0,n=e;t<n.length;t++){var i=n[t];this.m_List[i].visible=!0,this.m_List[i].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var t=0;t<e.Config.Reel.ReelCount;t++)this.m_List[t].stop(),this.m_List[t].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;){var e=this.m_List.splice(0,1)[0];this.removeChild(e),e.stop(),e=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.DrawUI=n,__reflect(n.prototype,"game.DragonZone.Controls.Frames.DrawUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e.m_PlayingCount=0,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=-65),void 0===n&&(n=460),void 0===i&&(i=310),void 0===o&&(o=255),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){this.m_List[r]=[];for(var s=0;s<e.Config.Reel.RowCount;s++){var a=bfcl.Decorator.MovieClip("dz_ExplosionX2_Animation");a.x=t+r*i,a.y=n-s*o,a.scaleX=a.scaleY=2,this.m_List[r][s]=a,this.addChild(a)}}this.Clear()},n.prototype.ShowOne=function(t,n){var i=this,o=this.m_List[t][n-1];this.m_PlayingCount++,o.addEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.get(o).call(function(t,n,o){t.visible=!0,t.gotoAndPlay(0),i.dispatchEvent(new e.Event.ExplosionUI(e.Event.ExplosionUI.BOMBING,n,o))},this,[o,t,n])},n.prototype.Show=function(t){var n=this;this.Clear();for(var i=65,o=0,r=t.length;r>o;o++)for(var s=0,a=t[o];s<a.length;s++){var l=a[s],m=this.m_List[o][l-1];this.m_PlayingCount++,m.addEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.get(m).wait(i*o).call(function(t,i,o){t.visible=!0,t.gotoAndPlay(0),n.dispatchEvent(new e.Event.ExplosionUI(e.Event.ExplosionUI.BOMBING,i,o))},this,[m,o,l])}},n.prototype.OnMcComplete=function(t){t.target.visible=!1,this.m_PlayingCount--,this.m_PlayingCount<=0&&this.dispatchEvent(new e.Event.ExplosionUI(e.Event.ExplosionUI.FINISHED))},n.prototype.Clear=function(){this.m_PlayingCount=0;for(var t=0;t<e.Config.Reel.ReelCount;t++)for(var n=0;n<e.Config.Reel.RowCount;n++){var i=this.m_List[t][n];i.stop(),i.visible=!1,i.hasEventListener(egret.Event.COMPLETE)&&i.removeEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.removeTweens(i)}},n.prototype.Dispose=function(){for(;this.m_List.length>0;)for(var e=this.m_List.splice(0,1)[0];e.length>0;){var t=e.splice(0,1)[0];this.removeChild(t),t.stop(),t=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.ExplosionUI=n,__reflect(n.prototype,"game.DragonZone.Controls.Frames.ExplosionUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=-50),void 0===n&&(n=500),void 0===i&&(i=313),void 0===o&&(o=255),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){this.m_List[r]=[];for(var s=0;s<e.Config.Reel.RowCount;s++){var a=bfcl.Decorator.MovieClip("dz_WildprizeX2_Animation");a.x=t+r*i,a.y=n-s*o,a.scaleX=1.8,a.scaleY=1.8,this.m_List[r][s]=a,this.addChild(a)}}this.Clear()},n.prototype.Show=function(e){this.Clear();for(var t=0,n=e.length;n>t;t++)for(var i=0,o=e[t];i<o.length;i++){var r=o[i];this.m_List[t][r-1].visible=!0,this.m_List[t][r-1].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var t=0;t<e.Config.Reel.ReelCount;t++)for(var n=0;n<e.Config.Reel.RowCount;n++)this.m_List[t][n].stop(),this.m_List[t][n].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;)for(var e=this.m_List.splice(0,1)[0];e.length>0;){var t=e.splice(0,1)[0];this.removeChild(t),t.stop(),t=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.WinUI=n,__reflect(n.prototype,"game.DragonZone.Controls.Frames.WinUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n){var i=e.call(this)||this;return i.m_Title=new eui.Label,i.m_Image=new eui.Image,i.m_TitleCode="",i.m_TitleCode=t,i.m_Title.width=1600,i.m_Title.height=100,i.m_Title.fontFamily="Tahoma",i.m_Title.textColor=16756224,i.m_Title.size=70,i.m_Title.bold=!0,i.m_Title.textAlign=egret.HorizontalAlign.CENTER,i.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,i.m_Title.x=800-i.m_Title.width/2,i.m_Image.texture=RES.getRes(n),i.m_Image.y=i.m_Title.height,i.addChild(i.m_Image),i.addChild(i.m_Title),i}return __extends(t,e),Object.defineProperty(t.prototype,"Height",{get:function(){return 686},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Width",{get:function(){return this.m_Image.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LocalizationManager",{set:function(e){e.Bind(this.m_Title,bfcl.Constants.Propertys.Text,this.m_TitleCode)},enumerable:!0,configurable:!0}),t.prototype.Clear=function(){},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Image),this.removeChild(this.m_Title),this.m_Title=null,this.m_Image=null},t}(bfcl.Controls.Info.Page);e.Page=t,__reflect(t.prototype,"game.DragonZone.Controls.Info.Page")}(t=e.Info||(e.Info={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_List=null,e}return __extends(i,n),i.prototype.Init=function(n,i){void 0===n&&(n=0),void 0===i&&(i=0),this.m_List=[];for(var o=0;o<e.Config.Line.Data.length;o++)this.m_List.push(new t.LineUI(o)),this.addChild(this.m_List[this.m_List.length-1]);this.Clear()},i.prototype.Show=function(e){this.Clear();for(var t=0,n=e;t<n.length;t++){var i=n[t];this.m_List[i-1].Show()}},i.prototype.Clear=function(){for(var e=0;e<this.m_List.length;e++)this.m_List[e].Clear()},i.prototype.Dispose=function(){for(;this.m_List.length>0;){var e=this.m_List.splice(0,1)[0];this.removeChild(e),e.Dispose(),e=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},i}(eui.Component);t.LinesUI=n,__reflect(n.prototype,"game.DragonZone.Controls.Line.LinesUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Line||(t.Line={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(n){var i=t.call(this)||this;i.m_Line=new eui.Image,i.m_Particle=new particle.GravityParticleSystem(RES.getRes("dz_RunLine_Effects_png"),RES.getRes("dz_RunLine_Effects_json")),i.m_Tag=new eui.BitmapLabel,i.m_Data=e.Config.Line.Data[n];var o=RES.getRes(i.m_Data.source);return i.m_Line.texture=o,i.m_LineMask=new bfcl.Controls.Mask.RectShape(o.bitmapData.width,o.bitmapData.height),i.m_Line.mask=i.m_LineMask,i.m_Tag.font=RES.getRes("dz_LineTagDigitsNumber_fnt"),i.m_Tag.x=i.m_Data.tagPoint.x,i.m_Tag.y=i.m_Data.tagPoint.y,i.m_Tag.text=i.m_Data.tag,i.touchEnabled=!1,i.touchChildren=!1,i.addChild(i.m_Line),i.addChild(i.m_LineMask),i.addChild(i.m_Tag),i.addChild(i.m_Particle),i.Clear(),i}return __extends(n,t),n.prototype.Show=function(e){var t=this;void 0===e&&(e=650),this.Clear(),this.visible=!0,this.m_Particle.start();var n,i=this.GetPointDuration(e);e/(this.m_Data.path.length-1);for(var o=0;o<this.m_Data.path.length;o++){var r=this.m_Data.path[o];0==o?n=egret.Tween.get(this.m_Particle).set({emitterX:r.x,emitterY:r.y}):n.to({emitterX:r.x,emitterY:r.y},i[o-1])}n.wait(100),n.call(function(){t.RemoveTween()}),n.play();var s,a=this.m_Line.width,l=this.m_Data.path[0].x-a,m=this.m_Data.path[this.m_Data.path.length-1].x-a;s=egret.Tween.get(this.m_LineMask).set({x:l}).to({x:m},e),s.play()},n.prototype.GetPointDuration=function(e){for(var t=0,n=[],i=1;i<this.m_Data.path.length;i++){var o=this.m_Data.path[i-1],r=this.m_Data.path[i],s=r.x-o.x;t+=s,n.push(s)}for(var a=[],i=0;i<n.length;i++){var l=e*(n[i]/t);a.push(l)}return a},n.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_LineMask),egret.Tween.removeTweens(this.m_Particle),this.m_Particle.stop(!0)},n.prototype.Clear=function(){this.RemoveTween(),this.visible=!1},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Line),this.removeChild(this.m_Particle),this.removeChild(this.m_Tag),this.removeChild(this.m_LineMask),this.m_Particle=null},n}(eui.Component);t.LineUI=n,__reflect(n.prototype,"game.DragonZone.Controls.Line.LineUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Line||(t.Line={}))}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){void 0===i&&(i=!0);var o=e.call(this,"resource/haydn_skins/dragonZone/ReelSkin.exml")||this;return o.m_MaskX=t,o.m_MaskWidth=n,o.m_HasMask=i,o}return __extends(t,e),Object.defineProperty(t.prototype,"Container",{get:function(){return this.m_Group},enumerable:!0,configurable:!0}),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.m_HasMask?(this.m_Group.mask=this.m_Mask,this.m_Mask.x=this.m_MaskX,this.m_Mask.width=this.m_MaskWidth):this.m_Mask.visible=!1},t}(slot.Controls.Reel.Containers.LayerUI);e.LayerUI=t,__reflect(t.prototype,"game.DragonZone.Controls.LayerUI")}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(i,o,r,s){void 0===s&&(s=!1);var a=n.call(this,e.Config.Reel.ReelCount)||this;a.m_Payouts=[],a.m_SymbolPropertys=new bfcl.Collections.Dictionary,a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Dragon_Fire,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Dragon_Fire,"dz_icon_00_png","dz_icon_00_blur_png","dz_Icon_Animation_00",0,-12,254,-80,-120)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Dragon_Ice,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Dragon_Ice,"dz_Icon_01_png","dz_icon_01_blur_png","dz_Icon_Animation_01",0,-12,254,-80,-135)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Diamond_Purple,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Diamond_Purple,"dz_Icon_03_png","dz_icon_03_blur_png","dz_Icon_Animation_03",0,-12,254,4,-16)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Diamond_Green,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Diamond_Green,"dz_Icon_04_png","dz_icon_04_blur_png","dz_Icon_Animation_04",0,-12,254,4,-16)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_A,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_A,"dz_icon_06_png","dz_icon_06_blur_png","dz_Icon_Animation_06",-9,-12,254,4,-16)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_K,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_K,"dz_Icon_07_png","dz_icon_07_blur_png","dz_Icon_Animation_07",-9,-12,254,4,-16)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_J,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_J,"dz_Icon_09_png","dz_icon_09_blur_png","dz_Icon_Animation_09",-6,-12,254,4,-16)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_Q,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_Q,"dz_Icon_08_png","dz_icon_08_blur_png","dz_Icon_Animation_08",2,-12,254,4,-16)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Wild,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Wild,"dz_icon_11_png","dz_icon_11_blur_png","dz_Icon_Animation_11",0,-12,254,-66,-76)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.FreeGame,new e.Property.SymbolProperty(e.Enum.SymbolCodes.FreeGame,"dz_Icon_12_png","dz_Icon_12_png","dz_Icon_Animation_12",0,8,254,-70,-96));for(var l=0;l<a.m_SymbolPropertys.Count;l++){var m=a.m_SymbolPropertys.GetValuePair(l);m.Key==e.Enum.SymbolCodes.Wild||m.Key==e.Enum.SymbolCodes.Dragon_Fire||m.Key==e.Enum.SymbolCodes.Dragon_Ice?(m.Value.NormalLayer=0,m.Value.WinLayer=2):m.Key==e.Enum.SymbolCodes.FreeGame?(m.Value.NormalLayer=1,m.Value.WinLayer=2):(m.Value.NormalLayer=0,m.Value.WinLayer=0)}for(var l=0;l<e.Config.Reel.ReelCount;l++){for(var u=[],h=0;h<r.length;h++){var c=1==h?450:304,_=1==h?-(c-304)/2:0,p=new t.LayerUI(_,c,h<r.length-1);p.x=i+312*l,p.y=o,u.push(p),r[h].addChild(p)}a.Push(a.GenerateAReel(l,u,s,l>0&&l<e.Config.Reel.ReelCount-1&&!s))}return a.SetStartGapBetweenReel(100),a.SetStopGapBetweenReel(0),a}return __extends(i,n),Object.defineProperty(i.prototype,"IsSpinning",{get:function(){return this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLING||this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLED},enumerable:!0,configurable:!0}),i.prototype.Init=function(t,n){for(var i=slot.Utils.Array.StrToPosList(t,n,e.Config.Reel.ReelCount,e.Config.Reel.RowCount),o=0;o<e.Config.Reel.ReelCount;o++)this.GetReel(o).Perload(i[o])},i.prototype.GenerateAReel=function(n,i,o,r){void 0===r&&(r=!1);for(var s=new slot.Library.SymbolLibrary,a=0,l=this.m_SymbolPropertys.Count;l>a;a++){var m=this.m_SymbolPropertys.GetValuePair(a);m.Value.Payout=o&&m.Key!=e.Enum.SymbolCodes.FreeGame?-1:1,(m.Key!=e.Enum.SymbolCodes.FreeGame||r)&&s.Register(m.Key,m.Value)}return new t.ReelUI(n,e.Config.Reel.RowCount,i,s)},i.prototype.StopPosList=function(t,n){this.m_ActionScript=[],this.m_Payouts=n;for(var i=0;i<e.Config.Reel.ReelCount;i++){var o=new slot.Property.ActionScript;o.ReelNum=i,o.Type=slot.Controls.Reel.Containers.Types.Roll,o.StopPosList=t[i],this.m_ActionScript.push(o)}this.UpdateStopPosList()},i.prototype.Roll=function(){this.m_ActionScript=[];for(var t=0;t<e.Config.Reel.ReelCount;t++){var i=new slot.Property.ActionScript;i.ReelNum=t,i.Type=slot.Controls.Reel.Containers.Types.Roll,this.m_ActionScript.push(i);var o=this.GetReel(t);o.hasEventListener(slot.Event.Reel.FINALLY_PUSH_A_SYMBOL)||o.addEventListener(slot.Event.Reel.FINALLY_PUSH_A_SYMBOL,this.OnSymbolFinallyPush,this)}n.prototype.Roll.call(this)},i.prototype.Drop=function(t,i,o){this.m_ActionScript=[],this.m_Payouts=o;for(var r=0;r<e.Config.Reel.ReelCount;r++)if(0!=t[r].length){var s=new slot.Property.ActionScript;s.ReelNum=r,s.Type=slot.Controls.Reel.Containers.Types.Drop,s.StopPosList=i[r],s.RemovePosList=t[r],this.m_ActionScript.push(s);var a=this.GetReel(r);a.hasEventListener(slot.Event.Reel.FINALLY_PUSH_A_SYMBOL)||a.addEventListener(slot.Event.Reel.FINALLY_PUSH_A_SYMBOL,this.OnSymbolFinallyPush,this)}this.UpdateStopPosList(),n.prototype.Roll.call(this)},i.prototype.OnSymbolFinallyPush=function(e){null!=this.m_Payouts&&e.Symbol.SetPayout(this.m_Payouts[e.ReelNum][e.SymbolIndex])},i.prototype.ShowWin=function(e){for(var n=0,i=e.length;i>n;n++)for(var o=0,r=e[n];o<r.length;o++){var s=r[o];this.SetToStatus(n,s,t.SymbolUI.STATUS_WIN)}},i.prototype.Clear=function(){for(var i=0,o=e.Config.Reel.ReelCount;o>i;i++){for(var r=0,s=e.Config.Reel.RowCount;s>r;r++)this.SetToStatus(i,r+1,t.SymbolUI.STATUS_NORMAL);var a=this.GetReel(i);a.hasEventListener(slot.Event.Reel.FINALLY_PUSH_A_SYMBOL)&&a.removeEventListener(slot.Event.Reel.FINALLY_PUSH_A_SYMBOL,this.OnSymbolFinallyPush,this)}n.prototype.Clear.call(this)},i}(slot.Controls.Reel.Machine);t.ReelMachineUI=n,__reflect(n.prototype,"game.DragonZone.Controls.ReelMachineUI")}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,i,o,r){var s=t.call(this,new slot.Controls.SymbolUIFactory(r,e.SymbolUI,o))||this;return s.DefaultContainerType=slot.Controls.Reel.Containers.Types.Roll,s.ReelNum=n,s.touchEnabled=!1,s.touchChildren=!1,s.RegisterContainer(slot.Controls.Reel.Containers.Types.Roll,o[0].height,i,s.RollParameter()),s.RegisterContainer(slot.Controls.Reel.Containers.Types.Drop,o[0].height,i,s.DropParameter()),s.Perload(),s}return __extends(n,t),n.prototype.RollParameter=function(){var t=new slot.Controls.Reel.Parameter;return t.SetMotionBlur(t.MaxSpeed,e.SymbolUI.STATUS_NORMAL,e.SymbolUI.STATUS_BLUR),t},n.prototype.DropParameter=function(){var e=new slot.Controls.Reel.Parameter;return e.RollBackFactor=0,e.RollOscillationFactor=1,e.FrameRatePerSec=3.5,e.AccelerationInterval=.25,e},n.prototype.Dispose=function(){t.prototype.Dispose.call(this)},n}(slot.Controls.Reel.BaseReel);e.ReelUI=t,__reflect(t.prototype,"game.DragonZone.Controls.ReelUI")}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_Mc=null,t.m_PayNumber=null,t.m_Code=-1,t.m_RowHeight=-1,t.m_Inited=!1,t.skinName="resource/haydn_skins/dragonZone/SymbolSkin.exml",t}return __extends(t,e),Object.defineProperty(t.prototype,"Code",{get:function(){return this.m_Code},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RowHeight",{get:function(){return this.m_RowHeight},enumerable:!0,configurable:!0}),t.prototype.SetState=function(t){e.prototype.SetState.call(this,t)},t.prototype.Init=function(e){bfcl.Debug.Assert(!this.m_Inited),this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.m_PayNumber=new eui.BitmapLabel,this.m_PayNumber.font=RES.getRes("dz_PayoutNumberDigits_fnt"),this.m_PayNumber.x=125,this.m_PayNumber.y=120,this.addChild(this.m_Mc),this.addChild(this.m_PayNumber),this.RegisterStatus(t.STATUS_NORMAL,new slot.Controls.Symbol.StatusSwitcher(this.m_Normal)),this.RegisterStatus(t.STATUS_BLUR,new slot.Controls.Symbol.StatusSwitcher(this.m_Blur)),this.RegisterStatus(t.STATUS_WIN,new slot.Controls.Symbol.StatusSwitcher(this.m_Mc)),this.SetProperty(e)},t.prototype.SetProperty=function(e){bfcl.Debug.Assert(this.m_Inited),this.SetLayer(t.STATUS_NORMAL,e.NormalLayer),this.SetLayer(t.STATUS_BLUR,e.NormalLayer),this.SetLayer(t.STATUS_WIN,e.WinLayer),this.m_Code=e.Code,this.m_RowHeight=e.RowHeight,this.anchorOffsetX=e.OffestX||0,this.anchorOffsetY=e.OffestY||0,this.m_Normal.source=RES.getRes(e.Normal),this.m_Blur.source=RES.getRes(e.Blur),this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(e.Win),this.m_Mc.x=e.McX,this.m_Mc.y=e.McY,this.SetPayout(e.Payout),this.Clear()},t.prototype.SetPayout=function(e){var t=-1==e?Math.floor(3*Math.random())+1:e;this.m_PayNumber.text=1==t?"":"x"+t},t.prototype.Clear=function(){this.State=t.STATUS_NORMAL},t.prototype.Dispose=function(){this.Clear(),e.prototype.Dispose.call(this),this.removeChild(this.m_Mc),this.removeChild(this.m_PayNumber),this.m_Mc.stop(),this.m_Mc=null,this.m_Blur=null,this.m_Normal=null,this.m_PayNumber=null},t.STATUS_NORMAL="STATUS_NORMAL",t.STATUS_BLUR="STATUS_BLUR",t.STATUS_WIN="STATUS_WIN",t}(slot.Controls.Symbol.BaseSymbol);e.SymbolUI=t,__reflect(t.prototype,"game.DragonZone.Controls.SymbolUI")}(t=e.Controls||(e.Controls={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.Context=t,__reflect(t.prototype,"game.DragonZone.Context")}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.Status=new t.Status,e.Worker=new t.Worker,e.Dc=new t.Display,e}return __extends(i,n),i.prototype.IsImmediatelyMaintenance=function(){return this.Status.CurrentGameStaus!=e.Enum.GameStatus.None&&!this.Status.IsRunning},i.prototype.PlayBgm=function(t){this.Worker.AudioManager.PlayBgm(e.Config.Sound.Res.GetValue(t))},i.prototype.StopBgm=function(){this.Worker.AudioManager.StopBgm()},i.prototype.PlaySound=function(t,n){void 0===n&&(n=1),this.Worker.AudioManager.PlaySound(e.Config.Sound.Res.GetValue(t),n)},i.prototype.StopSound=function(t,n){void 0===n&&(n=1),this.Worker.AudioManager.StopSound(e.Config.Sound.Res.GetValue(t))},i.prototype.GetArrScatterCount=function(e,t,n){for(var i=0,o=t;n>=o;o++)i+=e[o].length;return i},i}(slot.Game.Context);t.Context=n,__reflect(n.prototype,"game.DragonZone.Core.Context")}(t=e.Core||(e.Core={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.Scene=new t.Controls.SceneSwitcherUI,e.WinFrames=new t.Controls.Frames.WinUI,e.DrawFrames=new t.Controls.Frames.DrawUI,e.ExplosionFrames=new t.Controls.Frames.ExplosionUI,e.AddSpinFrame=new t.Controls.AddSpinFrameUI,e.ComboScore=new slot.Controls.Combo.ScoreUI,e.Lines=new t.Controls.Line.LinesUI,e}return __extends(i,n),Object.defineProperty(i.prototype,"MainSpin",{get:function(){return this.Scene.Main},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"FreeSpin",{get:function(){return this.Scene.Free},enumerable:!0,configurable:!0}),i.prototype.Init=function(n,i,o,r,s,a){i[0].addChildAt(this.AddSpinFrame,r+1),this.Scene.Init(n,i),this.Blackboard.Init(new t.Property.BlackboardSwitcherProperty),this.WinFrames.Init(),this.DrawFrames.Init(-150,-150),this.ExplosionFrames.Init(),this.AddSpinFrame.Init(),this.AddSpinFrame.x=735,this.AddSpinFrame.y=157,this.ComboScore.Init(),this.ComboScore.AudioManager=a,this.Lines.Init(),o.addChild(this.WinFrames),o.addChild(this.Lines),o.addChild(this.DrawFrames),o.addChild(this.ExplosionFrames),o.addChild(this.ComboScore),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_1,"dz_info_1_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_2,"dz_info_2_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_3,"dz_info_3_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_4,"dz_info_4_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_5,"dz_info_5_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_6,"dz_info_6_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_7,"dz_info_7_png")),this.Info.AddPage(new e.DragonZone.Controls.Info.Page(t.Localization.Text.HELP_TITLE_8,"dz_info_8_png")),this.Bind(s)},i.prototype.Bind=function(e){this.GameMsgBox.LocalizationManager=e},i.prototype.Clear=function(){this.Scene.Clear(),this.WinFrames.Clear(),this.DrawFrames.Clear(),this.ExplosionFrames.Clear()},i.prototype.Dispose=function(){this.Lines.parent.removeChild(this.Lines),this.WinFrames.parent.removeChild(this.WinFrames),this.DrawFrames.parent.removeChild(this.DrawFrames),this.ExplosionFrames.parent.removeChild(this.ExplosionFrames),this.ComboScore.parent.removeChild(this.ComboScore),this.AddSpinFrame.parent.removeChild(this.AddSpinFrame),this.Scene.Dispose(),this.Lines.Dispose(),this.WinFrames.Dispose(),this.DrawFrames.Dispose(),this.ExplosionFrames.Dispose(),this.ComboScore.Dispose(),this.AddSpinFrame.Dispose(),this.Scene=null,this.Lines=null,this.WinFrames=null,this.DrawFrames=null,this.ExplosionFrames=null,this.ComboScore=null,this.AddSpinFrame=null
},i}(slot.Game.Display);n.Display=i,__reflect(i.prototype,"game.DragonZone.Core.Display")}(n=t.Core||(t.Core={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Update=function(e){e.Dc.ScoreBar.BtnEnables!=e.Status.Stage.BtnEnables&&(e.Dc.ScoreBar.BtnEnables=e.Status.Stage.BtnEnables),e.Dc.ScoreBar.BtnHides!=e.Status.Stage.BtnHides&&(e.Dc.ScoreBar.BtnHides=e.Status.Stage.BtnHides)},e}();e.Refresher=t,__reflect(t.prototype,"game.DragonZone.Core.Refresher")}(t=e.Core||(e.Core={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return Object.defineProperty(t.prototype,"m_Context",{get:function(){return e.Context.Instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.UNKOWN},enumerable:!0,configurable:!0}),t.prototype.Timing_100msUP=function(e){},t.prototype.SwitchTo=function(t){bfcl.Debug.Assert(null!=t,"Object.ReferenceEquals(nextStage, null)"),bfcl.Debug.Assert(this.m_Context.Status.Stage==this,"this.m_Context.Status.Stage:"+this.m_Context.Status.Stage.Type+" | this.Stage.Type:"+this.Type),this.LeaveStage(),egret.log("[STAGE]["+e.Config.Stages.Types.GetValue(t.Type)+"]"),this.m_Context.Status.Stage=t,this.m_Context.Status.Stage.EnterStage()},t}();t.Stage=n,__reflect(n.prototype,"game.DragonZone.Core.Stage");var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.UNKOWN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.GetBtnEnables()},enumerable:!0,configurable:!0}),n.prototype.GetBtnEnables=function(){return slot.Enum.ScoreBarUI.Buttons.MENU|slot.Enum.ScoreBarUI.Buttons.TURBO_ON|slot.Enum.ScoreBarUI.Buttons.TURBO_OFF},n.prototype.EnterStage=function(){this.m_Context.Dc.ScoreBar.addEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n.prototype.OnScoreBarClick=function(e){e.Button==slot.Enum.ScoreBarUI.Buttons.MENU},n.prototype.LeaveStage=function(){this.m_Context.Dc.ScoreBar.removeEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n}(n);t.Stage_Base=i,__reflect(i.prototype,"game.DragonZone.Core.Stage_Base");var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.BET},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return this.m_Context.IsImmediatelyMaintenance()?e=slot.Enum.ScoreBarUI.Buttons.UNKOWN:e|=this.m_Context.Dc.ScoreBar.IsAutoPlay?slot.Enum.ScoreBarUI.Buttons.AUTO:slot.Enum.ScoreBarUI.Buttons.MINUS_BET|slot.Enum.ScoreBarUI.Buttons.PLUS_BET|slot.Enum.ScoreBarUI.Buttons.MAX_BET|slot.Enum.ScoreBarUI.Buttons.AUTO,this.m_Context.Dc.ScoreBar.Bet>0&&(e|=slot.Enum.ScoreBarUI.Buttons.SPIN),e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){return t.prototype.EnterStage.call(this),this.m_Context.Status.Clear(),this.m_Context.Status.MainComboCount=this.m_Context.Dc.ComboScore.ComboCount,this.m_Context.Dc.ScoreBar.IsSpinning=!1,null!=this.m_Context.Status.UserLevelBet&&(this.m_Context.Dc.ScoreBar.SetBetRange(this.m_Context.Status.UserLevelBet.bet_min,this.m_Context.Status.UserLevelBet.bet_max,this.m_Context.Status.UserLevelBet.bet_gap),this.m_Context.Status.UserLevelBet=null),this.m_Context.IsImmediatelyMaintenance()?void this.m_Context.Dc.ScoreBar.StopAutoPlay():void 0},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.SPIN&&this.OnBtnClickSpin()},n.prototype.Timing_100msUP=function(e){this.m_Context.Dc.ScoreBar.IsAutoPlay&&(this.m_Context.Dc.ScoreBar.Bet<=0||this.OnBtnClickSpin())},n.prototype.OnBtnClickSpin=function(){if(!(this.m_Context.Dc.ScoreBar.Bet<=0)){if(this.m_Context.Dc.ScoreBar.Bet>this.m_Context.Dc.ScoreBar.Credit)return this.m_Context.Dc.ScoreBar.StopAutoPlay(),void this.m_Context.Dc.GameMsgBox.Show2(4001);this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Status.IsRunning=!0,this.SwitchTo(new r)}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this)},n}(i);t.Stage_Bet=o,__reflect(o.prototype,"game.DragonZone.Core.Stage_Bet");var r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SPIN=1,e.m_CurDelayTs=0,e.m_ListenDelayTs=0,e.m_StoppingReelIndex=0,e.m_IsServerResponse=!1,e.m_IsAllReelSpinning=!1,e.m_IsBtnStopClick=!1,e.m_State=e.STATUS_NONE,e.m_IsDrawing=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.MAIN_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return this.m_IsAllReelSpinning&&this.m_IsServerResponse&&!this.m_IsBtnStopClick&&this.m_State==this.STATUS_SPIN&&(e|=slot.Enum.ScoreBarUI.Buttons.STOP),e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){var n=this;t.prototype.EnterStage.call(this),this.m_Context.Dc.ScoreBar.IsSpinning=!0,this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllStarted,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.Roll(),this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN,-1),this.m_State=this.STATUS_SPIN,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?1250:2500,this.m_Context.Dc.ScoreBar.Credit-=this.m_Context.Dc.ScoreBar.Bet,e.API.Service.GetSlotDesc(this.m_Context.Dc.ScoreBar.Bet,function(e){n.m_IsServerResponse=!0,n.m_Context.Status.ActionDesc.Init(e),n.m_Context.Dc.ScoreBar.Credit=e.user_amt-e.all_win_amt,n.m_Context.Dc.MainSpin.ReelMachine.StopPosList(n.m_Context.Status.ActionDesc.Main.StopPosList())})},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=e.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.MainSpin.ReelMachine.IsSpinning)return;if(this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs+this.m_ListenDelayTs){if(!this.m_IsServerResponse)return;this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.MainSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1?e.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.MainSpin.ReelMachine.StopAt(this.m_StoppingReelIndex))}}},n.prototype.OnReelAllStarted=function(e){this.m_IsAllReelSpinning=!0},n.prototype.OnReelStopping=function(t){this.m_StoppingReelIndex=t.ReelNum+1;var n=this.m_Context.Status.ActionDesc.Main.ScatterIndexs(),i=this.m_Context.GetArrScatterCount(n,0,t.ReelNum);2==i&&this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1&&!this.m_Context.Dc.ScoreBar.IsTurbo?(this.m_IsDrawing=!0,this.m_ListenDelayTs=3e3,this.m_Context.PlaySound(e.Enum.SoundIds.DRAW),this.m_Context.Dc.DrawFrames.Show([this.m_StoppingReelIndex])):this.m_IsDrawing&&(this.m_ListenDelayTs=0,this.m_IsDrawing=!1,this.m_Context.Dc.DrawFrames.Clear())},n.prototype.OnReelStopped=function(t){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_STOP_1)},n.prototype.OnReelAllStopped=function(){this.m_IsAllReelSpinning=!1,this.m_Context.StopSound(e.Enum.SoundIds.REEL_SPIN),this.SwitchTo(new s)},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.STOP&&(this.m_IsBtnStopClick=!0,this.m_Context.Dc.MainSpin.ReelMachine.StopAll())},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllStarted,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_MainSpin=r,__reflect(r.prototype,"game.DragonZone.Core.Stage_MainSpin");var s=function(t){function n(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.STATUS_NONE=0,n.STATUS_SCATTER=1,n.STATUS_ENTRANCE_BONUS=2,n.STATUS_SHOW_WIN_SYMBOL=3,n.STATUS_SHOW_WIN_SCORE=4,n.STATUS_BOMB=5,n.STATUS_COMMIT=7,n.m_State=n.STATUS_NONE,n.m_CurDelayTs=0,n.m_ActionDelayTs=0,n.m_IsFromBonusComeBack=e,n}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.MAIN_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_IsFromBonusComeBack?(this.m_ThisRoundWin>0?this.m_State=this.STATUS_SHOW_WIN_SYMBOL:this.m_State=this.STATUS_BOMB,this.m_ActionDelayTs=1e3):this.CheckEnterPhase(),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this)},Object.defineProperty(n.prototype,"m_ThisRoundWin",{get:function(){return this.m_Context.Status.ActionDesc.Main.ThisRoundWin()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"m_WinPosList",{get:function(){return this.m_Context.Status.ActionDesc.Main.WinSymbolIndexs()},enumerable:!0,configurable:!0}),n.prototype.CheckEnterPhase=function(){this.m_CurDelayTs=0,this.m_Context.Status.ActionDesc.Main.Update(),this.m_Context.Status.ActionDesc.Main.CanIntoFreeGame()?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SCATTER):this.m_ThisRoundWin>0?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_COMMIT)},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SCATTER:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.Main.ScatterIndexs()),this.m_ActionDelayTs=2e3,this.m_IsFromBonusComeBack?(this.m_IsFromBonusComeBack=!1,this.m_State=this.STATUS_BOMB):(this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_WIN),this.m_State=this.STATUS_ENTRANCE_BONUS));break;case this.STATUS_ENTRANCE_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Status.MainComboCount=this.m_Context.Dc.ComboScore.ComboCount,this.SwitchTo(new a));break;case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.PlaySound(e.Enum.SoundIds.LINE),this.m_Context.Dc.Lines.Show(this.m_Context.Status.ActionDesc.Main.Lines()),this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_WinPosList),this.m_Context.Dc.WinFrames.Show(this.m_WinPosList),this.m_ActionDelayTs=2e3,this.m_State=this.STATUS_SHOW_WIN_SCORE);break;case this.STATUS_SHOW_WIN_SCORE:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ComboScore.Show(this.m_ThisRoundWin,1.5),this.m_ActionDelayTs=2300,this.m_State=this.STATUS_BOMB);break;case this.STATUS_BOMB:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Dc.ScoreBar.Win+=this.m_ThisRoundWin,this.m_Context.Dc.ComboScore.visible=!1,this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.WinFrames.Clear(),this.m_Context.Dc.Lines.Clear(),this.m_Context.Dc.ExplosionFrames.Show(this.m_Context.Status.ActionDesc.Main.BombSymbolIndexs()),this.m_Context.Dc.MainSpin.ReelMachine.Drop(this.m_Context.Status.ActionDesc.Main.BombSymbolIndexs(),this.m_Context.Status.ActionDesc.Main.DropSymbols()));break;case this.STATUS_COMMIT:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new h))}},n.prototype.OnReelAllStopped=function(){this.CheckEnterPhase()},n.prototype.OnReelStopped=function(){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_DROP_1)},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_MainResult=s,__reflect(s.prototype,"game.DragonZone.Core.Stage_MainResult");var a=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_IsBlackboardShowed=!1,e.m_AutoBtnClickTs=5e3,e.m_PlayBonusBgmTs=1e3,e.m_CurTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.INTERLUDE_ENTRANCE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.AddSpinFrame.Clear(),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE)},n.prototype.OnBlackboardShowed=function(t){t.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_IsBlackboardShowed=!0,this.m_CurTs=0),t.State==slot.Event.Blackboard.STATE_HIDE&&this.SwitchTo(new l)},n.prototype.Timing_100msUP=function(t){this.m_IsBlackboardShowed&&(this.m_CurTs+=100,this.m_CurTs>=this.m_PlayBonusBgmTs&&0!=this.m_PlayBonusBgmTs&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(e.Enum.SoundIds.FREE_BGM)),this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_CurTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){this.m_PlayBonusBgmTs>0&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(e.Enum.SoundIds.FREE_BGM)),this.m_Context.Dc.Scene.SwitchTo(e.Controls.SceneType.Free),this.m_Context.Dc.Blackboard.Hide()},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!1},n}(i);t.Stage_InterludeEntrance=a,__reflect(a.prototype,"game.DragonZone.Core.Stage_InterludeEntrance");var l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SPIN=1,e.m_CurDelayTs=0,e.m_StoppingReelIndex=0,e.m_IsSpinningStart=!1,e.m_State=e.STATUS_NONE,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.FREE_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.Dc.AddSpinFrame.Spinned+=1,this.m_Context.PlaySound(e.Enum.SoundIds.ADD_ROUND),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.StopPosList(this.m_Context.Status.ActionDesc.Free.StopPosList(),this.m_Context.Status.ActionDesc.Free.Odds()),this.m_Context.Dc.FreeSpin.ReelMachine.Roll(),this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN,-1),this.m_State=this.STATUS_SPIN,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?750:1500},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=e.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.FreeSpin.ReelMachine.IsSpinning)return;this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.FreeSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1?e.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.FreeSpin.ReelMachine.StopAt(this.m_StoppingReelIndex)))}},n.prototype.OnReelRolling=function(e){this.m_IsSpinningStart||(this.m_IsSpinningStart=!0)},n.prototype.OnReelStopping=function(e){this.m_StoppingReelIndex=e.ReelNum+1},n.prototype.OnReelStopped=function(t){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_STOP_2)},n.prototype.OnReelAllStopped=function(){this.m_IsSpinningStart=!1,this.m_Context.StopSound(e.Enum.SoundIds.REEL_SPIN),this.SwitchTo(new m)},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.ExplosionFrames.Clear(),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_FreeSpin=l,__reflect(l.prototype,"game.DragonZone.Core.Stage_FreeSpin");var m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SPIN=1,e.STATUS_SHOW_WIN_SYMBOL=2,e.STATUS_SHOW_WIN_SCORE=3,e.STATUS_BOMB=4,e.STATUS_EXIT_BONUS=5,e.m_State=e.STATUS_NONE,e.m_CurDelayTs=0,e.m_ActionDelayTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.FREE_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.CheckEnterPhase(),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},Object.defineProperty(n.prototype,"m_ThisRoundWin",{get:function(){return this.m_Context.Status.ActionDesc.Free.ThisRoundWin()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"m_WinPosList",{get:function(){return this.m_Context.Status.ActionDesc.Free.WinSymbolIndexs()},enumerable:!0,configurable:!0}),n.prototype.CheckEnterPhase=function(){this.m_CurDelayTs=0,this.m_Context.Status.ActionDesc.Free.Update(),this.m_ThisRoundWin>0?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):(bfcl.Debug.Assert(this.m_Context.Status.ActionDesc.Free.IsSpinFinished()),this.m_Context.Status.ActionDesc.PopThisSpin(),this.m_Context.Status.ActionDesc.IsSpinOver()?(this.m_ActionDelayTs=1e3,this.m_State=this.STATUS_EXIT_BONUS):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SPIN))},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.FreeSpin.ReelMachine.ShowWin(this.m_WinPosList),this.m_Context.Dc.WinFrames.Show(this.m_WinPosList),this.m_ActionDelayTs=500,this.m_State=this.STATUS_SHOW_WIN_SCORE);break;case this.STATUS_SHOW_WIN_SCORE:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ComboScore.Show(this.m_ThisRoundWin,1.5),this.m_ActionDelayTs=2300,this.m_State=this.STATUS_BOMB);case this.STATUS_BOMB:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Dc.ScoreBar.Win+=this.m_ThisRoundWin,this.m_Context.Dc.ComboScore.visible=!1,this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.WinFrames.Clear(),this.m_Context.Dc.ExplosionFrames.Show(this.m_Context.Status.ActionDesc.Free.BombSymbolIndexs()),this.m_Context.Dc.FreeSpin.ReelMachine.Drop(this.m_Context.Status.ActionDesc.Free.BombSymbolIndexs(),this.m_Context.Status.ActionDesc.Free.DropSymbols(),this.m_Context.Status.ActionDesc.Free.Odds()));break;case this.STATUS_SPIN:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new l));break;case this.STATUS_EXIT_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new u))}},n.prototype.OnReelAllStopped=function(){this.CheckEnterPhase()},n.prototype.OnReelStopped=function(){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_DROP_2)},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_FreeResult=m,__reflect(m.prototype,"game.DragonZone.Core.Stage_FreeResult");var u=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_CurTs=0,e.m_AutoBtnClickTs=5e3,e.m_IsDigitsTransFinished=!1,e.m_IsClickedBlackboard=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.INTERLUDE_EXIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT)},n.prototype.OnBlackboardShowed=function(t){t.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_Context.Dc.Blackboard.SetNumber(this.m_Context.Status.ActionDesc.LastFreeTotalWin))},n.prototype.OnDigitsTransFinished=function(){this.m_IsDigitsTransFinished=!0,this.m_CurTs=0},n.prototype.Timing_100msUP=function(){this.m_IsDigitsTransFinished&&0!=this.m_AutoBtnClickTs&&(this.m_CurTs+=100,this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_AutoBtnClickTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){!this.m_IsClickedBlackboard&&this.m_IsDigitsTransFinished&&(this.m_IsClickedBlackboard=!0,this.m_Context.PlayBgm(e.Enum.SoundIds.MAIN_BGM),this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_EXIT),this.m_Context.Dc.Scene.addEventListener(e.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this),this.m_Context.Dc.Scene.SwitchTo(e.Controls.SceneType.Main),this.m_Context.Dc.ComboScore.ComboCount=this.m_Context.Status.MainComboCount,this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.Clear(),this.m_Context.Status.ActionDesc.PopFreeThisRound())},n.prototype.OnScenesShowed=function(){this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.SwitchTo(new s(!0))},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Scene.removeEventListener(e.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this)},n}(i);__reflect(u.prototype,"Stage_InterludeExit");var h=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SHOW_WIN=1,e.STATUS_ALL_WIN_TRANED=2,e.STATUS_SCORE_BAR_PLUS_WIN=3,e.STATUS_SCORE_BAR_TO_CREDIT=4,e.STATUS_NEXT_ROUND=5,e.m_State=e.STATUS_NONE,e.m_TotalWin=0,e.m_IsBigWinShow=!1,e.m_DelayActionTs=0,e.m_CurTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.COMMIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_CurTs=0,this.m_TotalWin=this.m_Context.Status.ActionDesc.TotalWin,this.m_TotalWin<=0?(this.m_State=this.STATUS_NEXT_ROUND,this.m_DelayActionTs=400):(this.m_State=this.STATUS_SHOW_WIN,this.m_DelayActionTs=200),this.m_Context.Dc.BigWin.addEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.addEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this)},n.prototype.OnTranFinished=function(){this.m_State=this.STATUS_ALL_WIN_TRANED,this.m_DelayActionTs=1e3},n.prototype.Timing_100msUP=function(t){if(this.m_State!=this.STATUS_NONE&&0!=this.m_DelayActionTs)switch(this.m_State){case this.STATUS_SHOW_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.m_IsBigWinShow=this.m_TotalWin/this.m_Context.Dc.ScoreBar.Bet>=50,this.m_IsBigWinShow?this.m_Context.Dc.BigWin.Show(this.m_Context.Dc.ScoreBar.Bet,this.m_TotalWin):(this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.NormalScore.TransTo(this.m_TotalWin,2)));break;case this.STATUS_ALL_WIN_TRANED:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToNextLevel(),this.m_State=this.STATUS_SCORE_BAR_PLUS_WIN);break;case this.STATUS_SCORE_BAR_PLUS_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Dc.ScoreBar.Win=this.m_TotalWin,this.m_State=this.STATUS_SCORE_BAR_TO_CREDIT);break;case this.STATUS_SCORE_BAR_TO_CREDIT:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.Commit(this.m_Context.Status.ActionDesc.Credit,this.m_TotalWin,this.m_Context.Status.ActionDesc.HasBonusGame),this.m_State=this.STATUS_NEXT_ROUND);break;case this.STATUS_NEXT_ROUND:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.SwitchTo(new o))}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.BigWin.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this)},n}(i);t.Stage_Commit=h,__reflect(h.prototype,"game.DragonZone.Core.Stage_Commit")}(t=e.Core||(e.Core={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.Stage=null,n.IsRunning=!1,n.CurrentGameStaus=e.Enum.GameStatus.None,n.UserLevelBet=null,n.InitResponse=null,n.MainComboCount=0,n.ActionDesc=new i,n}return __extends(n,t),n.prototype.Clear=function(){this.IsRunning=!1,this.ActionDesc.Clear()},n}(slot.Game.Status);t.Status=n,__reflect(n.prototype,"game.DragonZone.Core.Status");var i=function(){function e(){this.m_Frees=[],this.LastFreeTotalWin=0}return Object.defineProperty(e.prototype,"Main",{get:function(){return this.m_Main},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Free",{get:function(){return this.m_Frees[0][0]},enumerable:!0,configurable:!0}),e.prototype.IsSpinOver=function(){return this.m_Frees[0].length<=0},e.prototype.PopThisSpin=function(){if(!this.IsSpinOver()){var e=this.m_Frees[0].splice(0,1)[0];this.LastFreeTotalWin+=e.TotalWin,e.Dispose(),e=null}},e.prototype.IsRoundOver=function(){return this.m_Frees.length<=0},e.prototype.PopFreeThisRound=function(){this.IsRoundOver()||(this.m_Frees.splice(0,1)[0],this.LastFreeTotalWin=0)},e.prototype.Init=function(e){if(this.Clear(),this.TotalWin=e.all_win_amt,this.Credit=e.user_amt,this.m_Main=new o(e.slot),this.m_Frees=[],null!=e.bonus_slot){for(var t=0;t<e.bonus_slot.length;t++){this.m_Frees.push([]);for(var n=0;n<e.bonus_slot[t].length;n++)this.m_Frees[t].push(new o(e.bonus_slot[t][n]))}this.HasBonusGame=this.m_Frees.length>0}},e.prototype.Clear=function(){if(null!=this.m_Main&&(this.m_Main.Dispose(),this.m_Main=null),null!=this.m_Frees){for(var e=0;e<this.m_Frees.length;e++)for(var t=this.m_Frees[e];t.length>0;){var n=t.splice(0,1)[0];n.Dispose(),n=null}this.m_Frees=null}},e}();t.ActionDesc=i,__reflect(i.prototype,"game.DragonZone.Core.ActionDesc");var o=function(){function t(t){this.m_Info=null,this.m_ReelTables=null,this.m_TotalWin=0,this.m_StopPosList=null,this.m_Lines=null,this.m_WinSymbolIndexs=null,this.m_BombSymbolIndexs=null,this.m_DropSymbols=null,this.m_Odds=null,this.m_ScatterIndexs=null,this.m_Info=t,this.m_ReelTables=[];for(var n=t.demo_slot.split(","),i=0,o=e.Config.Reel.ReelCount;o>i;i++){this.m_ReelTables.push([]),this.m_ReelTables[i].push(+n[i+e.Config.Reel.ReelCount]);for(var r=t.reels[i],s=r.length-1;s>=0;s--)this.m_ReelTables[i].push(+r[s]);for(var a=t.combo_reels[i],s=0;s<a.length;s++)this.m_ReelTables[i].push(+a[s]);this.m_ReelTables[i].push(+n[i])}}return t.prototype.StopPosList=function(){if(null==this.m_StopPosList){this.m_StopPosList=[];
for(var t=e.Config.Reel.RowCount+2,n=0;n<this.m_ReelTables.length;n++)this.m_StopPosList.push([]),Array.prototype.push.apply(this.m_StopPosList[n],this.m_ReelTables[n].splice(0,t))}return this.m_StopPosList},t.prototype.Lines=function(){return null==this.m_Lines&&(this.m_Lines=this.m_Info.line.splice(0,1)[0]),this.m_Lines},t.prototype.WinSymbolIndexs=function(){if(null==this.m_WinSymbolIndexs){this.m_WinSymbolIndexs=[],this.m_BombSymbolIndexs=[];for(var t=0;t<e.Config.Reel.ReelCount;t++)this.m_WinSymbolIndexs.push([]),this.m_BombSymbolIndexs.push([]);if(this.m_Info.win_index.length>0)for(var n=this.m_Info.win_index.splice(0,1)[0],i=0;i<n.length;i++){var o=n[i],r=o>=512?o-512:o,t=Math.floor(r%e.Config.Reel.ReelCount),s=3-Math.floor(r/e.Config.Reel.ReelCount);this.m_BombSymbolIndexs[t].push(s),o>=512&&this.m_WinSymbolIndexs[t].push(s)}}return this.m_WinSymbolIndexs},t.prototype.BombSymbolIndexs=function(){return this.m_BombSymbolIndexs},t.prototype.DropSymbols=function(){if(null==this.m_DropSymbols){this.m_DropSymbols=[];for(var e=0;e<this.m_BombSymbolIndexs.length;e++)this.m_DropSymbols.push([]),Array.prototype.push.apply(this.m_DropSymbols[e],this.m_ReelTables[e].splice(0,this.m_BombSymbolIndexs[e].length))}return this.m_DropSymbols},t.prototype.Odds=function(){if(null==this.m_Odds){this.m_Odds=[];for(var t=this.m_Info.odds.splice(0,1)[0],n=0;n<e.Config.Reel.ReelCount;n++){this.m_Odds.push([]);for(var i=0;i<e.Config.Reel.RowCount+2;i++)this.m_Odds[n].push(-1)}for(var o=0;o<t.length;o++){var n=o%e.Config.Reel.ReelCount,i=Math.floor(o/e.Config.Reel.ReelCount)+1;this.m_Odds[n][i]=t[o]}}return this.m_Odds},t.prototype.ThisRoundWin=function(){return null==this.m_Win&&(this.m_Win=this.m_Info.win_amts.splice(0,1)[0],this.m_TotalWin+=this.m_Win),this.m_Win},Object.defineProperty(t.prototype,"TotalWin",{get:function(){return this.m_TotalWin},enumerable:!0,configurable:!0}),t.prototype.ScatterIndexs=function(){if(null==this.m_ScatterIndexs){this.m_ScatterIndexs=[];for(var t=0;t<this.m_StopPosList.length;t++){var n=this.m_StopPosList[t].length;this.m_ScatterIndexs.push([]);for(var i=1;n-1>i;i++)this.m_StopPosList[t][i]==e.Enum.SymbolCodes.FreeGame&&this.m_ScatterIndexs[t].push(i)}}return this.m_ScatterIndexs},t.prototype.ScatterCount=function(e){for(var t=0,n=0;e>=n;n++)t+=this.m_ScatterIndexs[n].length;return t},t.prototype.CanIntoFreeGame=function(){return null==this.m_ScatterIndexs?!1:this.ScatterCount(e.Config.Reel.ReelCount-1)>=3},t.prototype.IsSpinFinished=function(){return this.m_Info.win_amts.length<=0},t.prototype.Update=function(){if(this.m_ScatterIndexs=null,this.m_WinSymbolIndexs=null,this.m_BombSymbolIndexs=null,this.m_DropSymbols=null,this.m_Lines=null,this.m_Odds=null,this.m_Win=null,this.ScatterIndexs(),this.ThisRoundWin(),this.WinSymbolIndexs(),null!=this.m_BombSymbolIndexs){this.DropSymbols();for(var e=0;e<this.m_BombSymbolIndexs.length;e++){for(var t=this.m_DropSymbols[e],n=this.m_BombSymbolIndexs[e],i=this.m_StopPosList[e],o=[],r=0;r<i.length;r++)-1==n.indexOf(r)&&o.push(i[r]);for(var r=0;r<t.length;r++)o.push(t[r]);this.m_StopPosList[e]=o}}},t.prototype.Dispose=function(){this.m_Info=null,this.m_ReelTables=null,this.m_StopPosList=null,this.m_ScatterIndexs=null,this.m_WinSymbolIndexs=null,this.m_BombSymbolIndexs=null,this.m_DropSymbols=null,this.m_Lines=null,this.m_Odds=null,this.m_Win=null},t}();__reflect(o.prototype,"SpinData")}(t=e.Core||(e.Core={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(slot.Game.Worker);e.Worker=t,__reflect(t.prototype,"game.DragonZone.Core.Worker")}(t=e.Core||(e.Core={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Index=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Index",{get:function(){return this.m_Index},enumerable:!0,configurable:!0}),t.IN_PLACE="Bomb_IN_PLACE",t}(egret.Event);e.Bomb=t,__reflect(t.prototype,"game.DragonZone.Event.Bomb")}(t=e.Event||(e.Event={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===n&&(n=-1),void 0===i&&(i=-1),void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_Reel=n,s.m_Row=i,s}return __extends(t,e),Object.defineProperty(t.prototype,"Reel",{get:function(){return this.m_Reel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Row",{get:function(){return this.m_Row},enumerable:!0,configurable:!0}),t.BOMBING="ExplosionUI_BOMBING",t.FINISHED="ExplosionUI_FINISHED",t}(egret.Event);e.ExplosionUI=t,__reflect(t.prototype,"game.DragonZone.Event.ExplosionUI")}(t=e.Event||(e.Event={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.ACTION_FINISHED="Scene_ACTION_FINISHED",t}(egret.Event);e.Scene=t,__reflect(t.prototype,"game.DragonZone.Event.Scene")}(t=e.Event||(e.Event={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton errorsingleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}e.Get_en_US=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_08_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_vi_VN=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_07_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_zh_TW=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e.LOADING_TITLE="LOADING_TITLE",e.LOADING_INFO="LOADING_INFO",e.LOADING_LOADING="LOADING_LOADING",e.LOADING_ENTER_GAME="LOADING_ENTER_GAME",e.HELP_TITLE_1="HELP_TITLE_1",e.HELP_TITLE_2="HELP_TITLE_2",e.HELP_TITLE_3="HELP_TITLE_3",e.HELP_TITLE_4="HELP_TITLE_4",e.HELP_TITLE_5="HELP_TITLE_5",e.HELP_TITLE_6="HELP_TITLE_6",e.HELP_TITLE_7="HELP_TITLE_7",e.HELP_TITLE_8="HELP_TITLE_8"}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"dz_LOGO_Loading_game006_01_png",LOADING_INFO:"dz_msg_Loading_game006_english_png",LOADING_LOADING:"Loading{0}",LOADING_ENTER_GAME:"ENTER GAME"}},e.Main=function(){return{HELP_TITLE_1:"Special feature",HELP_TITLE_2:"Paytable",HELP_TITLE_3:"Payline",HELP_TITLE_4:"FREE GAME",HELP_TITLE_5:"FREE GAME - Line feature",HELP_TITLE_6:"FREE GAME - Special feature",HELP_TITLE_7:"FREE GAME - Scoring rule",HELP_TITLE_8:"FREE GAME - Paytable"}},e}();e.en_US=t,__reflect(t.prototype,"game.DragonZone.Localization.Text.en_US")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"dz_LOGO_Loading_game006_01_png",LOADING_INFO:"dz_msg_Loading_game006_vietnamese_png",LOADING_LOADING:"{0}",LOADING_ENTER_GAME:"truy cp tr chi"}},e.Main=function(){return{HELP_TITLE_1:"Quy lut c bit",HELP_TITLE_2:"Bng t l",HELP_TITLE_3:"Thng ng ni",HELP_TITLE_4:"FREE GAME",HELP_TITLE_5:"FREE GAME - Quy lut kt ni",HELP_TITLE_6:"FREE GAME - Quy lut c bit",HELP_TITLE_7:"FREE GAME - Gii thch v nhn im",HELP_TITLE_8:"FREE GAME - Biu t l"}},e}();e.vi_VN=t,__reflect(t.prototype,"game.DragonZone.Localization.Text.vi_VN")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"dz_LOGO_Loading_game006_00_png",LOADING_INFO:"dz_msg_Loading_game006_chinese_png",LOADING_LOADING:"{0}",LOADING_ENTER_GAME:""}},e.Main=function(){return{HELP_TITLE_1:"",HELP_TITLE_2:"",HELP_TITLE_3:"",HELP_TITLE_4:"FREE GAME",HELP_TITLE_5:"FREE GAME-",HELP_TITLE_6:"FREE GAME-",HELP_TITLE_7:"FREE GAME-",HELP_TITLE_8:"FREE GAME-"}},e}();e.zh_TW=t,__reflect(t.prototype,"game.DragonZone.Localization.Text.zh_TW")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Entrance.BG={source:"dz_msg_bg_png",x:170,y:220},t.Entrance.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png",x:470,y:300},t.Entrance.Title2={normal:"msg_youwin_png",shine:"msg_youwin_G_png",x:900,y:455},t.Entrance.Title3={normal:"msg_freegames_png",shine:"msg_freegames_G_png",x:765,y:640},t.Entrance.Frame={source:"dz_msg_frame_02_png",x:490,y:460},t.Entrance.Button={up:"dz_msg_button_png",down:"dz_msg_button_glow_png",label:"msg_button_start_",x:630,y:820},t.Entrance.Digit_Point={x:250,y:510},t.Exeunt.BG={source:"dz_msg_bg_png",x:170,y:220},t.Exeunt.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png",x:470,y:300},t.Exeunt.Title2={normal:"msg_youwin_png",shine:"msg_youwin_G_png",x:900,y:455},t.Exeunt.Title3={normal:"",shine:""},t.Exeunt.Frame={source:"dz_msg_frame_02_png",x:490,y:460},t.Exeunt.Button={up:"dz_msg_button_png",down:"dz_msg_button_glow_png",label:"msg_button_backtogame_",x:630,y:820},t.Exeunt.Digit_Point={x:285,y:610},t}return __extends(t,e),t}(slot.Property.BlackboardSwitcherProperty);e.BlackboardSwitcherProperty=t,__reflect(t.prototype,"game.DragonZone.Property.BlackboardSwitcherProperty")}(t=e.Property||(e.Property={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r,s,a,l,m){var u=e.call(this,t,0,1)||this;return u.McX=-55,u.McY=-38,u.RowHeight=-1,u.Payout=-1,u.Normal=n,u.Blur=i,u.Win=o,void 0!=a&&(u.RowHeight=a),void 0!=r&&(u.OffestX=r),void 0!=s&&(u.OffestY=s),void 0!=l&&(u.McX=l),void 0!=m&&(u.McY=m),u}return __extends(t,e),t}(slot.Property.SymbolProperty);e.SymbolProperty=t,__reflect(t.prototype,"game.DragonZone.Property.SymbolProperty")}(t=e.Property||(e.Property={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.GetRandDemoPosList=function(){var t=[],n=[];for(var i in e.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==e.Enum.SymbolCodes.FreeGame)continue;t.push(o)}for(var r=0;r<e.Config.Reel.ReelCount;r++)for(var s=0;2>s;s++){var a=Math.floor(Math.random()*t.length);n.push(t[a])}return n},t.StrSlotToDemoPosList=function(t,n){void 0===n&&(n=!1),bfcl.Debug.Assert(null!=t&&t.length>0);for(var i=[],o=t.split(","),r=0,s=o;r<s.length;r++){var t=s[r],a=+t;n&&a==e.Enum.SymbolCodes.FreeGame&&(a=e.Enum.SymbolCodes.Dragon_Fire),i.push(a)}return i},t}();t.Array=n,__reflect(n.prototype,"game.DragonZone.Utils.Array")}(t=e.Utils||(e.Utils={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.GetRandDemoPosList=function(){var t=[],n=[];for(var i in e.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==e.Enum.SymbolCodes.FreeGame)continue;t.push(o)}for(var r=0;r<e.Config.Reel.ReelCount;r++)for(var r=0;r<e.Config.Reel.RowCount;r++){var s=Math.floor(Math.random()*t.length);n.push(t[s])}return n},t}();t.Slot=n,__reflect(n.prototype,"game.DragonZone.Utils.Slot")}(t=e.Utils||(e.Utils={}))}(t=e.DragonZone||(e.DragonZone={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.MermaidSlot,n.Request,n.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return e.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mermaidslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/mms_game/get_last_slot_init"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Init=n,__reflect(n.prototype,"game.MermaidSlot.API.Init")}(t=e.API||(e.API={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=bfcl.Constants.GameIds.MermaidSlot,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"game.MermaidSlot.API.Init.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"game.MermaidSlot.API.Init.Response");var i=function(){function e(){}return e}();e.BetInfo=i,__reflect(i.prototype,"game.MermaidSlot.API.Init.BetInfo");var o=function(){function e(){}return e}();e.Bubble=o,__reflect(o.prototype,"game.MermaidSlot.API.Init.Bubble")}(t=e.Init||(e.Init={}))}(t=e.API||(e.API={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.GetGameInfo=function(t,n){var i=new e.Init;n.Show(),i.OnSuccessCallback=function(e){n.Hide(),null!=t&&t(e)},i.OnFailureCallback=function(e){n.Hide()},i.Send()},t.GetSlotDesc=function(t,n){var i=new e.Spin;i.Request.bet_amt=t,i.OnSuccessCallback=function(e){null!=n&&n(e)},i.OnFailureCallback=function(e){},i.Send()},t}();e.Service=t,__reflect(t.prototype,"game.MermaidSlot.API.Service")}(t=e.API||(e.API={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.MermaidSlot,n.Request,n.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return e.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mermaidslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/mms_game/round_result"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Spin=n,__reflect(n.prototype,"game.MermaidSlot.API.Spin")}(t=e.API||(e.API={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=bfcl.Constants.GameIds.MermaidSlot,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"game.MermaidSlot.API.Spin.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"game.MermaidSlot.API.Spin.Response");var i=function(){function e(){}return e}();e.Data=i,__reflect(i.prototype,"game.MermaidSlot.API.Spin.Data");var o=function(){function e(){}return e}();e.Info=o,__reflect(o.prototype,"game.MermaidSlot.API.Spin.Info");var r=function(){function e(){}return e}();e.Bubble=r,__reflect(r.prototype,"game.MermaidSlot.API.Spin.Bubble")}(t=e.Spin||(e.Spin={}))}(t=e.API||(e.API={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.Types=new bfcl.Collections.Dictionary([{Key:e.Enum.StageTypes.BET,Value:"BET"},{Key:e.Enum.StageTypes.MAIN_SPIN,Value:"SPIN"},{Key:e.Enum.StageTypes.MAIN_RESULT,Value:"MAIN_RESULT"},{Key:e.Enum.StageTypes.INTERLUDE_ENTRANCE,Value:"INTERLUDE_ENTRANCE"},{Key:e.Enum.StageTypes.FREE_SPIN,Value:"FREE_SPIN"},{Key:e.Enum.StageTypes.FREE_RESULT,Value:"FREE_RESULT"},{Key:e.Enum.StageTypes.INTERLUDE_EXIT,Value:"INTERLUDE_EXIT"},{Key:e.Enum.StageTypes.COMMIT,Value:"COMMIT"}]),t}();t.Stages=n,__reflect(n.prototype,"game.MermaidSlot.Config.Stages");var i=function(){function t(){}return t.Res=new bfcl.Collections.Dictionary([{Key:e.Enum.SoundIds.MAIN_BGM,Value:"md_ngbgm_mp3"},{Key:e.Enum.SoundIds.BONUS_BGM,Value:"md_fgBgm_mp3"},{Key:e.Enum.SoundIds.ADD_SPIN,Value:"md_fgSpins_mp3"},{Key:e.Enum.SoundIds.SCATTER_DRAW,Value:"md_ngFrame_mp3"},{Key:e.Enum.SoundIds.REEL_SPIN,Value:"md_ngRoll_mp3"},{Key:e.Enum.SoundIds.REEL_STOP,Value:"md_ngStop_mp3"},{Key:e.Enum.SoundIds.SYMBOL_WIN,Value:"md_ngWin_mp3"},{Key:e.Enum.SoundIds.SCATTER_WIN,Value:"md_IconFgWin_mp3"},{Key:e.Enum.SoundIds.SCATTER_SHOW,Value:"md_IconFgShow_mp3"},{Key:e.Enum.SoundIds.BUBBLE_CARTOON,Value:"md_BubbleCutscenes_mp3"},{Key:e.Enum.SoundIds.BUBBLE_IN,Value:"md_BubbleShow_mp3"},{Key:e.Enum.SoundIds.BUBBLE_OUT,Value:"md_BubbleBlowout_mp3"},{Key:e.Enum.SoundIds.INTERLUDE_ENTRANCE,Value:"md_fgTransitions1_mp3"},{Key:e.Enum.SoundIds.INTERLUDE_EXIT,Value:"md_fgTransitions2_mp3"},{Key:e.Enum.SoundIds.ARIEL_SHOW,Value:"md_MermaidIconChange_mp3"},{Key:e.Enum.SoundIds.SPIN_CLICK,Value:"md_ngStart_mp3"},{Key:e.Enum.SoundIds.SPIN_A_ROUND,Value:"md_fgLessSpins_mp3"}]),t}();t.Sound=i,__reflect(i.prototype,"game.MermaidSlot.Config.Sound");var o=function(){function e(){}return e.JwToken="eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiMjE5NzA4NTY2IiwiZXhwIjoxODI3Mzc5OTY1fQ.WKU0bchTSQPAkqpaHQYCBwkopawrrSpLN7HrFOGhobelmRlndHb2TSr7bb0nEGgyZUH7skU3dg01GMEzHTpYqHBXaIX5ycRuol0o9JrnHGKy4_Vfyfb8Z5FfNC8pRAY_g1y7GTohHIaZA0Q04BoH_LMLlayAs0rqePF7wgpwUDRvacUVuBc_hUf4Pf_AKSstBHsPM_QL1iLSLn0qpK4-JxRoPWr-h635YiK8s7XiXgx7CrUBKFbtwXJZU6yzokzuGdYZranO4krC0sORfzSDcRDU8iHNWGoH3KklhSMIXJO_tqxgQi6ocsrMLopOwJ-pfk3BPFWWtQ5AQrweghUPGw",e}();t.User=o,__reflect(o.prototype,"game.MermaidSlot.Config.User");var r=function(){function e(){}return e.ReelCount=5,e.RowCount=3,e.SlotReelStartTimeInterval_1=500,e}();t.Reel=r,__reflect(r.prototype,"game.MermaidSlot.Config.Reel");var s=function(){function e(){}return e.MESSAGE_SWITCH_STATION=1000007,e}();t.TextID=s,__reflect(s.prototype,"game.MermaidSlot.Config.TextID");var a=function(){function e(){}return e.GetBubbleCartoonDelaySec=function(e){return e?this.BubbleCartoonDelaySec_Turbo:this.BubbleCartoonDelaySec},e.GetReelRollSpaceSec=function(e){return e?this.ReelRollSpaceSec_Turbo:this.ReelRollSpaceSec},e.GetBubbleShineDelaySec=function(e){return e?this.BubbleShineDelaySec_Turbo:this.BubbleShineDelaySec},e.GetBubbleShowDelaySec=function(e){return e?this.BubbleShowDelaySec_Turbo:this.BubbleShowDelaySec},e.GetBubbleNormalOrBombDelaySec=function(e){return e?this.BubbleNormalOrBombDelaySec_Turbo:this.BubbleNormalOrBombDelaySec},e.GetReelRollDelaySec=function(e,t){return void 0===t&&(t=!1),e?this.ReelRollDelaySec_Turbo:t?this.ReelRollDelaySec:this.ReelRollDelaySec_No_Bubbles},e.ReelRollDelaySec_No_Bubbles=1,e.ReelRollDelaySec=1.5,e.ReelRollDelaySec_Turbo=1.3,e.ReelRollSpeed=3800,e.ReelRollSpaceSec=.2,e.ReelRollSpaceSec_Turbo=.2,e.ReelOscillationBeginSpeed=500,e.ReelOscillationEndSpeed=300,e.ReelOscillationBeginSec=.4,e.ReelOscillationEndSec=.15,e.ReelMoveMotionBlur=.1,e.SymbolEffectSpeed=1,e.DrawWaitSec=3,e.ShowWinDelaySec=.3,e.ShowScoreDelaySec=.5,e.SpinAgainDelaySec=1,e.BubbleCartoonDelaySec=1,e.BubbleCartoonDelaySec_Turbo=.5,e.BubbleShowDelaySec=1.8,e.BubbleShowDelaySec_Turbo=1.5,e.BubbleShowSpaceSec=.2,e.BubbleShineDelaySec=.4,e.BubbleShineDelaySec_Turbo=.2,e.BubbleNormalOrBombDelaySec=1,e.BubbleNormalOrBombDelaySec_Turbo=.5,e.WinToCreditSec=.5,e}();t.Parameters=a,__reflect(a.prototype,"game.MermaidSlot.Config.Parameters")}(t=e.Config||(e.Config={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(e,n){var i=t.call(this)||this;return i.m_Timer=null,i.m_CurTs=0,i.m_Timer=new egret.Timer(e,n),i.Stop(),i}return __extends(n,t),Object.defineProperty(n.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_ListenEvent?(this.m_Timer.addEventListener(egret.TimerEvent.TIMER,this.OnUpdate,this),this.m_Timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.OnFinished,this)):(this.m_Timer.removeEventListener(egret.TimerEvent.TIMER,this.OnUpdate,this),this.m_Timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.OnFinished,this)))},enumerable:!0,configurable:!0}),n.prototype.OnUpdate=function(t){var n=egret.getTimer(),i=n-this.m_CurTs;this.m_CurTs=n,this.dispatchEvent(new e.Event.Timer(e.Event.Timer.UPDATE,i))},n.prototype.OnFinished=function(){this.dispatchEvent(new e.Event.Timer(e.Event.Timer.FINISHED))},n.prototype.Start=function(){this.ListenEvent=!0,this.m_Timer.start(),this.m_CurTs=egret.getTimer()},n.prototype.Stop=function(){this.ListenEvent=!1,this.m_Timer.stop()},n.prototype.Dispose=function(){this.Stop(),this.m_Timer=null},n}(egret.EventDispatcher);t.Timer=n,__reflect(n.prototype,"bfcl.Controls.Timer")}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_BG=new eui.Image,t.m_Title=new eui.Image,t.m_Digits=new bfcl.Controls.Digits.NormalDigits("md_FreeSpinDigits_fnt"),t.m_Finish=new eui.Image,t}return __extends(t,e),Object.defineProperty(t.prototype,"Spinned",{get:function(){return this.m_Spinned},set:function(e){this.m_Spinned=e,this.RefreshRemain()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Count",{get:function(){return this.m_Count},set:function(e){this.m_Count=e,this.RefreshRemain()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsFinished",{get:function(){return this.m_Spinned>=this.m_Count},enumerable:!0,configurable:!0}),t.prototype.RefreshRemain=function(){this.m_Digits.Number=this.m_Count-this.m_Spinned,this.m_Title.visible=this.m_Digits.visible=this.m_Digits.Number>0,this.m_Finish.visible=!this.m_Title.visible},t.prototype.Init=function(){this.m_BG.texture=RES.getRes("md_free_spin_png"),this.m_Title.texture=RES.getRes("md_msg_freespinsX_png"),this.m_Title.x=120,this.m_Title.y=16,this.m_Finish.texture=RES.getRes("md_msg_freespinscompleted_png"),this.m_Finish.x=58,this.m_Finish.y=16,this.m_Digits.TextAlign=egret.HorizontalAlign.LEFT,this.m_Digits.x=515,this.m_Digits.y=20,this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_Digits),this.addChild(this.m_Finish),this.touchChildren=!1,this.touchEnabled=!1,this.x=800-this.m_BG.width/2,this.y=62,this.Clear()
},t.prototype.Plus=function(e){this.Spinned++},t.prototype.Clear=function(){this.m_Spinned=0,this.m_Count=0,this.m_Title.visible=!1,this.m_Finish.visible=!1},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Digits),this.removeChild(this.m_Finish),this.m_BG=null,this.m_Title=null,this.m_Finish=null,this.m_Digits.Dispose(),this.m_Digits=null},t}(eui.Component);e.AddSpinFrameUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.AddSpinFrameUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;n.m_BG=new eui.Image,n.m_Title=new eui.Image,n.m_BarBG=new eui.Image,n.m_BarMask=new eui.Image,n.m_BarFG=new eui.Image,n.m_Help=new eui.Image,n.m_BtnEnterGame=new bfcl.Controls.ButtonUI,n.m_Remark=new eui.Label,n.m_ProccessStartX=-1,n.m_ProccessWidth=-1,n.m_BG.texture=RES.getRes("md_bg_Loading_game014_00_png"),n.m_BG.width=egret.sys.$TempStage.stageWidth,n.m_BG.height=egret.sys.$TempStage.stageHeight,n.m_Title.texture=RES.getRes("md_LOGO_Loading_game014_00_png"),n.m_Title.x=n.m_BG.width/3.1,n.m_Title.y=.08*n.m_BG.height,n.m_BarBG.texture=RES.getRes("H5_Loading_03_png"),n.m_BarBG.x=n.m_BG.width/2-n.m_BarBG.width/2,n.m_BarBG.y=.85*n.m_BG.height-n.m_BarBG.height/2,n.m_BarMask.texture=RES.getRes("H5_Loading_Mask_png"),n.m_BarMask.width*=.84,n.m_BarMask.x=n.m_BG.width/2-n.m_BarMask.width/2,n.m_BarMask.y=.85*n.m_BG.height-n.m_BarMask.height/2,n.m_BarFG.texture=RES.getRes("H5_Loading_04_png"),n.m_BarFG.height*=1.15,n.m_BarFG.width*=1.05,n.m_BarFG.y=.85*n.m_BG.height-n.m_BarFG.height/2,n.m_ProccessStartX=n.m_BG.width/2-.75*n.m_BarFG.width,n.m_ProccessWidth=n.m_BG.width/2-.25*n.m_BarFG.width-n.m_ProccessStartX,n.m_BarFG.mask=n.m_BarMask,n.m_Help.texture=RES.getRes("md_msg_Loading_game014_chinese_png"),n.m_Help.x=n.m_BG.width/2-n.m_Help.width/2,n.m_Help.y=.73*n.m_BG.height-n.m_Help.height/2,n.m_Remark.width=500,n.m_Remark.height=200,n.m_Remark.textAlign=egret.HorizontalAlign.CENTER,n.m_Remark.x=n.m_BG.width/2-n.m_Remark.width/2,n.m_Remark.y=n.m_BG.height-n.m_Remark.height/2,n.m_BtnEnterGame.Init("md_btn_Loading_game014_01_png","md_btn_Loading_game014_01_black_png"),n.m_BtnEnterGame.AddLabel(new eui.Label);var i=new bfcl.Localization.Library;return i.Register(bfcl.Constants.Codepages.TW,e.Localization.Text.zh_TW.Loading()),i.Register(bfcl.Constants.Codepages.EN,e.Localization.Text.en_US.Loading()),i.Register(bfcl.Constants.Codepages.VN,e.Localization.Text.vi_VN.Loading()),n.addChild(n.m_BG),n.addChild(n.m_Title),n.addChild(n.m_Help),n.addChild(n.m_Remark),n.addChild(n.m_BarBG),n.addChild(n.m_BarMask),n.addChild(n.m_BarFG),n.addChild(n.m_BtnEnterGame),n.m_LocalizationManager=new bfcl.Localization.Manager(i),n.m_LocalizationManager.Bind(n.m_Title,bfcl.Constants.Propertys.Texture,e.Localization.Text.LOADING_TITLE),n.m_LocalizationManager.Bind(n.m_Help,bfcl.Constants.Propertys.Texture,e.Localization.Text.LOADING_INFO),n.m_LocalizationManager.Bind(n.m_BtnEnterGame.Label,bfcl.Constants.Propertys.Text,e.Localization.Text.LOADING_ENTER_GAME),n.Clear(),n}return __extends(n,t),Object.defineProperty(n.prototype,"Preccess",{set:function(n){t.prototype.SetPreccess.call(this,n);var i=this.TotalPercent();this.m_BarFG.x=this.m_ProccessStartX+this.m_ProccessWidth*(i/100),this.m_LocalizationManager.Bind(this.m_Remark,bfcl.Constants.Propertys.Text,e.Localization.Text.LOADING_LOADING,i.toFixed(0)+"/100")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CodePage",{set:function(e){this.m_LocalizationManager.CodePage=e},enumerable:!0,configurable:!0}),n.prototype.onProgress=function(e,t){this.Preccess=e/t},n.prototype.Finished=function(){this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!1,this.m_BtnEnterGame.visible=!0,this.m_BtnEnterGame.x=this.m_BG.width/2-this.m_BtnEnterGame.width/2,this.m_BtnEnterGame.y=.88*this.m_BG.height-this.m_BtnEnterGame.height/2,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.m_BtnEnterGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.Clear=function(){t.prototype.Clear.call(this),this.Preccess=0,this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!0,this.m_BtnEnterGame.visible=!1,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.m_BtnEnterGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.OnClick=function(e){this.dispatchEvent(new bfcl.Event.Loading(bfcl.Event.Loading.CLICK))},n.prototype.Dispose=function(){this.m_LocalizationManager.Dispose(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Help),this.removeChild(this.m_Remark),this.removeChild(this.m_BarBG),this.removeChild(this.m_BarMask),this.removeChild(this.m_BarFG),this.removeChild(this.m_BtnEnterGame),this.m_BtnEnterGame.Dispose(),this.m_BtnEnterGame=null,this.m_BG=null,this.m_Title=null,this.m_BarBG=null,this.m_BarMask=null,this.m_BarFG=null,this.m_Help=null,this.m_Remark=null},n}(bfcl.Controls.LoadingPanelUI);t.LoadingPanelUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.LoadingPanelUI")}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(n){var i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.m_Scenes=new bfcl.Collections.Dictionary,e.m_Duration=1e3,e}return __extends(o,i),Object.defineProperty(o.prototype,"CurSceneType",{set:function(e){if(this.m_CurSceneType!=e){this.m_CurSceneType=e;for(var t=0;t<this.m_Scenes.Count;t++){var n=this.m_Scenes.GetValuePair(t);n.Value.Container.alpha=n.Key==this.m_CurSceneType?1:0}}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Main",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(t.Enum.ScenesModes.MAIN_SPIN):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Free",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(t.Enum.ScenesModes.FREE_SPIN):void 0},enumerable:!0,configurable:!0}),o.prototype.Init=function(e,i){this.m_Scenes.Add(t.Enum.ScenesModes.MAIN_SPIN,new n.SceneUI(e,{png:"md_BG_Bubbles_png",json:"md_BG_Bubbles_json",frame:"BG"})),this.m_Scenes.Add(t.Enum.ScenesModes.FREE_SPIN,new n.SceneUI(i,{png:"md_NG_Bubbles_png",json:"md_NG_Bubbles_json",frame:"NG"})),this.Clear()},o.prototype.SwitchTo=function(e,t){var n=this;if(void 0===t&&(t=!1),bfcl.Debug.Assert(this.m_Scenes.ContainsKey(e)),t)return void this.OnToFinished(e);this.RemoveTweens();for(var i=0;i<this.m_Scenes.Count;i++){var o=this.m_Scenes.GetValuePair(i),r=o.Key==e?1:0,s=egret.Tween.get(o.Value.Container).to({alpha:r},this.m_Duration);i==this.m_Scenes.Count-1&&s.call(function(){n.OnToFinished(e)})}},o.prototype.OnToFinished=function(t){this.RemoveTweens(),this.CurSceneType=t,this.dispatchEvent(new e.MermaidSlot.Event.Scene(e.MermaidSlot.Event.Scene.ACTION_FINISHED))},o.prototype.RemoveTweens=function(){for(var e=0;e<this.m_Scenes.Count;e++)egret.Tween.removeTweens(this.m_Scenes.GetValuePair(e).Value.Container)},o.prototype.Clear=function(){this.RemoveTweens(),this.CurSceneType=t.Enum.ScenesModes.MAIN_SPIN},o.prototype.Dispose=function(){for(var e=0;e<this.m_Scenes.Count;e++){var t=this.m_Scenes.GetValuePair(e).Value;t.Dispose(),t=null}this.m_Scenes.Clear()},o}(eui.Component);n.SceneSwitcherUI=i,__reflect(i.prototype,"game.MermaidSlot.Controls.SceneSwitcherUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Controls||(t.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,i){var o=t.call(this)||this;return o.m_Factory=new dragonBones.EgretFactory,o.m_ArmatureDisplay=null,o.DrawScatters=new e.Frames.DrawScattersUI,o.WinFrameController=new e.Frames.WinFrameControllerUI,o.ArielController=new e.Ariel.ArielControllerUI,o.DrawFrames=new e.Frames.DrawUI,o.Container=n[0],o.m_Factory.parseDragonBonesData(RES.getRes("md_Background_ske_json")),o.m_Factory.parseTextureAtlasData(RES.getRes("md_Background_tex_json"),RES.getRes("md_Background_tex_png")),o.m_ArmatureDisplay=o.m_Factory.buildArmatureDisplay("Armature"),o.m_ArmatureDisplay.x=1060,o.m_ArmatureDisplay.y=600,o.m_ArmatureDisplay.scaleX=1.05,o.m_ArmatureDisplay.scaleY=1.05,o.m_Bubbles=new particle.GravityParticleSystem(RES.getRes(i.png),RES.getRes(i.json)),o.ReelMachine=new e.ReelMachineUI(320,280,n.slice(1)),o.DrawScatters.Init(),o.ArielController.Init(),o.DrawFrames.Init(),o.WinFrameController.Init(),o.Container.addChildAt(o.m_ArmatureDisplay,0),o.Container.addChildAt(o.m_Bubbles,1),o.Container.addChild(o.ReelMachine),o.Container.addChild(o.DrawScatters),o.Container.addChild(o.ArielController),o.Container.addChild(o.DrawFrames),o.Container.addChild(o.WinFrameController),o.m_ArmatureDisplay.animation.gotoAndPlayByFrame(i.frame),o.m_Bubbles.start(),o}return __extends(n,t),n.prototype.Dispose=function(){this.m_Bubbles.stop(!0),this.Container.removeChild(this.m_ArmatureDisplay),this.Container.removeChild(this.m_Bubbles),this.Container.removeChild(this.ReelMachine),this.Container.removeChild(this.DrawScatters),this.Container.removeChild(this.ArielController),this.Container.removeChild(this.DrawFrames),this.Container.removeChild(this.WinFrameController),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null,this.m_Bubbles=null,this.ReelMachine.Dispose(),this.ReelMachine=null,this.DrawScatters.Dispose(),this.DrawScatters=null,this.ArielController.Dispose(),this.ArielController=null,this.DrawFrames.Dispose(),this.DrawFrames=null,this.WinFrameController.Dispose(),this.WinFrameController=null},n}(eui.Component);e.SceneUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.SceneUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(e){var i=n.call(this)||this;return i.m_Ariels=[],i.m_Container=e,i.m_Factory=new t.ArielFactoryUI(e),i.Clear(),i}return __extends(i,n),i.prototype.Show=function(t,n){var i=this.m_Factory.Pop(t);i.addEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnFadeInFinished,this),i.x=n.x,i.y=n.y,i.Show(),this.m_Ariels.push(i)},i.prototype.OnFadeInFinished=function(t){this.dispatchEvent(new e.Event.Ariel(t.type))},i.prototype.Clear=function(){for(;this.m_Ariels.length>0;){var t=this.m_Ariels.splice(0,1)[0];t.hasEventListener(e.Event.Ariel.FADE_IN_FINISHED)&&t.removeEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnFadeInFinished,this),this.m_Factory.Recycle(t)}},i.prototype.Dispose=function(){this.Clear(),this.m_Factory.Dispose(),this.m_Factory=null},i}(egret.EventDispatcher);t.ArielAnimatorUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Ariel.ArielAnimatorUI")}(n=t.Ariel||(t.Ariel={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.START_X=0,e.START_Y=0,e.UI_WIDTH=0,e.UI_HEIGHT=0,e.m_Animators=null,e}return __extends(i,n),i.prototype.Init=function(e,n,i,o){void 0===e&&(e=293),void 0===n&&(n=245),void 0===i&&(i=297.8),void 0===o&&(o=200),this.START_X=e,this.START_Y=n,this.UI_WIDTH=i,this.UI_HEIGHT=o,this.m_Animators=new t.ArielAnimatorUI(this),this.Clear()},i.prototype.Show=function(t){this.Clear(),this.m_Animators.hasEventListener(e.Event.Ariel.FADE_IN_FINISHED)||this.m_Animators.addEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnEffectFadeInFinished,this);for(var n=0;n<t.length;n++){var i=t[n].Index%5,o=Math.floor(t[n].Index/5),r=new egret.Point(this.START_X+i*this.UI_WIDTH,this.START_Y+this.UI_HEIGHT*o);this.m_Animators.Show(t[n].Type,r)}},i.prototype.OnEffectFadeInFinished=function(){this.dispatchEvent(new e.Event.Ariel(e.Event.Ariel.FADE_IN_FINISHED))},i.prototype.Clear=function(){this.m_Animators.hasEventListener(e.Event.Ariel.FADE_IN_FINISHED)&&this.m_Animators.removeEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnEffectFadeInFinished,this),this.m_Animators.Clear()},i.prototype.Dispose=function(){this.m_Animators.Dispose(),this.m_Animators=null},i}(eui.Component);t.ArielControllerUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Ariel.ArielControllerUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Ariel||(t.Ariel={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.FadeInColor=1,e.FadeOutColor=0,e.m_Mask=new eui.Image,e.m_MovieClip=null,e}return __extends(n,t),Object.defineProperty(n.prototype,"SizeType",{get:function(){return this.m_SizeType},enumerable:!0,configurable:!0}),n.prototype.Init=function(t){this.m_SizeType=t,this.m_Mask.texture=RES.getRes(t==e.Enum.ArielEffectSizeTypes.X2?"md_icon01glow_1X2_png":"md_icon01glow_1X3_png"),this.m_Mask.x=(t==e.Enum.ArielEffectSizeTypes.X2,-63),this.m_Mask.y=t==e.Enum.ArielEffectSizeTypes.X2?-20:-25,this.m_MovieClip=bfcl.Decorator.MovieClip(t==e.Enum.ArielEffectSizeTypes.X2?"md_Icon_Animation_02":"md_Icon_Animation_03"),this.addChild(this.m_MovieClip),this.addChild(this.m_Mask),this.Clear()},n.prototype.Show=function(){var e=this;this.RemoveTween(),this.m_MovieClip.gotoAndStop(0),this.m_MovieClip.visible=!0,this.m_MovieClip.alpha=this.FadeOutColor,this.m_Mask.alpha=this.FadeOutColor,egret.Tween.get(this.m_Mask).to({alpha:this.FadeInColor},400).to({alpha:this.FadeOutColor},400),egret.Tween.get(this.m_MovieClip).wait(400).to({alpha:1},400).call(function(){e.OnFadeInComplete()})},n.prototype.OnFadeInComplete=function(){this.RemoveTween(),this.m_MovieClip.alpha=1,this.m_MovieClip.gotoAndPlay(0,-1),this.m_Mask.alpha=this.FadeOutColor,this.dispatchEvent(new e.Event.Ariel(e.Event.Ariel.FADE_IN_FINISHED))},n.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_Mask),egret.Tween.removeTweens(this.m_MovieClip)},n.prototype.Clear=function(){this.RemoveTween(),this.m_MovieClip.stop(),this.m_MovieClip.visible=!1},n.prototype.Dispose=function(){this.removeChild(this.m_MovieClip),this.removeChild(this.m_Mask),this.m_MovieClip.stop(),this.m_MovieClip=null,this.m_Mask=null},n}(eui.Component);t.ArielEffectUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Ariel.ArielEffectUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Ariel||(t.Ariel={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(e){this.m_Items=[],this.m_Container=e}return t.prototype.Pop=function(t){var n,i=this.FindItemIndex(t);return-1!=i?(n=this.m_Items.splice(i,1)[0],n.Clear()):(n=new e.ArielEffectUI,n.Init(t)),this.m_Container.addChild(n),n},t.prototype.FindItemIndex=function(e){for(var t=0;t<this.m_Items.length;t++)if(this.m_Items[t].SizeType==e)return t;return-1},t.prototype.Recycle=function(e){e.Clear(),this.m_Items.push(e)},t.prototype.Dispose=function(){for(;this.m_Items.length>0;){var e=this.m_Items.splice(0,1)[0];this.m_Container.removeChild(e),e.Dispose(),e=null}},t}();e.ArielFactoryUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Ariel.ArielFactoryUI",["bfcl.Interface.IFactory2"])}(t=e.Ariel||(e.Ariel={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){var o=e.call(this)||this;return o.m_StateName="",o.m_Factory=new dragonBones.EgretFactory,o.m_ArmatureDisplay=null,o.m_Factory.parseDragonBonesData(RES.getRes(t)),o.m_Factory.parseTextureAtlasData(RES.getRes(n),RES.getRes(i)),o.m_ArmatureDisplay=o.m_Factory.buildArmatureDisplay("Armature"),o.m_ArmatureDisplay.addEventListener(dragonBones.EventObject.COMPLETE,o.OnAnimComplete,o),o.addChild(o.m_ArmatureDisplay),o}return __extends(t,e),t.prototype.AnimtorPlay=function(e,t){void 0===t&&(t=!1),this.m_StateName=e,this.m_ArmatureDisplay.animation.gotoAndPlayByFrame(e,0,t?0:1)},t.prototype.OnAnimComplete=function(e){"Start"==this.m_StateName&&this.AnimtorPlay("Loop",!0),"Dark_in"==this.m_StateName&&this.AnimtorPlay("Dark_loop",!0)},t.prototype.Dispose=function(){this.m_ArmatureDisplay.removeEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this),this.removeChild(this.m_ArmatureDisplay),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null},t}(eui.Component);e.BasePayBubbleUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Bubble.BasePayBubbleUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Bubble||(e.Bubble={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_Bubbles=new bfcl.Collections.Dictionary,t.m_Values=new bfcl.Collections.Dictionary,t.m_Factory=new dragonBones.EgretFactory,t.m_ArmatureDisplay=null,t.m_CurSecnesMode=e.Enum.ScenesModes.MAIN_SPIN,t}return __extends(i,n),Object.defineProperty(i.prototype,"CurBubbleValues",{get:function(){return this.m_Values.GetValue(this.m_CurSecnesMode)},set:function(e){this.m_Values.Add(this.m_CurSecnesMode,e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"CurPayBubbles",{get:function(){return this.m_Bubbles.GetValue(this.m_CurSecnesMode)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Mode",{set:function(e){for(var t=0;t<this.m_Bubbles.Count;t++){var n=this.m_Bubbles.GetValuePair(t);n.Value.visible=n.Key==e,n.Value.visible&&(this.m_CurSecnesMode=t)}},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_Factory.parseDragonBonesData(RES.getRes("md_Bubble_Scense_ske_json")),this.m_Factory.parseTextureAtlasData(RES.getRes("md_Bubble_Scense_tex_json"),RES.getRes("md_Bubble_Scense_tex_png")),this.m_ArmatureDisplay=this.m_Factory.buildArmatureDisplay("Armature"),this.m_ArmatureDisplay.x=egret.sys.$TempStage.stageWidth/2,this.m_ArmatureDisplay.y=egret.sys.$TempStage.stageHeight/2,this.addChild(this.m_ArmatureDisplay);for(var n=Object.keys(e.Enum.ScenesModes).filter(function(t){return isNaN(Number(e.Enum.ScenesModes[t]))}),i=0;i<n.length;i++){var o=+n[i],r=new t.PayBubblesUI;r.Init(),this.m_Bubbles.Add(o,r),this.m_Values.Add(o,[]),this.addChild(r)}this.Mode=e.Enum.ScenesModes.MAIN_SPIN,this.Clear()},i.prototype.NormalAll=function(){this.CurPayBubbles.NormalAll()},i.prototype.ShineAll=function(e){this.CurPayBubbles.ShineAll(e)},i.prototype.HideAll=function(){this.CurPayBubbles.Clear()},i.prototype.ShowWin=function(e){void 0===e&&(e=null);var t=[];null!=e&&(t=bfcl.Utils.Array.Clone(e)),this.CurPayBubbles.ShowWin(t)},i.prototype.UpdatePayBubblesStatus=function(n,i,o,r){void 0===r&&(r=!1);var s,a=r?0:e.Config.Parameters.GetBubbleShowDelaySec(o),l=r?0:e.Config.Parameters.BubbleShowSpaceSec,m=0,u=e.Utils.Service.AlivePaysToPayBubbleDatas(n);if(0==this.CurBubbleValues.length){var h=bfcl.Utils.Array.Count(n,0)==n.length?0:-1;this.CurBubbleValues=bfcl.Utils.Array.Repeat(h,u.length)}for(var c=!1,_=e.Utils.Service.RandIndexs(0,this.CurBubbleValues.length-1),p=0;p<_.length;p++){var d=_[p],S=0==u.length?0:u.filter(function(e){return e.Index==d})[0].Pay,g=S>0?1:0,f=d%5,C=Math.floor(d/5),y=this.CurPayBubbles.Get(f,C);if(this.CurBubbleValues[d]!=g)if(this.CurBubbleValues[d]=g,0==g){if(y.State==t.PayBubbleUI.STATUS_HIDE||y.State==t.PayBubbleUI.STATUS_NONE)continue;s=e.Config.Parameters.GetBubbleNormalOrBombDelaySec(o),s>i.allDuration&&(i.allDuration=s),y.Delay=s,y.State=t.PayBubbleUI.STATUS_HIDE}else{if(y.State==t.PayBubbleUI.STATUS_SHOW)continue;c=!0,s=a+l*m++,s>i.allDuration&&(i.allDuration=s),y.Delay=s,y.Pay=S,y.State=t.PayBubbleUI.STATUS_SHOW}else{if(y.State!=t.PayBubbleUI.STATUS_SHINE)continue;s=e.Config.Parameters.GetBubbleNormalOrBombDelaySec(o),s>i.allDuration&&(i.allDuration=s),y.Delay=s,y.State=t.PayBubbleUI.STATUS_NORMAL}}return c},i.prototype.PlayIfNecessary=function(e,t,n){var i=this;void 0===n&&(n=!1),this.RemoveTween();var o=t?2.5:3;return this.UpdatePayBubblesStatus(e,{allDuration:o},t,n)?n?(this.OnComplete(),!0):(egret.Tween.get(this.m_ArmatureDisplay).call(function(){i.m_ArmatureDisplay.animation.gotoAndPlayByFrame("Bubble_Scenes",0,1)}).wait(1e3*o).call(function(){i.OnComplete()}),!0):!1},i.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_ArmatureDisplay)},i.prototype.OnComplete=function(){this.dispatchEvent(new e.Event.Bubble(e.Event.Bubble.REFRESHED))},i.prototype.Clear=function(){this.RemoveTween();for(var e=0;e<this.m_Bubbles.Count;e++)this.m_Values.GetValuePair(e).Value=[],this.m_Bubbles.GetValuePair(e).Value.Clear()},i.prototype.Dispose=function(){for(var e=0;e<this.m_Bubbles.Count;e++){var t=this.m_Bubbles.GetValuePair(e).Value;this.removeChild(t),t.Dispose(),t=null}this.m_Bubbles.Clear(),this.m_Bubbles=null,this.m_Values.Clear(),this.m_Values=null,this.removeChild(this.m_ArmatureDisplay),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null},i}(eui.Component);t.BubbleControllerUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Bubble.BubbleControllerUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Bubble||(t.Bubble={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.START_X=200,e.START_Y=230,e.UI_WIDTH=298,e.UI_HEIGTH=212,e.m_Bubbles=[],e}return __extends(i,n),i.prototype.Init=function(){for(var n=0;n<e.Config.Reel.ReelCount;n++){this.m_Bubbles.push([]);for(var i=0;i<e.Config.Reel.RowCount;i++){var o=new t.PayBubbleUI;o.Serial=i,o.Init(),o.x=this.START_X+this.UI_WIDTH*n,o.y=this.START_Y+this.UI_HEIGTH*i,this.m_Bubbles[n].push(o),this.addChild(o)}}this.Clear()},i.prototype.Get=function(e,t){return this.m_Bubbles[e][t]},i.prototype.NormalAll=function(){for(var n=0;n<e.Config.Reel.ReelCount;n++)for(var i=0;i<e.Config.Reel.RowCount;i++){var o=this.m_Bubbles[n][i];o.State!=t.PayBubbleUI.STATUS_NORMAL&&o.State!=t.PayBubbleUI.STATUS_HIDE&&o.State!=t.PayBubbleUI.STATUS_NONE&&(o.Delay=0,o.State=t.PayBubbleUI.STATUS_NORMAL)}},i.prototype.ShineAll=function(n){for(var i=0;i<e.Config.Reel.ReelCount;i++)for(var o=0;o<e.Config.Reel.RowCount;o++){var r=this.m_Bubbles[i][o];(r.State==t.PayBubbleUI.STATUS_NORMAL||r.State==t.PayBubbleUI.STATUS_SHOW)&&(r.Delay=n,r.State=t.PayBubbleUI.STATUS_SHINE)}},i.prototype.ShowWin=function(n){for(var i=0;i<e.Config.Reel.ReelCount;i++)for(var o=0;o<e.Config.Reel.RowCount;o++){var r=5*o+i,s=this.m_Bubbles[i][o];if(-1!=n.indexOf(r)){if(s.State==t.PayBubbleUI.STATUS_NORMAL||s.State==t.PayBubbleUI.STATUS_HIDE||s.State==t.PayBubbleUI.STATUS_NONE)continue;s.Delay=0,s.State=t.PayBubbleUI.STATUS_NORMAL}else{if(s.State!=t.PayBubbleUI.STATUS_NORMAL&&s.State!=t.PayBubbleUI.STATUS_SHOW)continue;s.Delay=0,s.State=t.PayBubbleUI.STATUS_DARK}}},i.prototype.Clear=function(){for(var e=0,t=this.m_Bubbles;e<t.length;e++)for(var n=t[e],i=0,o=n;i<o.length;i++){var r=o[i];r.Clear()}},i.prototype.Dispose=function(){},i}(eui.Component);t.PayBubblesUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Bubble.PayBubblesUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Bubble||(t.Bubble={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(n){var i;!function(n){var i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.m_PayLabels=new bfcl.Collections.Dictionary,e.m_State=o.STATUS_SHOW,e}return __extends(o,i),Object.defineProperty(o.prototype,"PayLabel",{get:function(){return this.m_PayLabels.GetValue(this.m_Pay)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Pay",{set:function(e){this.m_Pay=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Delay",{set:function(e){this.m_Delay=1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"State",{get:function(){return this.m_State},set:function(n){var i=this;if(this.m_State!=n)switch(this.m_State=n,this.RemoveTween(),this.m_State){case o.STATUS_NONE:this.visible=!1;break;case o.STATUS_NORMAL:if(0==this.m_Delay)return this.visible=!0,this.m_Bubble.AnimtorPlay("Loop"),void(this.m_Pay>1&&this.PayLabel.AnimtorPlay("Loop"));egret.Tween.get(this.m_Bubble).wait(this.m_Delay).call(function(){i.visible=!0,i.m_Bubble.AnimtorPlay("Loop"),i.m_Pay>1&&i.PayLabel.AnimtorPlay("Loop")});break;case o.STATUS_DARK:this.visible=!0,this.m_Bubble.AnimtorPlay("Dark_in"),this.m_Pay>1&&this.PayLabel.AnimtorPlay("Dark_in");break;case o.STATUS_SHINE:if(0==this.m_Delay)return this.visible=!0,this.m_Bubble.AnimtorPlay("Loop_Forcast"),void(this.m_Pay>1&&this.PayLabel.AnimtorPlay("Loop_Forcast"));egret.Tween.get(this.m_Bubble).wait(this.m_Delay).call(function(){i.visible=!0,i.m_Bubble.AnimtorPlay("Loop_Forcast"),i.m_Pay>1&&i.PayLabel.AnimtorPlay("Loop_Forcast")});break;case o.STATUS_HIDE:if(0==this.m_Delay)return this.visible=!0,this.m_Bubble.AnimtorPlay("Loop_Forcast_out"),void(this.m_Pay>1&&this.PayLabel.AnimtorPlay("Loop_Forcast_out"));egret.Tween.get(this.m_Bubble).call(function(){i.visible=!0,i.m_Bubble.AnimtorPlay("Loop_Forcast_out"),i.m_Pay>1&&i.PayLabel.AnimtorPlay("Loop_Forcast_out"),e.MermaidSlot.Context.Instance.PlaySound(t.Enum.SoundIds.BUBBLE_OUT)}).wait(1e3).call(function(){i.Clear()});break;case o.STATUS_SHOW:if(0==this.m_Delay)return this.visible=!0,this.m_Bubble.AnimtorPlay("Start"),this.CheckShowPayLabel(),void(this.m_Pay>1&&this.PayLabel.AnimtorPlay("Start"));egret.Tween.get(this.m_Bubble).wait(this.m_Delay).call(function(){i.visible=!0,i.m_Bubble.AnimtorPlay("Start"),i.CheckShowPayLabel(),i.m_Pay>1&&(i.PayLabel.AnimtorPlay("Start"),e.MermaidSlot.Context.Instance.PlaySound(t.Enum.SoundIds.BUBBLE_IN))})}},enumerable:!0,configurable:!0}),o.prototype.CheckShowPayLabel=function(){for(var e=0;e<this.m_PayLabels.Count;e++){var t=this.m_PayLabels.GetValuePair(e);t.Value.visible=t.Key==this.m_Pay}},o.prototype.Init=function(){this.m_Bubble=new n.BasePayBubbleUI("md_Icon_Bubble_ske_json","md_Icon_Bubble_tex_json","md_Icon_Bubble_tex_png"),this.addChild(this.m_Bubble),this.m_PayLabels.Add(t.Enum.BubbleOdds.X2,new n.BasePayBubbleUI("md_Icon_Bubble_Odds_ske_json","md_Icon_Bubble_Odds_tex_json","md_Icon_Bubble_Odds_tex_png")),this.m_PayLabels.Add(t.Enum.BubbleOdds.X3,new n.BasePayBubbleUI("md_Icon_Bubble_Odds_ske_json","md_Icon_Bubble_Odds_tex_json","md_Icon_Bubble_Odds_tex_A_png"));for(var e=0;e<this.m_PayLabels.Count;e++){var i=this.m_PayLabels.GetValuePair(e).Value;i.visible=!1,this.addChild(i)}this.Clear()},o.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_Bubble)},o.prototype.Clear=function(){this.State=o.STATUS_NONE},o.prototype.Dispose=function(){for(var e=0;e<this.m_PayLabels.Count;e++){var t=this.m_PayLabels.GetValuePair(e).Value;this.removeChild(t),t.Dispose(),t=null}this.m_PayLabels.Clear(),this.m_PayLabels=null,this.removeChild(this.m_Bubble),this.m_Bubble.Dispose(),this.m_Bubble=null},o.STATUS_NONE=0,o.STATUS_SHOW=1,o.STATUS_HIDE=2,o.STATUS_NORMAL=3,o.STATUS_DARK=4,o.STATUS_SHINE=5,o}(eui.Component);n.PayBubbleUI=i,__reflect(i.prototype,"game.MermaidSlot.Controls.Bubble.PayBubbleUI",["eui.UIComponent","egret.DisplayObject"])}(i=n.Bubble||(n.Bubble={}))}(n=t.Controls||(t.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.START_X=293,t.START_Y=220,t.UI_WIDTH=297.8,t.UI_HEIGTH=210,t.m_Scatters=null,t.m_Timer=null,t}return __extends(t,e),t.prototype.Init=function(){this.m_Scatters=[];for(var e=0;3>e;e++){var t=bfcl.Decorator.MovieClip("md_Icon_Animation_FG_forcast");t.visible=!1,this.m_Scatters.push(t),this.addChild(t)}this.Clear()},t.prototype.Show=function(e,t){var n=this;void 0===t&&(t=0),this.Clear(),this.m_Timer=new egret.Timer(500,1),this.m_Timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,function(){n.OnComplete(e)},this),this.m_Timer.start()},t.prototype.RemoveTween=function(){null!=this.m_Timer&&(this.m_Timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.OnComplete,this),this.m_Timer.stop(),this.m_Timer=null)},t.prototype.OnComplete=function(e){this.RemoveTween();for(var t=0;t<this.m_Scatters.length;t++)if(t<e.length){var n=e[t]%5,i=Math.floor(e[t]/5),o=this.m_Scatters[t];o.x=this.START_X+n*this.UI_WIDTH,o.y=this.START_Y+this.UI_HEIGTH*i,o.visible=!0,o.gotoAndPlay(0,-1)}},t.prototype.Clear=function(){this.RemoveTween();for(var e=0,t=this.m_Scatters;e<t.length;e++){var n=t[e];n.visible=!1,n.stop()}},t.prototype.Dispose=function(){},t}(eui.Component);e.DrawScattersUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Frames.DrawScattersUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Frames||(e.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=225),void 0===n&&(n=140),void 0===i&&(i=297.8),void 0===o&&(o=200),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){var s=bfcl.Decorator.MovieClip("md_ForcastX2_Animation");s.x=t+r*i,s.y=n,s.scaleX=s.scaleY=2,this.m_List[r]=s,this.addChild(s)}this.Clear()},n.prototype.Show=function(e){this.Clear();for(var t=0,n=e;t<n.length;t++){var i=n[t];this.m_List[i].visible=!0,this.m_List[i].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var t=0;t<e.Config.Reel.ReelCount;t++)this.m_List[t].stop(),this.m_List[t].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;){var e=this.m_List.splice(0,1)[0];this.removeChild(e),e.stop(),e=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.DrawUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Frames.DrawUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n){var i=t.call(this)||this;return i.m_WinFrames=[],i.m_Container=n,i.m_Factory=new e.WinFrameFactoryUI(n),i.Clear(),i}return __extends(n,t),n.prototype.Show=function(e,t){var n=this.m_Factory.Pop(e);null!=n&&(n.x=t.x,n.y=t.y,n.Show(),this.m_WinFrames.push(n))},n.prototype.Clear=function(){for(;this.m_WinFrames.length>0;)this.m_Factory.Recycle(this.m_WinFrames.splice(0,1)[0])},n.prototype.Dispose=function(){this.Clear(),this.m_Factory.Dispose(),this.m_Factory=null},n}(eui.Component);e.WinFrameAnimatorUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Frames.WinFrameAnimatorUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Frames||(e.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.START_X=272,e.START_Y=[null,235,210,210],e.UI_WIDTH=297.8,e.UI_HEIGHT=200,e.m_Animators=null,e
}return __extends(n,t),n.prototype.Init=function(){this.m_Animators=new e.WinFrameAnimatorUI(this),this.addChild(this.m_Animators),this.Clear()},n.prototype.Show=function(e){this.Clear();for(var t=0;t<e.length;t++){var n=e[t],i=n.Type,o=n.Index%5,r=Math.floor(n.Index/5),s=new egret.Point(this.START_X+o*this.UI_WIDTH,this.START_Y[i]+this.UI_HEIGHT*r);this.m_Animators.Show(i,s)}},n.prototype.Clear=function(){this.m_Animators.Clear()},n.prototype.Dispose=function(){this.removeChild(this.m_Animators),this.m_Animators.Dispose(),this.m_Animators=null},n}(eui.Component);e.WinFrameControllerUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Frames.WinFrameControllerUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Frames||(e.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_MovieClip=null,e}return __extends(n,t),Object.defineProperty(n.prototype,"SizeType",{get:function(){return this.m_SizeType},enumerable:!0,configurable:!0}),n.prototype.Init=function(t){this.m_SizeType=t;var n;t==e.Enum.WinFrameSizeTypes.X1?n="md_Prize_Animation_1x1":t==e.Enum.WinFrameSizeTypes.X2?n="md_Prize_Animation_1x2":t==e.Enum.WinFrameSizeTypes.X3&&(n="md_Prize_Animation_1x3"),this.m_MovieClip=bfcl.Decorator.MovieClip(n),this.addChild(this.m_MovieClip),this.Clear()},n.prototype.Show=function(){this.Clear(),this.m_MovieClip.visible=!0,this.m_MovieClip.gotoAndPlay(0,-1)},n.prototype.Clear=function(){this.m_MovieClip.stop(),this.m_MovieClip.visible=!1},n.prototype.Dispose=function(){this.removeChild(this.m_MovieClip),this.m_MovieClip.stop(),this.m_MovieClip=null},n}(eui.Component);t.WinFrameEffectUI=n,__reflect(n.prototype,"game.MermaidSlot.Controls.Frames.WinFrameEffectUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(e){this.m_Items=[],this.m_Container=e}return t.prototype.Pop=function(t){var n,i=this.FindItemIndex(t);return-1!=i?(n=this.m_Items.splice(i,1)[0],n.Clear()):(n=new e.WinFrameEffectUI,n.Init(t)),this.m_Container.addChild(n),n},t.prototype.FindItemIndex=function(e){for(var t=0;t<this.m_Items.length;t++)if(this.m_Items[t].SizeType==e)return t;return-1},t.prototype.Recycle=function(e){e.Clear(),this.m_Items.push(e)},t.prototype.Dispose=function(){for(;this.m_Items.length>0;){var e=this.m_Items.splice(0,1)[0];this.m_Container.removeChild(e),e.Dispose(),e=null}},t}();e.WinFrameFactoryUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Frames.WinFrameFactoryUI",["bfcl.Interface.IFactory2"])}(t=e.Frames||(e.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n){var i=e.call(this)||this;return i.m_Title=new eui.Label,i.m_Image=new eui.Image,i.m_TitleCode="",i.m_TitleCode=t,i.m_Title.width=1600,i.m_Title.height=100,i.m_Title.fontFamily="Tahoma",i.m_Title.textColor=16756224,i.m_Title.size=70,i.m_Title.bold=!0,i.m_Title.textAlign=egret.HorizontalAlign.CENTER,i.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,i.m_Title.x=800-i.m_Title.width/2,i.m_Image.texture=RES.getRes(n),i.m_Image.y=i.m_Title.height,i.addChild(i.m_Image),i.addChild(i.m_Title),i}return __extends(t,e),Object.defineProperty(t.prototype,"Height",{get:function(){return 686},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Width",{get:function(){return this.m_Image.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LocalizationManager",{set:function(e){e.Bind(this.m_Title,bfcl.Constants.Propertys.Text,this.m_TitleCode)},enumerable:!0,configurable:!0}),t.prototype.Clear=function(){},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Image),this.removeChild(this.m_Title),this.m_Title=null,this.m_Image=null},t}(bfcl.Controls.Info.Page);e.Page=t,__reflect(t.prototype,"game.MermaidSlot.Controls.Info.Page")}(t=e.Info||(e.Info={}))}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){void 0===i&&(i=!0);var o=e.call(this,"resource/haydn_skins/mermaidSlot/ReelSkin.exml")||this;return o.m_MaskX=t,o.m_MaskWidth=n,o.m_HasMask=i,o}return __extends(t,e),Object.defineProperty(t.prototype,"Container",{get:function(){return this.m_Group},enumerable:!0,configurable:!0}),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.m_HasMask?(this.m_Group.mask=this.m_Mask,this.m_Mask.x=this.m_MaskX,this.m_Mask.width=this.m_MaskWidth):this.m_Mask.visible=!1},t}(slot.Controls.Reel.Containers.LayerUI);e.LayerUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.LayerUI")}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var VersionController=function(){function e(){var e=this;this.resourceRoot="resource/",this.versionPath="assets/",this.versionConfigPath="resource/version.json",this.currentVersion=kernel.Version.Num,this.versionCacheWxgame=function(){var t=egret.localStorage.getItem("resVersion");if(t!=e.currentVersion){egret.localStorage.setItem("resVersion",e.currentVersion),console.log("");var n=wx.getFileSystemManager(),i=wx.env.USER_DATA_PATH+"/cache_crc32/assets";n.readdir({dirPath:i,success:function(t){for(var o=e.getRemoveList(t.files),r=o.length,s=0;r>s;++s)console.log("",i+"/"+o[s]),n.unlinkSync(i+"/"+o[s])},fail:function(e){}})}},this.versionCacheWeb=function(){var t=egret.localStorage.getItem("resVersion");t!=e.currentVersion&&(egret.localStorage.setItem("resVersion",e.currentVersion),console.log("Web"))}}return e.prototype.init=function(){var e=this;return new Promise(function(t,n){var i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(e.versionConfigPath,egret.HttpMethod.GET),i.send(),i.addEventListener(egret.Event.COMPLETE,function(n){var i=n.currentTarget;egret.log("post data : ",i.response),e.versionConfig=JSON.parse(i.response),egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME?e.versionCacheWxgame():egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&e.versionCacheWeb(),t()},e),i.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){egret.log("post error : "+event),n()},e)})},e.prototype.getRemoveList=function(e){var t=[],n="";for(var i in this.versionConfig)n+=this.versionConfig[i]+",";for(var o=e.length,r=0;o>r;++r){var s=e[r],a=s.slice(0,s.indexOf("."));-1==n.indexOf(a)&&t.push(s)}return t},e.prototype.getVirtualUrl=function(e){return this.getResUrlByVersion(e)},e.prototype.getResUrlByVersion=function(e){if(-1==e.indexOf(this.resourceRoot))return e;if(e=e.replace(this.resourceRoot,""),this.versionConfig){var t=e.indexOf("?v=");-1!=t&&(e=e.slice(0,t));var n=e.replace(this.versionPath,"");if(this.versionConfig&&this.versionConfig[n]){var i=this.versionConfig[n],o=e.slice(e.lastIndexOf("."));e=this.versionPath+i+o}}return e=this.resourceRoot+e},e}();__reflect(VersionController.prototype,"VersionController",["RES.IVersionController"]),RES.registerVersionController(new VersionController);var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,i,o,r){var s=t.call(this,new slot.Controls.SymbolUIFactory(r,e.SymbolUI,o))||this;return s.DefaultContainerType=slot.Controls.Reel.Containers.Types.Roll,s.ReelNum=n,s.touchEnabled=!1,s.touchChildren=!1,s.RegisterContainer(slot.Controls.Reel.Containers.Types.Roll,o[0].height,i,s.RollParameter()),s.Perload(),s}return __extends(n,t),n.prototype.RollParameter=function(){var t=new slot.Controls.Reel.Parameter;return t.SetMotionBlur(t.MaxSpeed,e.SymbolUI.STATUS_NORMAL,e.SymbolUI.STATUS_BLUR),t},n.prototype.Dispose=function(){t.prototype.Dispose.call(this)},n}(slot.Controls.Reel.BaseReel);e.ReelUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.ReelUI")}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_Mc=null,t.m_Code=-1,t.m_RowHeight=-1,t.m_Inited=!1,t.skinName="resource/haydn_skins/mermaidSlot/SymbolSkin.exml",t}return __extends(t,e),Object.defineProperty(t.prototype,"Code",{get:function(){return this.m_Code},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RowHeight",{get:function(){return this.m_RowHeight},enumerable:!0,configurable:!0}),t.prototype.Init=function(e){bfcl.Debug.Assert(!this.m_Inited),this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.addChild(this.m_Mc),this.RegisterStatus(t.STATUS_NORMAL,new slot.Controls.Symbol.StatusSwitcher(this.m_Normal)),this.RegisterStatus(t.STATUS_DARK,new slot.Controls.Symbol.StatusSwitcher(this.m_Dark)),this.RegisterStatus(t.STATUS_BLUR,new slot.Controls.Symbol.StatusSwitcher(this.m_Blur)),this.RegisterStatus(t.STATUS_WIN,new slot.Controls.Symbol.StatusSwitcher(this.m_Mc)),this.SetProperty(e)},t.prototype.SetProperty=function(e){bfcl.Debug.Assert(this.m_Inited),this.SetLayer(t.STATUS_NORMAL,e.NormalLayer),this.SetLayer(t.STATUS_DARK,e.NormalLayer),this.SetLayer(t.STATUS_BLUR,e.NormalLayer),this.SetLayer(t.STATUS_WIN,e.WinLayer),this.m_Code=e.Code,this.m_RowHeight=e.RowHeight,this.anchorOffsetX=e.OffestX||0,this.anchorOffsetY=e.OffestY||0,this.m_Normal.source=RES.getRes(e.Normal),this.m_Blur.source=RES.getRes(e.Blur),this.m_Dark.source=RES.getRes(e.Normal),this.m_Dark.filters=[t.getBrightnessFilter(.5)],this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(e.Win),this.m_Mc.x=e.McX,this.m_Mc.y=e.McY,this.Clear()},t.prototype.Clear=function(){this.State=t.STATUS_NORMAL},t.prototype.Dispose=function(){this.Clear(),e.prototype.Dispose.call(this),this.removeChild(this.m_Mc),this.removeChild(this.m_Dark),this.m_Mc.stop(),this.m_Mc=null,this.m_Blur=null,this.m_Normal=null},t.getBrightnessFilter=function(e){var t=e;return new egret.ColorMatrixFilter([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0])},t.STATUS_NORMAL="STATUS_NORMAL",t.STATUS_DARK="STATUS_DARK",t.STATUS_BLUR="STATUS_BLUR",t.STATUS_WIN="STATUS_WIN",t}(slot.Controls.Symbol.BaseSymbol);e.SymbolUI=t,__reflect(t.prototype,"game.MermaidSlot.Controls.SymbolUI")}(t=e.Controls||(e.Controls={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.Context=t,__reflect(t.prototype,"game.MermaidSlot.Context")}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.Status=new t.Status,e.Worker=new t.Worker,e.Dc=new t.Display,e}return __extends(i,n),i.prototype.IsImmediatelyMaintenance=function(){return this.Status.CurrentGameStaus!=e.Enum.GameStatus.None&&!this.Status.IsRunning},i.prototype.PlayBgm=function(t){this.Worker.AudioManager.PlayBgm(e.Config.Sound.Res.GetValue(t))},i.prototype.StopBgm=function(){this.Worker.AudioManager.StopBgm()},i.prototype.PlaySound=function(t,n){void 0===n&&(n=1),this.Worker.AudioManager.PlaySound(e.Config.Sound.Res.GetValue(t),n)},i.prototype.StopSound=function(t,n){void 0===n&&(n=1),this.Worker.AudioManager.StopSound(e.Config.Sound.Res.GetValue(t))},i.prototype.GetArrScatterCount=function(e,t,n){for(var i=0,o=t;n>=o;o++)i+=e[o].length;return i},i.prototype.JumpComboLabel=function(e,t){if(0==t.length)return void e.HideAll();for(var n=0;2>n;n++)for(var i=0==n?0:4,o=1;4>=o;o++){var r=4-o;-1==t[i].indexOf(o)?e.Hide(i,r):e.Jump(i,r)}},i}(slot.Game.Context);t.Context=n,__reflect(n.prototype,"game.MermaidSlot.Core.Context")}(t=e.Core||(e.Core={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.Scene=new t.Controls.SceneSwitcherUI,e.BubbleController=new t.Controls.Bubble.BubbleControllerUI,e.AddSpinFrame=new t.Controls.AddSpinFrameUI,e}return __extends(i,n),Object.defineProperty(i.prototype,"MainSpin",{get:function(){return this.Scene.Main},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"FreeSpin",{get:function(){return this.Scene.Free},enumerable:!0,configurable:!0}),i.prototype.Init=function(n,i,o,r,s){i[0].addChild(this.AddSpinFrame),this.Scene.Init(n,i),this.Blackboard.Init(new t.Property.BlackboardSwitcherProperty),this.BubbleController.Init(),this.AddSpinFrame.Init(),this.AddSpinFrame.x=735,this.AddSpinFrame.y=190,this.Info.AddPage(new e.MermaidSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_1,"md_info_1_png")),this.Info.AddPage(new e.MermaidSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_2,"md_info_2_png")),this.Info.AddPage(new e.MermaidSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_3,"md_info_3_png")),this.Info.AddPage(new e.MermaidSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_4,"md_info_4_png")),this.Info.AddPage(new e.MermaidSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_5,"md_info_5_png")),o.addChild(this.BubbleController),this.Bind(r)},i.prototype.Bind=function(e){this.GameMsgBox.LocalizationManager=e},i.prototype.Clear=function(){this.Scene.Clear(),this.BubbleController.Clear()},i.prototype.Dispose=function(){this.BubbleController.parent.removeChild(this.BubbleController),this.AddSpinFrame.parent.removeChild(this.AddSpinFrame),this.Scene.Dispose(),this.BubbleController.Dispose(),this.AddSpinFrame.Dispose(),this.Scene=null,this.BubbleController=null,this.AddSpinFrame=null},i}(slot.Game.Display);n.Display=i,__reflect(i.prototype,"game.MermaidSlot.Core.Display")}(n=t.Core||(t.Core={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Update=function(e){e.Dc.ScoreBar.BtnEnables!=e.Status.Stage.BtnEnables&&(e.Dc.ScoreBar.BtnEnables=e.Status.Stage.BtnEnables),e.Dc.ScoreBar.BtnHides!=e.Status.Stage.BtnHides&&(e.Dc.ScoreBar.BtnHides=e.Status.Stage.BtnHides)},e}();e.Refresher=t,__reflect(t.prototype,"game.MermaidSlot.Core.Refresher")}(t=e.Core||(e.Core={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return Object.defineProperty(t.prototype,"m_Context",{get:function(){return e.Context.Instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.UNKOWN},enumerable:!0,configurable:!0}),t.prototype.Timing_100msUP=function(e){},t.prototype.SwitchTo=function(t){bfcl.Debug.Assert(null!=t,"Object.ReferenceEquals(nextStage, null)"),bfcl.Debug.Assert(this.m_Context.Status.Stage==this,"this.m_Context.Status.Stage:"+this.m_Context.Status.Stage.Type+" | this.Stage.Type:"+this.Type),this.LeaveStage(),egret.log("[STAGE]["+e.Config.Stages.Types.GetValue(t.Type)+"]"),this.m_Context.Status.Stage=t,this.m_Context.Status.Stage.EnterStage()},t}();t.Stage=n,__reflect(n.prototype,"game.MermaidSlot.Core.Stage");var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.UNKOWN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.GetBtnEnables()},enumerable:!0,configurable:!0}),n.prototype.GetBtnEnables=function(){return slot.Enum.ScoreBarUI.Buttons.MENU|slot.Enum.ScoreBarUI.Buttons.TURBO_ON|slot.Enum.ScoreBarUI.Buttons.TURBO_OFF},n.prototype.EnterStage=function(){this.m_Context.Dc.ScoreBar.addEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n.prototype.OnScoreBarClick=function(e){e.Button==slot.Enum.ScoreBarUI.Buttons.MENU},n.prototype.LeaveStage=function(){this.m_Context.Dc.ScoreBar.removeEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n}(n);t.Stage_Base=i,__reflect(i.prototype,"game.MermaidSlot.Core.Stage_Base");var o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_IsSwitchBetValue=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"IsSwitchBetValue",{get:function(){return this.m_IsSwitchBetValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.BET},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return this.m_Context.IsImmediatelyMaintenance()?e=slot.Enum.ScoreBarUI.Buttons.UNKOWN:e|=this.m_Context.Dc.ScoreBar.IsAutoPlay?slot.Enum.ScoreBarUI.Buttons.AUTO:slot.Enum.ScoreBarUI.Buttons.MINUS_BET|slot.Enum.ScoreBarUI.Buttons.PLUS_BET|slot.Enum.ScoreBarUI.Buttons.MAX_BET|slot.Enum.ScoreBarUI.Buttons.AUTO,this.m_Context.Dc.ScoreBar.Bet>0&&(e|=slot.Enum.ScoreBarUI.Buttons.SPIN),e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){return t.prototype.EnterStage.call(this),this.m_Context.Status.Clear(),this.m_Context.Dc.ScoreBar.IsSpinning=!1,null!=this.m_Context.Status.UserLevelBet&&(this.m_Context.Dc.ScoreBar.SetBetRange(this.m_Context.Status.UserLevelBet.bet_min,this.m_Context.Status.UserLevelBet.bet_max,this.m_Context.Status.UserLevelBet.bet_gap),this.m_Context.Status.UserLevelBet=null),this.m_Context.IsImmediatelyMaintenance()?void this.m_Context.Dc.ScoreBar.StopAutoPlay():void 0},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.SPIN&&this.OnBtnClickSpin()},n.prototype.Timing_100msUP=function(e){this.m_Context.Dc.ScoreBar.IsAutoPlay&&(this.m_Context.Dc.ScoreBar.Bet<=0||this.OnBtnClickSpin())},n.prototype.OnBtnClickSpin=function(){if(!(this.m_Context.Dc.ScoreBar.Bet<=0)){if(this.m_Context.Dc.ScoreBar.Bet>this.m_Context.Dc.ScoreBar.Credit)return this.m_Context.Dc.ScoreBar.StopAutoPlay(),void this.m_Context.Dc.GameMsgBox.Show2(4001);this.m_Context.Status.IsRunning=!0,this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.MainSpin.WinFrameController.Clear(),this.m_Context.Dc.MainSpin.ArielController.Clear(),this.m_Context.Dc.BubbleController.NormalAll(),this.SwitchTo(new r)}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this)},n}(i);t.Stage_Bet=o,__reflect(o.prototype,"game.MermaidSlot.Core.Stage_Bet");var r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_BUBBLE_CARTOON=1,e.STATUS_SPIN=2,e.STATUS_WATTING_BUBBLE_SHOW=3,e.m_CurDelayTs=0,e.m_ListenDelayTs=0,e.m_StoppingReelIndex=0,e.m_IsServerResponse=!1,e.m_IsSpinningStart=!1,e.m_IsAllReelSpinning=!1,e.m_IsBtnStopClick=!1,e.m_State=e.STATUS_NONE,e.m_IsDrawing=!1,e.m_IsBubbleControllerRefreshed=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.MAIN_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsAllReelStopping",{get:function(){return this.m_StoppingReelIndex>=e.Config.Reel.ReelCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return this.m_IsAllReelSpinning&&this.m_IsServerResponse&&!this.m_IsBtnStopClick&&!this.IsAllReelStopping&&this.m_State==this.STATUS_SPIN&&(e|=slot.Enum.ScoreBarUI.Buttons.STOP),e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){var n=this;t.prototype.EnterStage.call(this),this.m_State=this.STATUS_BUBBLE_CARTOON,this.m_ActionDelayTs=1e3*e.Config.Parameters.GetBubbleCartoonDelaySec(this.m_Context.Dc.ScoreBar.IsTurbo),this.m_Context.Dc.ScoreBar.IsSpinning=!0,this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllRolling,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.Roll(),this.m_Context.Dc.BubbleController.ShineAll(e.Config.Parameters.GetBubbleShineDelaySec(this.m_Context.Dc.ScoreBar.IsTurbo)),this.m_Context.Dc.BubbleController.addEventListener(e.Event.Bubble.REFRESHED,this.OnBubbleControllerRefreshed,this),this.m_Context.Dc.ScoreBar.Credit-=this.m_Context.Dc.ScoreBar.Bet,e.API.Service.GetSlotDesc(this.m_Context.Dc.ScoreBar.Bet,function(t){n.m_IsServerResponse=!0,n.m_Context.Status.ActionDesc.SetSpinValue(t),null!=t.user_level_bet&&(n.m_Context.Status.UserLevelBet.bet_min=t.user_level_bet.bet_min,n.m_Context.Status.UserLevelBet.bet_max=t.user_level_bet.bet_max,n.m_Context.Status.UserLevelBet.bet_gap=t.user_level_bet.bet_gap),n.m_Context.Dc.ScoreBar.Credit=t.user_amt-t.all_win_amt,n.m_Context.Dc.MainSpin.ReelMachine.StopPosList(e.Utils.Service.GetStopPosList(n.m_Context.Status.ActionDesc.MainSpin)),n.m_Context.Dc.MainSpin.ReelMachine.DemoReels(n.m_Context.Status.ActionDesc.DequeueDemoReels())})},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_BUBBLE_CARTOON:this.m_CurDelayTs+=100,this.m_IsSpinningStart&&this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN),this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_Context.Dc.BubbleController.PlayIfNecessary(this.m_Context.Status.ActionDesc.AlivePayBubbles.GetValue(e.Enum.ScenesModes.MAIN_SPIN),this.m_Context.Dc.ScoreBar.IsTurbo)?this.m_Context.PlaySound(e.Enum.SoundIds.BUBBLE_CARTOON):this.m_IsBubbleControllerRefreshed=!0,this.m_State=this.STATUS_SPIN,this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3*e.Config.Parameters.GetReelRollDelaySec(this.m_Context.Dc.ScoreBar.IsTurbo,!this.m_IsBubbleControllerRefreshed));break;case this.STATUS_SPIN:if(!this.m_Context.Dc.MainSpin.ReelMachine.IsSpinning)return;if(this.m_IsSpinningStart&&this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN),this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs+this.m_ListenDelayTs){if(!this.m_IsServerResponse||this.IsAllReelStopping)return;this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.MainSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=1e3*e.Config.Parameters.GetReelRollSpaceSec(this.m_Context.Dc.ScoreBar.IsTurbo),this.m_Context.Dc.MainSpin.ReelMachine.StopAt(this.m_StoppingReelIndex))}break;case this.STATUS_WATTING_BUBBLE_SHOW:if(!this.m_IsBubbleControllerRefreshed)return;this.SwitchTo(new s)}},n.prototype.OnReelRolling=function(e){this.m_IsSpinningStart=!0},n.prototype.OnReelAllRolling=function(e){this.m_IsAllReelSpinning=!0},n.prototype.OnReelStopping=function(t){this.m_StoppingReelIndex=t.ReelNum+1;var n=e.Utils.Service.GetArrScatterIndexs(this.m_Context.Status.ActionDesc.MainSpin.reels,0,t.ReelNum);2==n.length&&this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1&&!this.m_Context.Dc.ScoreBar.IsTurbo?(this.m_IsDrawing=!0,this.m_ListenDelayTs=1e3*e.Config.Parameters.DrawWaitSec,this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_DRAW),this.m_Context.Dc.MainSpin.DrawFrames.Show([this.m_StoppingReelIndex]),this.m_Context.Dc.MainSpin.DrawScatters.Show(n)):this.m_IsDrawing&&(this.m_ListenDelayTs=0,this.m_IsDrawing=!1,this.m_Context.Dc.MainSpin.DrawFrames.Clear(),this.m_Context.Dc.MainSpin.DrawScatters.Clear())},n.prototype.OnReelStopped=function(t){e.Utils.Service.HasScatterSymbol(this.m_Context.Status.ActionDesc.MainSpin.reels,t.ReelNum)?this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_SHOW):this.m_Context.PlaySound(e.Enum.SoundIds.REEL_STOP)},n.prototype.OnReelAllStopped=function(){this.m_IsSpinningStart=!1,this.m_Context.Dc.MainSpin.DrawFrames.Clear(),this.m_ActionDelayTs=100,this.m_State=this.STATUS_WATTING_BUBBLE_SHOW},n.prototype.OnBubbleControllerRefreshed=function(){this.m_IsBubbleControllerRefreshed=!0},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.STOP&&(this.m_IsBtnStopClick=!0,this.m_Context.Dc.MainSpin.ReelMachine.StopAll())},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.MainSpin.DrawScatters.Clear(),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllRolling,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_MainSpin=r,__reflect(r.prototype,"game.MermaidSlot.Core.Stage_MainSpin");var s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SHOW_SCATTER=1,e.STATUS_ENTRANCE_BONUS=2,e.STATUS_COMMIT=3,e.m_State=e.STATUS_NONE,e.m_CurDelayTs=0,e.m_ActionDelayTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.MAIN_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.Status.ActionDesc.CanIntoFreeGame?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_SCATTER):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_COMMIT)},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SHOW_SCATTER:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_WIN),this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.MainSpinIndexs.Scatter),this.m_Context.Dc.BubbleController.ShowWin(),this.m_Context.Dc.MainSpin.WinFrameController.Clear(),this.m_Context.Dc.MainSpin.ArielController.Clear(),this.m_ActionDelayTs=2e3,this.m_State=this.STATUS_ENTRANCE_BONUS);break;case this.STATUS_ENTRANCE_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new a));break;case this.STATUS_COMMIT:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new h))}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this)},n}(i);t.Stage_MainResult=s,__reflect(s.prototype,"game.MermaidSlot.Core.Stage_MainResult");var a=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SHOWED=1,e.STATUS_HIDDING=1,e.m_AutoBtnClickTs=5e3,e.m_PlayBonusBgmTs=2500,e.m_CurTs=0,e.m_State=e.STATUS_NONE,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.INTERLUDE_ENTRANCE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.AddSpinFrame.Clear(),this.m_Context.Dc.AddSpinFrame.Clear(),this.m_Context.Dc.AddSpinFrame.Count=this.m_Context.Status.ActionDesc.RespInit.bonus_round,this.m_Context.Dc.Scene.SwitchTo(e.Enum.ScenesModes.FREE_SPIN),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),this.m_Context.Dc.Blackboard.SetNumber(this.m_Context.Dc.AddSpinFrame.Count,!0)},n.prototype.OnBlackboardShowed=function(t){t.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_State=this.STATUS_SHOWED,this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.MainSpin.WinFrameController.Clear(),this.m_Context.Dc.MainSpin.ArielController.Clear(),this.m_Context.Dc.BubbleController.NormalAll(),this.m_Context.Dc.BubbleController.Mode=e.Enum.ScenesModes.FREE_SPIN,this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_CurTs=0),t.State==slot.Event.Blackboard.STATE_HIDE&&(this.m_Context.Status.ActionDesc.TrySwitchNextFreeSpin()?this.SwitchTo(new l):console.error("MermaidStage_InterludeEntrance TrySwitchNextFreeSpin Error"))},n.prototype.Timing_100msUP=function(t){this.m_State==this.STATUS_SHOWED&&(this.m_CurTs+=100,this.m_CurTs>=this.m_PlayBonusBgmTs&&0!=this.m_PlayBonusBgmTs&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(e.Enum.SoundIds.BONUS_BGM)),this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_CurTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){this.m_State==this.STATUS_SHOWED&&(this.m_State=this.STATUS_HIDDING,this.m_PlayBonusBgmTs>0&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(e.Enum.SoundIds.BONUS_BGM)),this.m_Context.Dc.Blackboard.Hide())},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!1},n}(i);t.Stage_InterludeEntrance=a,__reflect(a.prototype,"game.MermaidSlot.Core.Stage_InterludeEntrance");var l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_BUBBLE_CARTOON=1,e.STATUS_SPIN=2,e.STATUS_WATTING_BUBBLE_SHOW=3,e.m_CurDelayTs=0,e.m_StoppingReelIndex=0,e.m_IsSpinningStart=!1,e.m_ListenDelayTs=0,e.m_State=e.STATUS_NONE,e.m_IsBubbleControllerRefreshed=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.FREE_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_State=this.STATUS_BUBBLE_CARTOON,this.m_ActionDelayTs=1e3*e.Config.Parameters.GetBubbleCartoonDelaySec(this.m_Context.Dc.ScoreBar.IsTurbo),this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.FreeSpin.WinFrameController.Clear(),this.m_Context.Dc.FreeSpin.ArielController.Clear(),this.m_Context.Dc.BubbleController.NormalAll(),this.m_Context.Dc.ScoreBar.IsSpinning=!0,this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.StopPosList(e.Utils.Service.GetStopPosList(this.m_Context.Status.ActionDesc.ThisRoundFreeSpin)),this.m_Context.Dc.FreeSpin.ReelMachine.DemoReels(this.m_Context.Status.ActionDesc.DequeueDemoReels()),this.m_Context.Dc.FreeSpin.ReelMachine.Roll(),this.m_Context.Dc.BubbleController.ShineAll(e.Config.Parameters.GetBubbleShineDelaySec(this.m_Context.Dc.ScoreBar.IsTurbo)),this.m_Context.Dc.BubbleController.addEventListener(e.Event.Bubble.REFRESHED,this.OnBubbleControllerRefreshed,this),this.m_Context.Dc.AddSpinFrame.Spinned++,this.m_Context.PlaySound(e.Enum.SoundIds.SPIN_A_ROUND),this.m_Context.PlaySound(e.Enum.SoundIds.SPIN_CLICK)
},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_BUBBLE_CARTOON:this.m_CurDelayTs+=100,this.m_IsSpinningStart&&this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN),this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_Context.Dc.BubbleController.PlayIfNecessary(this.m_Context.Status.ActionDesc.AlivePayBubbles.GetValue(e.Enum.ScenesModes.FREE_SPIN),this.m_Context.Dc.ScoreBar.IsTurbo)?this.m_Context.PlaySound(e.Enum.SoundIds.BUBBLE_CARTOON):this.m_IsBubbleControllerRefreshed=!0,this.m_State=this.STATUS_SPIN,this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3*e.Config.Parameters.GetReelRollDelaySec(this.m_Context.Dc.ScoreBar.IsTurbo,!this.m_IsBubbleControllerRefreshed));break;case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=e.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.FreeSpin.ReelMachine.IsSpinning)return;this.m_IsSpinningStart&&this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN),this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs+this.m_ListenDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.FreeSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1?e.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.FreeSpin.ReelMachine.StopAt(this.m_StoppingReelIndex)));break;case this.STATUS_WATTING_BUBBLE_SHOW:if(!this.m_IsBubbleControllerRefreshed)return;this.SwitchTo(new m)}},n.prototype.OnReelRolling=function(e){this.m_IsSpinningStart||(this.m_IsSpinningStart=!0)},n.prototype.OnReelStopping=function(t){this.m_StoppingReelIndex=t.ReelNum+1;var n=e.Utils.Service.GetArrScatterIndexs(this.m_Context.Status.ActionDesc.ThisRoundFreeSpin.reels,0,t.ReelNum);2==n.length&&this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1&&!this.m_Context.Dc.ScoreBar.IsTurbo?(this.m_IsDrawing=!0,this.m_ListenDelayTs=1e3*e.Config.Parameters.DrawWaitSec,this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_DRAW),this.m_Context.Dc.FreeSpin.DrawFrames.Show([this.m_StoppingReelIndex]),this.m_Context.Dc.FreeSpin.DrawScatters.Show(n)):this.m_IsDrawing&&(this.m_ListenDelayTs=0,this.m_IsDrawing=!1,this.m_Context.Dc.FreeSpin.DrawFrames.Clear(),this.m_Context.Dc.FreeSpin.DrawScatters.Clear()),e.Utils.Service.HasScatterSymbol(this.m_Context.Status.ActionDesc.ThisRoundFreeSpin.reels,t.ReelNum)&&this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_SHOW)},n.prototype.OnReelStopped=function(t){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_STOP)},n.prototype.OnReelAllStopped=function(){this.m_IsSpinningStart=!1,this.m_Context.Dc.FreeSpin.DrawFrames.Clear(),this.m_ActionDelayTs=100,this.m_State=this.STATUS_WATTING_BUBBLE_SHOW},n.prototype.OnBubbleControllerRefreshed=function(){this.m_IsBubbleControllerRefreshed=!0},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.STOP&&this.m_Context.Dc.FreeSpin.ReelMachine.StopAll()},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.FreeSpin.DrawScatters.Clear(),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.BubbleController.removeEventListener(e.Event.Bubble.REFRESHED,this.OnBubbleControllerRefreshed,this)},n}(i);t.Stage_FreeSpin=l,__reflect(l.prototype,"game.MermaidSlot.Core.Stage_FreeSpin");var m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SHOW_SCATTER=1,e.STATUS_ADD_SPIN=2,e.STATUS_SHOW_WIN_SYMBOL=3,e.STATUS_SHOW_WIN_SCORE=4,e.STATUS_ONE_MORE_SPIN=5,e.STATUS_LEAVE_FREE_SPIN=6,e.m_State=e.STATUS_NONE,e.m_CurDelayTs=0,e.m_ActionDelayTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.FREE_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_PlzShowWin=this.m_Context.Status.ActionDesc.ThisRoundFreeSpin.win_amts>0,this.m_PlzShowScatter=this.m_Context.Status.ActionDesc.FreeSpinIndexs.Scatter.length>0,this.GetState(),this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3*e.Config.Parameters.ShowWinDelaySec,this.m_Context.Dc.FreeSpin.ArielController.addEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnArielEffectFadeInFinished,this)},n.prototype.GetState=function(){return this.m_PlzShowScatter?(this.m_PlzShowScatter=!1,void(this.m_State=this.STATUS_SHOW_SCATTER)):this.m_PlzShowWin?(this.m_PlzShowWin=!1,void(this.m_State=this.STATUS_SHOW_WIN_SYMBOL)):void(this.m_State=this.m_Context.Status.ActionDesc.TrySwitchNextFreeSpin()?this.STATUS_ONE_MORE_SPIN:this.STATUS_LEAVE_FREE_SPIN)},n.prototype.OnArielEffectFadeInFinished=function(){this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.FreeSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.FreeSpinIndexs.Symbol),this.m_Context.Dc.FreeSpin.WinFrameController.Show(this.m_Context.Status.ActionDesc.FreeSpinIndexs.WinFrame),this.m_Context.Dc.BubbleController.ShowWin(this.m_Context.Status.ActionDesc.FreeSpinIndexs.WinBubble),this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3*e.Config.Parameters.ShowScoreDelaySec,this.m_State=this.STATUS_SHOW_WIN_SCORE},n.prototype.Timing_100msUP=function(t){var n=this;if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_State=this.STATUS_NONE,this.m_Context.Status.ActionDesc.FreeSpinIndexs.Ariel.length>0?(this.m_Context.PlaySound(e.Enum.SoundIds.ARIEL_SHOW),this.m_Context.Dc.FreeSpin.ArielController.Show(this.m_Context.Status.ActionDesc.FreeSpinIndexs.Ariel)):this.OnArielEffectFadeInFinished());break;case this.STATUS_SHOW_WIN_SCORE:if(this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs){this.m_CurDelayTs=0,this.m_ActionDelayTs=0;var i=this.m_Context.Status.ActionDesc.ThisRoundFreeSpin.win_amts;this.m_Context.Dc.NormalScore.once(slot.Event.NormalScore.TRAN_FINISHED,function(){n.m_Context.Dc.ScoreBar.Win+=i,n.GetState(),n.m_ActionDelayTs=1e3*e.Config.Parameters.WinToCreditSec},this),this.m_Context.Dc.NormalScore.TransTo(i,1.5)}break;case this.STATUS_SHOW_SCATTER:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.FreeSpin.WinFrameController.Clear(),this.m_Context.Dc.FreeSpin.ArielController.Clear(),this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_WIN),this.m_Context.Dc.FreeSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.FreeSpinIndexs.Scatter),this.m_Context.Dc.BubbleController.ShowWin(),this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3*e.Config.Parameters.SpinAgainDelaySec,this.m_State=this.STATUS_ADD_SPIN);break;case this.STATUS_ADD_SPIN:if(this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs){var o=this.m_Context.Status.ActionDesc.ThisRoundFreeSpin.round_add;null!=o&&(this.m_Context.Dc.AddSpinFrame.Plus(o),this.m_Context.PlaySound(e.Enum.SoundIds.ADD_SPIN)),this.m_CurDelayTs=0,this.m_ActionDelayTs=2e3+1e3*e.Config.Parameters.SpinAgainDelaySec,this.GetState()}break;case this.STATUS_ONE_MORE_SPIN:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new l));break;case this.STATUS_LEAVE_FREE_SPIN:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new u))}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.FreeSpin.ArielController.removeEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnArielEffectFadeInFinished,this)},n}(i);t.Stage_FreeResult=m,__reflect(m.prototype,"game.MermaidSlot.Core.Stage_FreeResult");var u=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_CurTs=0,e.m_AutoBtnClickTs=5e3,e.m_IsDigitsTransFinished=!1,e.m_IsClickedBlackboard=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.INTERLUDE_EXIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT)},n.prototype.OnBlackboardShowed=function(t){if(t.State==slot.Event.Blackboard.STATE_SHOW){this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_ENTRANCE);var n=this.m_Context.Status.ActionDesc.RespSpin.all_win_amt-this.m_Context.Status.ActionDesc.MainSpin.win_amts;this.m_Context.Dc.Blackboard.SetNumber(n)}},n.prototype.OnDigitsTransFinished=function(){this.m_IsDigitsTransFinished=!0,this.m_CurTs=0},n.prototype.Timing_100msUP=function(){this.m_IsDigitsTransFinished&&0!=this.m_AutoBtnClickTs&&(this.m_CurTs+=100,this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_AutoBtnClickTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){!this.m_IsClickedBlackboard&&this.m_IsDigitsTransFinished&&(this.m_IsClickedBlackboard=!0,this.m_Context.PlayBgm(e.Enum.SoundIds.MAIN_BGM),this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_EXIT),this.m_Context.Dc.Scene.addEventListener(e.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this),this.m_Context.Dc.Scene.SwitchTo(e.Enum.ScenesModes.MAIN_SPIN),this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.Clear(),this.m_Context.Status.ActionDesc.CanIntoFreeGame&&this.m_Context.Dc.MainSpin.ReelMachine.Foucs(this.m_Context.Status.ActionDesc.MainSpinIndexs.Scatter,e.Controls.SymbolUI.STATUS_NORMAL))},n.prototype.OnScenesShowed=function(){this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.FreeSpin.WinFrameController.Clear(),this.m_Context.Dc.FreeSpin.ArielController.Clear(),this.m_Context.Dc.BubbleController.HideAll(),this.m_Context.Dc.BubbleController.Mode=e.Enum.ScenesModes.MAIN_SPIN,this.m_Context.Dc.BubbleController.ShowWin(),this.SwitchTo(new h)},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Scene.removeEventListener(e.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this)},n}(i);__reflect(u.prototype,"Stage_InterludeExit");var h=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SHOW_NG_WIN_SYMBOL=1,e.STATUS_SHOW_NG_WIN_SCORE=2,e.STATUS_ALL_WIN_TRANED=3,e.STATUS_SCORE_BAR_PLUS_WIN=4,e.STATUS_SCORE_BAR_TO_CREDIT=5,e.STATUS_NEXT_ROUND=6,e.m_State=e.STATUS_NONE,e.m_TotalWin=0,e.m_DelayActionTs=0,e.m_CurTs=0,e.m_IsBigWinShow=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.COMMIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_CurTs=0,this.m_TotalWin=this.m_Context.Status.ActionDesc.RespSpin.all_win_amt,this.m_TotalWin<=0?(this.m_State=this.STATUS_NEXT_ROUND,this.m_CurTs=0,this.m_DelayActionTs=400):this.m_Context.Status.ActionDesc.MainSpin.win_amts>0?(this.m_DelayActionTs=1e3*e.Config.Parameters.ShowWinDelaySec,this.m_State=this.STATUS_SHOW_NG_WIN_SYMBOL):this.ShowBigWinIfNecessary(),this.m_Context.Dc.MainSpin.ArielController.addEventListener(e.Event.Ariel.FADE_IN_FINISHED,this.OnArielEffectFadeInFinished,this),this.m_Context.Dc.BigWin.addEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this)},n.prototype.OnArielEffectFadeInFinished=function(){this.m_CurTs=0,this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.MainSpinIndexs.Symbol),this.m_Context.Dc.MainSpin.WinFrameController.Show(this.m_Context.Status.ActionDesc.MainSpinIndexs.WinFrame),this.m_Context.Dc.BubbleController.ShowWin(this.m_Context.Status.ActionDesc.MainSpinIndexs.WinBubble),this.m_DelayActionTs=1e3*e.Config.Parameters.ShowScoreDelaySec,this.m_State=this.STATUS_SHOW_NG_WIN_SCORE},n.prototype.OnTranFinished=function(){this.m_State=this.STATUS_ALL_WIN_TRANED,this.m_DelayActionTs=1e3},n.prototype.ShowBigWinIfNecessary=function(){this.m_IsBigWinShow=this.m_TotalWin/this.m_Context.Dc.ScoreBar.Bet>=50,this.m_IsBigWinShow?this.m_Context.Dc.BigWin.Show(this.m_Context.Dc.ScoreBar.Bet,this.m_TotalWin):this.UpdateScoreBarWin()},n.prototype.UpdateScoreBarWin=function(){this.m_State=this.STATUS_SCORE_BAR_PLUS_WIN,this.m_CurTs=0,this.m_DelayActionTs=1e3*e.Config.Parameters.WinToCreditSec},n.prototype.Timing_100msUP=function(t){var n=this;if(this.m_State!=this.STATUS_NONE&&0!=this.m_DelayActionTs)switch(this.m_State){case this.STATUS_SHOW_NG_WIN_SYMBOL:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_State=this.STATUS_NONE,this.m_Context.Status.ActionDesc.MainSpinIndexs.Ariel.length>0?(this.m_Context.PlaySound(e.Enum.SoundIds.ARIEL_SHOW),this.m_Context.Dc.MainSpin.ArielController.Show(this.m_Context.Status.ActionDesc.MainSpinIndexs.Ariel)):this.OnArielEffectFadeInFinished());break;case this.STATUS_SHOW_NG_WIN_SCORE:if(this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs){this.m_CurTs=0,this.m_DelayActionTs=0;var i=this.m_Context.Status.ActionDesc.MainSpin.win_amts;this.m_Context.Dc.NormalScore.once(slot.Event.NormalScore.TRAN_FINISHED,function(){n.m_Context.Dc.ScoreBar.Win+=i,n.ShowBigWinIfNecessary()},this),this.m_Context.Dc.NormalScore.TransTo(i,1.5)}break;case this.STATUS_ALL_WIN_TRANED:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToNextLevel(),this.UpdateScoreBarWin());break;case this.STATUS_SCORE_BAR_PLUS_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Dc.ScoreBar.Win=this.m_TotalWin,this.m_State=this.STATUS_SCORE_BAR_TO_CREDIT);break;case this.STATUS_SCORE_BAR_TO_CREDIT:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.Commit(this.m_Context.Status.ActionDesc.RespSpin.user_amt,this.m_TotalWin,null!=this.m_Context.Status.ActionDesc.RespSpin.bonus_slot),this.m_State=this.STATUS_NEXT_ROUND);break;case this.STATUS_NEXT_ROUND:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.SwitchTo(new o))}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.BigWin.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this)},n}(i);t.Stage_Commit=h,__reflect(h.prototype,"game.MermaidSlot.Core.Stage_Commit")}(t=e.Core||(e.Core={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.Stage=null,n.IsRunning=!1,n.CurrentGameStaus=e.Enum.GameStatus.None,n.UserLevelBet=null,n.InitResponse=null,n.ActionDesc=new a,n}return __extends(n,t),n.prototype.Clear=function(){this.IsRunning=!1},n}(slot.Game.Status);t.Status=n,__reflect(n.prototype,"game.MermaidSlot.Core.Status");var i=function(){function e(e,t){this.Index=e,this.Pay=t}return e}();t.PayBubbleData=i,__reflect(i.prototype,"game.MermaidSlot.Core.PayBubbleData");var o=function(){function e(e,t,n){void 0===n&&(n=5),this.Index=e,this.Type=t,this.MaxCount=n}return e}();t.ArielData=o,__reflect(o.prototype,"game.MermaidSlot.Core.ArielData");var r=function(){function e(e,t){this.Index=e,this.Type=t}return e}();t.WinFrameData=r,__reflect(r.prototype,"game.MermaidSlot.Core.WinFrameData");var s=function(){function e(){this.Symbol=[],this.Scatter=[],this.WinBubble=[],this.WinFrame=[],this.Ariel=[]}return e}();t.SpinIndexList=s,__reflect(s.prototype,"game.MermaidSlot.Core.SpinIndexList");var a=function(){function t(){this.m_DemoReels=[],this.MainSpinIndexs=new s,this.FreeSpinIndexs=new s,this.m_CurFreeSpinIndex=-1,this.AlivePayBubbles=new bfcl.Collections.Dictionary}return Object.defineProperty(t.prototype,"MainSpin",{get:function(){return this.RespSpin.slot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ThisRoundFreeSpin",{get:function(){return this.RespSpin.bonus_slot[this.m_CurFreeSpinIndex]},enumerable:!0,configurable:!0}),t.prototype.DequeueDemoReels=function(){return 0==this.m_DemoReels.length?null:this.m_DemoReels.splice(0,1)[0]},Object.defineProperty(t.prototype,"CanIntoFreeGame",{get:function(){return null==this.RespSpin.bonus_slot?!1:this.RespSpin.bonus_slot.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CanAddSpinCount",{get:function(){return this.ThisRoundFreeSpin.round_add>0},enumerable:!0,configurable:!0}),t.prototype.TrySwitchNextFreeSpin=function(){this.m_CurFreeSpinIndex++;var t=this.m_CurFreeSpinIndex<=this.RespSpin.bonus_slot.length-1;return t&&(this.AlivePayBubbles.Add(e.Enum.ScenesModes.FREE_SPIN,e.Utils.Service.GetAlivePayBubblesForSpinAPI(this.ThisRoundFreeSpin.odds_info)),this.FreeSpinIndexs.Scatter=e.Utils.Service.GetArrScatterIndexs(this.ThisRoundFreeSpin.reels),this.FreeSpinIndexs.Ariel=e.Utils.Service.GetArrArielWinIndexs(this.ThisRoundFreeSpin.reels,this.ThisRoundFreeSpin.win_index),this.FreeSpinIndexs.Symbol=bfcl.Utils.Array.Clone(this.ThisRoundFreeSpin.win_index),this.FreeSpinIndexs.Scatter.length>0&&e.Utils.Service.ResetWinSymbolIndexsForNumber({symbolIndexs:this.FreeSpinIndexs.Symbol},this.FreeSpinIndexs.Scatter),e.Utils.Service.ResetWinSymbolIndexsForArielData({symbolIndexs:this.FreeSpinIndexs.Symbol},this.FreeSpinIndexs.Ariel),this.FreeSpinIndexs.WinFrame=e.Utils.Service.GetWinFrameDatas(this.FreeSpinIndexs.Symbol,this.FreeSpinIndexs.Ariel),this.FreeSpinIndexs.WinBubble=bfcl.Utils.Array.Clone(this.FreeSpinIndexs.Symbol),e.Utils.Service.ResetWinBubbleIndexs({bubbleIndexs:this.FreeSpinIndexs.WinBubble},this.FreeSpinIndexs.Ariel)),t},t.prototype.SetInitValue=function(t){this.Clear(),this.RespInit=t,this.AlivePayBubbles.Add(e.Enum.ScenesModes.MAIN_SPIN,e.Utils.Service.GetAlivePayBubblesForInitAPI(t.user_level_bet.reserve_odds_info))},t.prototype.SetSpinValue=function(t){if(this.m_CurFreeSpinIndex=-1,this.RespSpin=t,this.AlivePayBubbles.Add(e.Enum.ScenesModes.MAIN_SPIN,e.Utils.Service.GetAlivePayBubblesForSpinAPI(t.slot.odds_info)),this.m_DemoReels.push(bfcl.Utils.Array.StrToNumber(t.slot.demo_reels)),null!=t.bonus_slot)for(var n=0;n<t.bonus_slot.length;n++)this.m_DemoReels.push(bfcl.Utils.Array.StrToNumber(t.bonus_slot[n].demo_reels));this.MainSpinIndexs.Scatter=e.Utils.Service.GetArrScatterIndexs(this.MainSpin.reels),this.MainSpinIndexs.Ariel=e.Utils.Service.GetArrArielWinIndexs(this.MainSpin.reels,this.MainSpin.win_index),this.MainSpinIndexs.Symbol=bfcl.Utils.Array.Clone(this.MainSpin.win_index),this.MainSpinIndexs.Scatter.length>0&&e.Utils.Service.ResetWinSymbolIndexsForNumber({symbolIndexs:this.MainSpinIndexs.Symbol},this.MainSpinIndexs.Scatter),e.Utils.Service.ResetWinSymbolIndexsForArielData({symbolIndexs:this.MainSpinIndexs.Symbol},this.MainSpinIndexs.Ariel),this.MainSpinIndexs.WinFrame=e.Utils.Service.GetWinFrameDatas(this.MainSpinIndexs.Symbol,this.MainSpinIndexs.Ariel),this.MainSpinIndexs.WinBubble=bfcl.Utils.Array.Clone(this.MainSpinIndexs.Symbol),e.Utils.Service.ResetWinBubbleIndexs({bubbleIndexs:this.MainSpinIndexs.WinBubble},this.MainSpinIndexs.Ariel)},t.prototype.Clear=function(){this.m_CurFreeSpinIndex=-1,this.AlivePayBubbles=new bfcl.Collections.Dictionary,this.m_DemoReels=[]},t}();t.ActionDesc=a,__reflect(a.prototype,"game.MermaidSlot.Core.ActionDesc")}(t=e.Core||(e.Core={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(slot.Game.Worker);e.Worker=t,__reflect(t.prototype,"game.MermaidSlot.Core.Worker")}(t=e.Core||(e.Core={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.FADE_IN_FINISHED="Ariel_FADE_IN_FINISHED",t}(egret.Event);e.Ariel=t,__reflect(t.prototype,"game.MermaidSlot.Event.Ariel")}(t=e.Event||(e.Event={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.REFRESHED="Bubble_REFRESHED",t}(egret.Event);e.Bubble=t,__reflect(t.prototype,"game.MermaidSlot.Event.Bubble")}(t=e.Event||(e.Event={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.ACTION_FINISHED="Scene_ACTION_FINISHED",t}(egret.Event);e.Scene=t,__reflect(t.prototype,"game.MermaidSlot.Event.Scene")}(t=e.Event||(e.Event={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton errorsingleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}e.Get_en_US=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_08_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_vi_VN=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_07_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}
}e.Get_zh_TW=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e.LOADING_TITLE="LOADING_TITLE",e.LOADING_INFO="LOADING_INFO",e.LOADING_LOADING="LOADING_LOADING",e.LOADING_ENTER_GAME="LOADING_ENTER_GAME",e.HELP_TITLE_1="HELP_TITLE_1",e.HELP_TITLE_2="HELP_TITLE_2",e.HELP_TITLE_3="HELP_TITLE_3",e.HELP_TITLE_4="HELP_TITLE_4",e.HELP_TITLE_5="HELP_TITLE_5"}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"md_LOGO_Loading_game014_01_png",LOADING_INFO:"md_msg_Loading_game014_english_png",LOADING_LOADING:"Loading{0}",LOADING_ENTER_GAME:"ENTER GAME"}},e.Main=function(){return{HELP_TITLE_1:"Line description",HELP_TITLE_2:"Special feature",HELP_TITLE_3:"Scoring rule",HELP_TITLE_4:"Paytable",HELP_TITLE_5:"FREE GAME"}},e}();e.en_US=t,__reflect(t.prototype,"game.MermaidSlot.Localization.Text.en_US")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"md_LOGO_Loading_game014_01_png",LOADING_INFO:"md_msg_Loading_game014_vietnamese_png",LOADING_LOADING:"{0}",LOADING_ENTER_GAME:"truy cp tr chi"}},e.Main=function(){return{HELP_TITLE_1:"Quy lut kt ni",HELP_TITLE_2:"C ch c bit",HELP_TITLE_3:"M t im",HELP_TITLE_4:"Bng t l",HELP_TITLE_5:"FREE GAME"}},e}();e.vi_VN=t,__reflect(t.prototype,"game.MermaidSlot.Localization.Text.vi_VN")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"md_LOGO_Loading_game014_00_png",LOADING_INFO:"md_msg_Loading_game014_chinese_png",LOADING_LOADING:"{0}",LOADING_ENTER_GAME:""}},e.Main=function(){return{HELP_TITLE_1:"",HELP_TITLE_2:"",HELP_TITLE_3:"",HELP_TITLE_4:"",HELP_TITLE_5:"FREE GAME"}},e}();e.zh_TW=t,__reflect(t.prototype,"game.MermaidSlot.Localization.Text.zh_TW")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Entrance.BG={source:"md_msg_bg_png",x:240,y:220},t.Entrance.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png",x:470,y:300},t.Entrance.Title2={normal:"msg_youwin_png",shine:"msg_youwin_G_png",x:890,y:455},t.Entrance.Title3={normal:"",shine:""},t.Entrance.Frame={source:"md_msg_frame_01_png",x:490,y:500},t.Entrance.Button={up:"md_msg_button_png",down:"md_msg_button_png",label:"msg_button_start_",x:715,y:780},t.Entrance.Digit_Point={x:265,y:575},t.Exeunt.BG={source:"md_msg_bg_png",x:240,y:220},t.Exeunt.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png",x:470,y:300},t.Exeunt.Title2={normal:"msg_youwin_png",shine:"msg_youwin_G_png",x:890,y:455},t.Exeunt.Title3={normal:"",shine:""},t.Exeunt.Frame={source:"md_msg_frame_01_png",x:490,y:500},t.Exeunt.Button={up:"md_msg_button_png",down:"md_msg_button_png",label:"msg_button_backtogame_",x:715,y:780},t.Exeunt.Digit_Point={x:265,y:575},t}return __extends(t,e),t}(slot.Property.BlackboardSwitcherProperty);e.BlackboardSwitcherProperty=t,__reflect(t.prototype,"game.MermaidSlot.Property.BlackboardSwitcherProperty")}(t=e.Property||(e.Property={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r,s,a,l,m){var u=e.call(this,t,0,1)||this;return u.McX=-55,u.McY=-38,u.RowHeight=-1,u.Payout=-1,u.Normal=n,u.Blur=i,u.Win=o,void 0!=a&&(u.RowHeight=a),void 0!=r&&(u.OffestX=r),void 0!=s&&(u.OffestY=s),void 0!=l&&(u.McX=l),void 0!=m&&(u.McY=m),u}return __extends(t,e),t}(slot.Property.SymbolProperty);e.SymbolProperty=t,__reflect(t.prototype,"game.MermaidSlot.Property.SymbolProperty")}(t=e.Property||(e.Property={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.Init=function(e){for(var t=[],n=0;e>n;n++)t.push(null);return t},t.GetRandDemoPosList=function(){var t=[],n=[];for(var i in e.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==e.Enum.SymbolCodes.FreeGame)continue;t.push(o)}for(var r=0;r<e.Config.Reel.ReelCount;r++)for(var s=0;2>s;s++){var a=Math.floor(Math.random()*t.length);n.push(t[a])}return n},t.StrSlotToDemoPosList=function(t,n){void 0===n&&(n=!1),bfcl.Debug.Assert(null!=t&&t.length>0);for(var i=[],o=t.split(","),r=0,s=o;r<s.length;r++){var t=s[r],a=+t;n&&a==e.Enum.SymbolCodes.FreeGame&&(a=e.Enum.SymbolCodes.Ariel),i.push(a)}return i},t}();t.Array=n,__reflect(n.prototype,"game.MermaidSlot.Utils.Array")}(t=e.Utils||(e.Utils={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function n(){}return n.GetAlivePayBubblesForSpinAPI=function(e){return null==e?[]:this.GetAlivePayBubbles(e.status,e.odds)},n.GetAlivePayBubblesForInitAPI=function(e){return null==e?[]:this.GetAlivePayBubbles(e.status,e.odds)},n.GetAlivePayBubbles=function(e,n){for(var i=t.Array.Init(e.length),o=0;o<i.length;o++)i[o]=e[o]>0?n[o]:0;return i},n.GetArrScatterIndexs=function(t,n,i){void 0===n&&(n=3),void 0===i&&(i=4);for(var o=i+1,r=t[0].length,s=[],a=0;o>a;a++)for(var l=0;r>l;l++)+t[a][l]==e.Enum.SymbolCodes.FreeGame&&s.push(this.GetSymbolPosition(a,l));return s.length>=n?s:[]},n.HasScatterSymbol=function(t,n){for(var i=0;i<e.Config.Reel.RowCount;i++)if(+t[n][i+1]==e.Enum.SymbolCodes.FreeGame)return!0;return!1},n.GetSymbolPosition=function(e,t){return e+5*t},n.GetArrArielWinIndexs=function(t,n){var i=[];if(0==n.length)return i;for(var o=new bfcl.Collections.Dictionary([{Key:0,Value:[]},{Key:1,Value:[]},{Key:2,Value:[]}]),r=[],s=0;s<n.length;s++){var a=n[s],l=a%e.Config.Reel.ReelCount,m=Math.floor(a/e.Config.Reel.ReelCount),u=+t[l][m];u==e.Enum.SymbolCodes.Ariel&&(o.GetValue(m).push(a),r.push(a))}if(0==o.GetValue(1).length)return i;for(var h=[],c=0;c<r.length;c++){for(var _=r[c],p=5>_?1:2,d=1,S=p;3>S&&(_+=5,-1!=o.GetValue(S).indexOf(_)&&-1==h.indexOf(_));S++)d++;if(d>1){for(var s=0;d>s;s++)h.push(r[c]+5*s);i.push(new e.Core.ArielData(r[c],d))}}return i},n.ResetWinSymbolIndexsForNumber=function(e,t){for(var n=0,i=t;n<i.length;n++){var o=i[n],r=e.symbolIndexs.indexOf(o);-1!=r&&e.symbolIndexs.splice(o,1)}},n.ResetWinSymbolIndexsForArielData=function(e,t){for(var n=0,i=t;n<i.length;n++)for(var o=i[n],r=o.Index,s=o.Type,a=0;s>a;a++){var l=r+5*a,m=e.symbolIndexs.indexOf(l);-1!=m&&e.symbolIndexs.splice(m,1)}},n.GetWinFrameDatas=function(t,n){for(var i=[],o=0,r=t;o<r.length;o++){var s=r[o];i.push(new e.Core.WinFrameData(s,e.Enum.WinFrameSizeTypes.X1))}for(var a=0,l=n;a<l.length;a++){var m=l[a],u=m.Type==e.Enum.ArielEffectSizeTypes.X2?e.Enum.WinFrameSizeTypes.X2:e.Enum.WinFrameSizeTypes.X3;i.push(new e.Core.WinFrameData(m.Index,u))}return i},n.ResetWinBubbleIndexs=function(e,t){for(var n=0,i=t;n<i.length;n++)for(var o=i[n],r=o.Index,s=r+o.Type,a=0;s>a;a++){var l=r+5*a,m=e.bubbleIndexs.indexOf(l);-1==m&&e.bubbleIndexs.push(l)}},n.AlivePaysToPayBubbleDatas=function(t){for(var n=[],i=0;i<t.length;i++)n.push(new e.Core.PayBubbleData(i,t[i]));return n},n.RandIndexs=function(e,t){void 0===e&&(e=0),void 0===t&&(t=14);for(var n=bfcl.Utils.Array.Range(0,t-e),i=[];n.length>0;){var o=Math.floor(Math.random()*n.length);i.push(n.splice(o,1)[0])}return i},n.GetStopPosList=function(t){for(var n=[],i=t.demo_slot.split(","),o=0;o<e.Config.Reel.ReelCount;o++){n.push([]);for(var r=0,s=e.Config.Reel.RowCount+2;s>r;r++)if(0!=r&&r!=s-1)n[o].push(+t.reels[o][e.Config.Reel.RowCount-r]);else{var a=o;r==s-1&&(a+=e.Config.Reel.ReelCount),n[o].push(+i[a])}}return n},n}();t.Service=n,__reflect(n.prototype,"game.MermaidSlot.Utils.Service")}(t=e.Utils||(e.Utils={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.GetRandDemoPosList=function(){var t=[],n=[];for(var i in e.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==e.Enum.SymbolCodes.FreeGame)continue;t.push(o)}for(var r=0;r<e.Config.Reel.ReelCount;r++)for(var r=0;r<e.Config.Reel.RowCount;r++){var s=Math.floor(Math.random()*t.length);n.push(t[s])}return n},t}();t.Slot=n,__reflect(n.prototype,"game.MermaidSlot.Utils.Slot")}(t=e.Utils||(e.Utils={}))}(t=e.MermaidSlot||(e.MermaidSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.MineSlot,n.Request,n.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return e.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/get_last_mine_slot_init"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Init=n,__reflect(n.prototype,"game.MineSlot.API.Init")}(t=e.API||(e.API={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=bfcl.Constants.GameIds.MineSlot,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"game.MineSlot.API.Init.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"game.MineSlot.API.Init.Response");var i=function(){function e(){}return e}();e.BetInfo=i,__reflect(i.prototype,"game.MineSlot.API.Init.BetInfo")}(t=e.Init||(e.Init={}))}(t=e.API||(e.API={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.GetGameInfo=function(t,n){var i=new e.Init;n.Show(),i.OnSuccessCallback=function(e){n.Hide(),null!=t&&t(e)},i.OnFailureCallback=function(e){n.Hide()},i.Send()},t.GetSlotDesc=function(t,n){var i=new e.Spin;i.Request.bet_amt=t,i.OnSuccessCallback=function(e){null!=n&&n(e)},i.OnFailureCallback=function(e){},i.Send()},t}();e.Service=t,__reflect(t.prototype,"game.MineSlot.API.Service")}(t=e.API||(e.API={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.MineSlot,n.Request,n.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return e.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/round_result"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Spin=n,__reflect(n.prototype,"game.MineSlot.API.Spin")}(t=e.API||(e.API={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=bfcl.Constants.GameIds.MineSlot,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"game.MineSlot.API.Spin.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"game.MineSlot.API.Spin.Response");var i=function(){function e(){}return e}();e.SlotInfo=i,__reflect(i.prototype,"game.MineSlot.API.Spin.SlotInfo")}(t=e.Spin||(e.Spin={}))}(t=e.API||(e.API={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.Types=new bfcl.Collections.Dictionary([{Key:e.Enum.StageTypes.BET,Value:"BET"},{Key:e.Enum.StageTypes.MAIN_SPIN,Value:"SPIN"},{Key:e.Enum.StageTypes.MAIN_RESULT,Value:"MAIN_RESULT"},{Key:e.Enum.StageTypes.INTERLUDE_ENTRANCE,Value:"INTERLUDE_ENTRANCE"},{Key:e.Enum.StageTypes.FREE_SPIN,Value:"FREE_SPIN"},{Key:e.Enum.StageTypes.FREE_RESULT,Value:"FREE_RESULT"},{Key:e.Enum.StageTypes.INTERLUDE_EXIT,Value:"INTERLUDE_EXIT"},{Key:e.Enum.StageTypes.COMMIT,Value:"COMMIT"}]),t}();t.Stages=n,__reflect(n.prototype,"game.MineSlot.Config.Stages");var i=function(){function t(){}return t.Res=new bfcl.Collections.Dictionary([{Key:e.Enum.SoundIds.FREE_BGM,Value:"fgBgm_mp3"},{Key:e.Enum.SoundIds.MINER_CAR,Value:"fgMinecar_mp3"},{Key:e.Enum.SoundIds.SPIN_START,Value:"fgSpins_mp3"},{Key:e.Enum.SoundIds.INTERLUDE_ENTRANCE,Value:"fgTransitions1_mp3"},{Key:e.Enum.SoundIds.INTERLUDE_EXIT,Value:"fgTransitions2_mp3"},{Key:e.Enum.SoundIds.MAIN_BGM,Value:"ngBgm_mp3"},{Key:e.Enum.SoundIds.BOMB,Value:"ngBomb_mp3"},{Key:e.Enum.SoundIds.DRAW,Value:"ngframe_mp3"},{Key:e.Enum.SoundIds.SCATTER_SHOW,Value:"ngIconfall_mp3"},{Key:e.Enum.SoundIds.SCATTER_WIN,Value:"ngIconwin_mp3"},{Key:e.Enum.SoundIds.REEL_SPIN,Value:"ngRoll_mp3"},{Key:e.Enum.SoundIds.REEL_STOP,Value:"ngStop_mp3"},{Key:e.Enum.SoundIds.SYMBOL_WIN,Value:"ngWin_mp3"}]),t}();t.Sound=i,__reflect(i.prototype,"game.MineSlot.Config.Sound");var o=function(){function e(){}return e.JwToken="eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiMjE5NzA4NTY2IiwiZXhwIjoxODI3Mzc5OTY1fQ.WKU0bchTSQPAkqpaHQYCBwkopawrrSpLN7HrFOGhobelmRlndHb2TSr7bb0nEGgyZUH7skU3dg01GMEzHTpYqHBXaIX5ycRuol0o9JrnHGKy4_Vfyfb8Z5FfNC8pRAY_g1y7GTohHIaZA0Q04BoH_LMLlayAs0rqePF7wgpwUDRvacUVuBc_hUf4Pf_AKSstBHsPM_QL1iLSLn0qpK4-JxRoPWr-h635YiK8s7XiXgx7CrUBKFbtwXJZU6yzokzuGdYZranO4krC0sORfzSDcRDU8iHNWGoH3KklhSMIXJO_tqxgQi6ocsrMLopOwJ-pfk3BPFWWtQ5AQrweghUPGw",e}();t.User=o,__reflect(o.prototype,"game.MineSlot.Config.User");var r=function(){function e(){}return e.ReelCount=5,e.RowCount=4,e.SlotReelStartTimeInterval_1=500,e}();t.Reel=r,__reflect(r.prototype,"game.MineSlot.Config.Reel");var s=function(){function e(){}return e.MESSAGE_SWITCH_STATION=1000007,e}();t.TextID=s,__reflect(s.prototype,"game.MineSlot.Config.TextID")}(t=e.Config||(e.Config={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e[e.FULL_SCREEN_ON=2]="FULL_SCREEN_ON",e[e.FULL_SCREEN_OFF=4]="FULL_SCREEN_OFF",e[e.SHOPPING_CART=8]="SHOPPING_CART",e[e.RANK=16]="RANK",e[e.VOLUME_ON=32]="VOLUME_ON",e[e.VOLUME_OFF=64]="VOLUME_OFF",e[e.UNKOWN=131072]="UNKOWN",e[e.ALL=-1]="ALL"}(t=e.Buttons||(e.Buttons={}))}(t=e.TopToolUI||(e.TopToolUI={}))}(t=e.Enum||(e.Enum={}))}(bfcl||(bfcl={})),function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;return n.m_BtnFunctions=[],n.m_BtnEnables=e.Enum.TopToolUI.Buttons.UNKOWN,n.m_BtnHides=e.Enum.TopToolUI.Buttons.UNKOWN,n.skinName="resource/haydn_skins/base/TopToolSkin.exml",n}return __extends(n,t),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.m_BtnEnables},set:function(e){this.m_BtnEnables=e;for(var t=0;t<this.m_Buttons.Count;t++){var n=this.m_Buttons.GetValuePair(t);n.Value.enabled=(e&n.Key)==n.Key}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return this.m_BtnHides},set:function(e){this.m_BtnHides=e;for(var t=0;t<this.m_Buttons.Count;t++){var n=this.m_Buttons.GetValuePair(t);n.Value.visible=!((e&n.Key)==n.Key)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AudioManager",{set:function(t){e.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsVolumeOn",{set:function(e){this.m_IsVolumeOn=e,this.m_BtnVolumeOff.visible=!e,this.m_BtnVolumeOn.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsFullScreen",{set:function(e){this.m_IsFullScreen=e,this.m_BtnFullScreenOff.visible=e,this.m_BtnFullScreenOn.visible=!e},enumerable:!0,configurable:!0}),n.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},n.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.m_Buttons=new e.Collections.Dictionary,this.m_Buttons.Add(e.Enum.TopToolUI.Buttons.FULL_SCREEN_ON,this.m_BtnFullScreenOn),this.m_Buttons.Add(e.Enum.TopToolUI.Buttons.FULL_SCREEN_OFF,this.m_BtnFullScreenOff),this.m_Buttons.Add(e.Enum.TopToolUI.Buttons.SHOPPING_CART,this.m_BtnShoppingCart),this.m_Buttons.Add(e.Enum.TopToolUI.Buttons.RANK,this.m_BtnRank),this.m_Buttons.Add(e.Enum.TopToolUI.Buttons.VOLUME_ON,this.m_BtnVolumeOn),this.m_Buttons.Add(e.Enum.TopToolUI.Buttons.VOLUME_OFF,this.m_BtnVolumeOff),this.m_BtnFunctions.push(this.OnBtnClickFullScreenOn),this.m_BtnFunctions.push(this.OnBtnClickFullScreenOff),this.m_BtnFunctions.push(this.OnBtnClickShoppingCart),this.m_BtnFunctions.push(this.OnBtnClickRank),this.m_BtnFunctions.push(this.OnBtnClickVolumeOn),this.m_BtnFunctions.push(this.OnBtnClickVolumeOff);for(var n=0;n<this.m_Buttons.Count;n++){var i=this.m_Buttons.GetValuePair(n).Value;i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[n],this)}this.Clear()},n.prototype.PlayBtnDownSound=function(){this.m_AudioManager.PlaySound("button01_mp3")},n.prototype.OnBtnClickFullScreenOn=function(e){this.PlayBtnDownSound(),this.IsFullScreen=!0;var t=document.documentElement,n=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;"undefined"!=typeof n&&n&&n.call(t)},n.prototype.OnBtnClickFullScreenOff=function(e){this.PlayBtnDownSound(),this.IsFullScreen=!1;var t=document;t.exitFullscreen?t.exitFullscreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen()},n.prototype.OnBtnClickShoppingCart=function(t){this.PlayBtnDownSound(),this.dispatchEvent(new e.Event.TopTool(e.Event.TopTool.BUTTON_CLICK,e.Enum.TopToolUI.Buttons.SHOPPING_CART))},n.prototype.OnBtnClickRank=function(t){this.PlayBtnDownSound(),this.dispatchEvent(new e.Event.TopTool(e.Event.TopTool.BUTTON_CLICK,e.Enum.TopToolUI.Buttons.RANK))},n.prototype.OnBtnClickVolumeOn=function(t){this.PlayBtnDownSound(),this.IsVolumeOn=!1,this.dispatchEvent(new e.Event.TopTool(e.Event.TopTool.BUTTON_CLICK,e.Enum.TopToolUI.Buttons.VOLUME_ON))},n.prototype.OnBtnClickVolumeOff=function(t){this.PlayBtnDownSound(),this.IsVolumeOn=!0,this.dispatchEvent(new e.Event.TopTool(e.Event.TopTool.BUTTON_CLICK,e.Enum.TopToolUI.Buttons.VOLUME_OFF))},n.prototype.Clear=function(){this.IsVolumeOn=!0,this.IsFullScreen=!1},n.prototype.Dispose=function(){this.Clear();for(var e=0;e<this.m_Buttons.Count;e++){var t=this.m_Buttons.GetValuePair(e).Value;t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[e],this)}},n}(eui.Component);t.TopToolUI=n,__reflect(n.prototype,"bfcl.Controls.TopToolUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_BG=new eui.Image,t.m_FG=new eui.Image,t.m_Title=new eui.Image,t.m_Digits=new bfcl.Controls.Digits.NormalDigits("FreeSpinDigits_fnt"),t.m_Finish=new eui.Image,t}return __extends(t,e),Object.defineProperty(t.prototype,"Spinned",{get:function(){return this.m_Spinned},set:function(e){this.m_Spinned=e,this.RefreshRemain()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Count",{get:function(){return this.m_Count},set:function(e){this.m_Count=e,this.RefreshRemain()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsFinished",{get:function(){return this.m_Spinned>=this.m_Count},enumerable:!0,configurable:!0}),t.prototype.RefreshRemain=function(){this.m_Digits.Number=this.m_Count-this.m_Spinned,this.m_Title.visible=this.m_Digits.visible=this.m_Digits.Number>0,this.m_Finish.visible=!this.m_Title.visible},t.prototype.Init=function(){this.m_BG.texture=RES.getRes("fg_bg_06_png"),this.m_FG.texture=RES.getRes("fg_bg_05_png"),this.m_Title.texture=RES.getRes("msg_freespinsX_png"),this.m_Title.x=40,this.m_Title.y=16,this.m_Finish.texture=RES.getRes("msg_freespinscompleted_png"),this.m_Finish.x=30,this.m_Finish.y=16,this.m_Digits.TextAlign=egret.HorizontalAlign.LEFT,this.m_Digits.x=515,this.m_Digits.y=20,this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_Digits),this.addChild(this.m_Finish),this.addChild(this.m_FG),this.touchChildren=!1,this.touchEnabled=!1,this.x=800-this.m_BG.width/2,this.y=62,this.Clear()},t.prototype.Clear=function(){this.m_Spinned=0,this.m_Count=0,this.m_Title.visible=!1,this.m_Finish.visible=!1},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Digits),this.removeChild(this.m_Finish),this.removeChild(this.m_FG),this.m_BG=null,this.m_FG=null,this.m_Title=null,this.m_Finish=null,this.m_Digits.Dispose(),this.m_Digits=null},t}(eui.Component);e.AddSpinFrameUI=t,__reflect(t.prototype,"game.MineSlot.Controls.AddSpinFrameUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Group=new eui.Group,t.m_Value=11,t.m_Duration=2e3,t}return __extends(t,e),t.prototype.Init=function(e,t){this.m_Group.anchorOffsetX=52,this.m_Group.anchorOffsetY=10,this.m_Lamp=new eui.Image,this.m_Lamp.source=RES.getRes(e),this.m_Light=new eui.Image,this.m_Light.alpha=.45,this.m_Light.x=-74,this.m_Light.y=20,this.m_Light.scaleY=this.scaleX=.8,this.m_Light.source=RES.getRes(t),this.m_Effec=new particle.GravityParticleSystem(RES.getRes("Lantern_png"),RES.getRes("Lantern_json")),this.m_Effec.emitterX=40,this.m_Effec.emitterY=105,this.m_Group.addChild(this.m_Lamp),this.m_Group.addChild(this.m_Light),this.m_Group.addChild(this.m_Effec),this.addChild(this.m_Group),this.Clear(),this.x=300,this.y=300},t.prototype.Play=function(){this.m_Group.rotation=this.m_Value,egret.Tween.get(this.m_Group,{loop:!0}).to({rotation:-this.m_Value},this.m_Duration,egret.Ease.quadInOut).to({rotation:this.m_Value},this.m_Duration,egret.Ease.quadInOut),egret.Tween.get(this.m_Light,{loop:!0}).to({alpha:.45},1e3).to({alpha:.1},100).to({alpha:.25},100).to({alpha:.15},100).wait(500),this.m_Effec.start()},t.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Group),egret.Tween.removeTweens(this.m_Light),egret.Tween.removeTweens(this.m_Effec),this.m_Effec.stop(!0)},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Group),this.m_Group.removeChild(this.m_Lamp),this.m_Group.removeChild(this.m_Light),this.m_Group.removeChild(this.m_Effec),this.m_Group=null,this.m_Lamp=null,this.m_Light=null,this.m_Effec=null},t}(eui.Component);e.ChandelierUI=t,__reflect(t.prototype,"game.MineSlot.Controls.ChandelierUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;n.m_BG=new eui.Image,n.m_Title=new eui.Image,n.m_BarBG=new eui.Image,n.m_BarMask=new eui.Image,n.m_BarFG=new eui.Image,n.m_Help=new eui.Image,n.m_BtnEnterGame=new bfcl.Controls.ButtonUI,n.m_Remark=new eui.Label,n.m_ProccessStartX=-1,n.m_ProccessWidth=-1,n.m_BG.texture=RES.getRes("bg_Loading_game005_png"),n.m_BG.width=egret.sys.$TempStage.stageWidth,n.m_BG.height=egret.sys.$TempStage.stageHeight,n.m_Title.texture=RES.getRes("LOGO_Loading_game005_00_png"),n.m_Title.x=n.m_BG.width/3.1,n.m_Title.y=.08*n.m_BG.height,n.m_BarBG.texture=RES.getRes("H5_Loading_03_png"),n.m_BarBG.x=n.m_BG.width/2-n.m_BarBG.width/2,n.m_BarBG.y=.85*n.m_BG.height-n.m_BarBG.height/2,n.m_BarMask.texture=RES.getRes("H5_Loading_Mask_png"),n.m_BarMask.width*=.84,n.m_BarMask.x=n.m_BG.width/2-n.m_BarMask.width/2,n.m_BarMask.y=.85*n.m_BG.height-n.m_BarMask.height/2,n.m_BarFG.texture=RES.getRes("H5_Loading_04_png"),n.m_BarFG.height*=1.15,n.m_BarFG.width*=1.05,n.m_BarFG.y=.85*n.m_BG.height-n.m_BarFG.height/2,n.m_ProccessStartX=n.m_BG.width/2-.75*n.m_BarFG.width,n.m_ProccessWidth=n.m_BG.width/2-.25*n.m_BarFG.width-n.m_ProccessStartX,n.m_BarFG.mask=n.m_BarMask,n.m_Help.texture=RES.getRes("H5_Loading_msg_01_png"),n.m_Help.x=n.m_BG.width/2-n.m_Help.width/2,n.m_Help.y=.73*n.m_BG.height-n.m_Help.height/2,n.m_Remark.width=500,n.m_Remark.height=200,n.m_Remark.textAlign=egret.HorizontalAlign.CENTER,n.m_Remark.x=n.m_BG.width/2-n.m_Remark.width/2,n.m_Remark.y=n.m_BG.height-n.m_Remark.height/2,n.m_BtnEnterGame.Init("H5_Loading_01_png","H5_Loading_01_black_png"),n.m_BtnEnterGame.AddLabel(new eui.Label);var i=new bfcl.Localization.Library;return i.Register(bfcl.Constants.Codepages.TW,e.Localization.Text.zh_TW.Loading()),i.Register(bfcl.Constants.Codepages.EN,e.Localization.Text.en_US.Loading()),i.Register(bfcl.Constants.Codepages.VN,e.Localization.Text.vi_VN.Loading()),n.addChild(n.m_BG),n.addChild(n.m_Title),n.addChild(n.m_Help),n.addChild(n.m_Remark),n.addChild(n.m_BarBG),n.addChild(n.m_BarMask),n.addChild(n.m_BarFG),n.addChild(n.m_BtnEnterGame),n.m_LocalizationManager=new bfcl.Localization.Manager(i),n.m_LocalizationManager.Bind(n.m_Title,bfcl.Constants.Propertys.Texture,e.Localization.Text.LOADING_TITLE),n.m_LocalizationManager.Bind(n.m_Help,bfcl.Constants.Propertys.Texture,e.Localization.Text.LOADING_INFO),n.m_LocalizationManager.Bind(n.m_BtnEnterGame.Label,bfcl.Constants.Propertys.Text,e.Localization.Text.LOADING_ENTER_GAME),n.Clear(),n}return __extends(n,t),Object.defineProperty(n.prototype,"Preccess",{set:function(n){t.prototype.SetPreccess.call(this,n);var i=this.TotalPercent();this.m_BarFG.x=this.m_ProccessStartX+this.m_ProccessWidth*(i/100),this.m_LocalizationManager.Bind(this.m_Remark,bfcl.Constants.Propertys.Text,e.Localization.Text.LOADING_LOADING,i.toFixed(0)+"/100")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CodePage",{set:function(e){this.m_LocalizationManager.CodePage=e},enumerable:!0,configurable:!0}),n.prototype.onProgress=function(e,t){this.Preccess=e/t},n.prototype.Finished=function(){this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!1,this.m_BtnEnterGame.visible=!0,this.m_BtnEnterGame.x=this.m_BG.width/2-this.m_BtnEnterGame.width/2,this.m_BtnEnterGame.y=.88*this.m_BG.height-this.m_BtnEnterGame.height/2,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.m_BtnEnterGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.Clear=function(){t.prototype.Clear.call(this),this.Preccess=0,this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!0,this.m_BtnEnterGame.visible=!1,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.m_BtnEnterGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.OnClick=function(e){this.dispatchEvent(new bfcl.Event.Loading(bfcl.Event.Loading.CLICK))},n.prototype.Dispose=function(){this.m_LocalizationManager.Dispose(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Help),this.removeChild(this.m_Remark),this.removeChild(this.m_BarBG),this.removeChild(this.m_BarMask),this.removeChild(this.m_BarFG),this.removeChild(this.m_BtnEnterGame),this.m_BtnEnterGame.Dispose(),this.m_BtnEnterGame=null,this.m_BG=null,this.m_Title=null,this.m_BarBG=null,this.m_BarMask=null,this.m_BarFG=null,this.m_Help=null,this.m_Remark=null},n}(bfcl.Controls.LoadingPanelUI);t.LoadingPanelUI=n,__reflect(n.prototype,"game.MineSlot.Controls.LoadingPanelUI")}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(t){var n;!function(e){e[e.Main=0]="Main",e[e.Free=1]="Free"}(n=t.SceneType||(t.SceneType={}));var i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.m_Scenes=new bfcl.Collections.Dictionary,e.m_Duration=1e3,e}return __extends(o,i),Object.defineProperty(o.prototype,"CurSceneType",{set:function(e){if(this.m_CurSceneType!=e){this.m_CurSceneType=e;for(var t=0;t<this.m_Scenes.Count;t++){var n=this.m_Scenes.GetValuePair(t);n.Value.Container.alpha=n.Key==this.m_CurSceneType?1:0}}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Main",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(n.Main):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Free",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(n.Free):void 0},enumerable:!0,configurable:!0}),o.prototype.Init=function(e,i){this.m_Scenes.Add(n.Main,new t.SceneUI(e)),this.m_Scenes.Add(n.Free,new t.SceneUI(i,!0)),this.Clear()},o.prototype.SwitchTo=function(e,t){var n=this;if(void 0===t&&(t=!1),bfcl.Debug.Assert(this.m_Scenes.ContainsKey(e)),t)return void this.OnToFinished(e);this.RemoveTweens();for(var i=0;i<this.m_Scenes.Count;i++){var o=this.m_Scenes.GetValuePair(i),r=o.Key==e?1:0,s=egret.Tween.get(o.Value.Container).to({alpha:r},this.m_Duration);i==this.m_Scenes.Count-1&&s.call(function(){n.OnToFinished(e)})}},o.prototype.OnToFinished=function(t){this.RemoveTweens(),this.CurSceneType=t,this.dispatchEvent(new e.MineSlot.Event.Scene(e.MineSlot.Event.Scene.ACTION_FINISHED))},o.prototype.RemoveTweens=function(){for(var e=0;e<this.m_Scenes.Count;e++)egret.Tween.removeTweens(this.m_Scenes.GetValuePair(e).Value.Container)},o.prototype.Clear=function(){this.RemoveTweens(),this.CurSceneType=n.Main},o.prototype.Dispose=function(){for(var e=0;e<this.m_Scenes.Count;e++){var t=this.m_Scenes.GetValuePair(e).Value;t.Dispose(),t=null}this.m_Scenes.Clear()},o}(eui.Component);t.SceneSwitcherUI=i,__reflect(i.prototype,"game.MineSlot.Controls.SceneSwitcherUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Controls||(t.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,i){void 0===i&&(i=!1);var o=t.call(this)||this;return o.ComboLabel=new slot.Controls.Combo.LabelGroupUI,o.Container=n[0],o.ReelMachine=new e.ReelMachineUI(280,220,n.slice(1),i),o.Container.addChild(o.ReelMachine),o}return __extends(n,t),n.prototype.Dispose=function(){this.Container.removeChild(this.ReelMachine),this.ReelMachine.Dispose(),this.ReelMachine=null},n}(eui.Component);e.SceneUI=t,__reflect(t.prototype,"game.MineSlot.Controls.SceneUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Image=new eui.Image,t.m_Duration=500,t.m_Inited=!1,t}return __extends(t,e),t.prototype.Play=function(){this.Clear(),egret.Tween.get(this.m_Image).to({scaleX:1,scaleY:1},this.m_Duration)},t.prototype.Stop=function(){this.Clear()},t.prototype.Init=function(e){this.m_Inited||(this.m_Inited=!0,this.m_Image=new eui.Image,this.addChild(this.m_Image),this.horizontalCenter=0,this.verticalCenter=0),this.m_Image.source=RES.getRes(e),this.Clear()
},t.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Image),this.m_Image.scaleX=this.m_Image.scaleY=0},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Image),this.m_Image=null},t}(slot.Controls.StatusActioner);e.Bomb=t,__reflect(t.prototype,"game.MineSlot.Controls.Actioner.Bomb")}(t=e.Actioner||(e.Actioner={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Group=new eui.Group,t.m_Duration=1e3,t.m_Inited=!1,t}return __extends(t,e),t.prototype.Play=function(){this.Clear(),egret.Tween.get(this.m_Group,{loop:!0}).to({scaleX:1.2,scaleY:1.2},this.m_Duration/2).to({scaleX:1,scaleY:1},this.m_Duration/2),egret.Tween.get(this.m_Mask,{loop:!0}).to({alpha:1},this.m_Duration/2).to({alpha:0},this.m_Duration/2)},t.prototype.Stop=function(){this.Clear()},t.prototype.Init=function(e,t){this.m_Inited||(this.m_Inited=!0,this.m_Target=new eui.Image,this.m_Mask=new eui.Image,this.m_Group.addChild(this.m_Target),this.m_Group.addChild(this.m_Mask),this.addChild(this.m_Group),this.horizontalCenter=0,this.verticalCenter=0),this.m_Target.source=RES.getRes(e),this.m_Mask.source=RES.getRes(t),this.Clear()},t.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Target),egret.Tween.removeTweens(this.m_Mask),this.m_Group.scaleX=this.m_Group.scaleY=1,this.m_Mask.alpha=0},t.prototype.Dispose=function(){this.Clear(),this.m_Group.removeChild(this.m_Target),this.m_Group.removeChild(this.m_Mask),this.removeChild(this.m_Group),this.m_Target=null,this.m_Mask=null,this.m_Group=null},t}(slot.Controls.StatusActioner);e.Bounce=t,__reflect(t.prototype,"game.MineSlot.Controls.Actioner.Bounce")}(t=e.Actioner||(e.Actioner={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Mc=null,t.m_Inited=!1,t}return __extends(t,e),t.prototype.Play=function(){this.m_Mc.gotoAndPlay(0,-1)},t.prototype.Stop=function(){this.m_Mc.stop()},t.prototype.Init=function(e,t,n){this.m_Inited||(this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.addChild(this.m_Mc)),this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(e),this.m_Mc.x=t,this.m_Mc.y=n,this.Clear()},t.prototype.Clear=function(){},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Mc),this.m_Mc=null},t}(slot.Controls.StatusActioner);e.MovieClip=t,__reflect(t.prototype,"game.MineSlot.Controls.Actioner.MovieClip")}(t=e.Actioner||(e.Actioner={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=230),void 0===n&&(n=135),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){var s=bfcl.Decorator.MovieClip("Icon_forcast");s.x=t+r*i,s.y=n,s.scaleX=s.scaleY=2,this.m_List[r]=s,this.addChild(s)}this.Clear()},n.prototype.Show=function(e){this.Clear();for(var t=0,n=e;t<n.length;t++){var i=n[t];this.m_List[i].visible=!0,this.m_List[i].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var t=0;t<e.Config.Reel.ReelCount;t++)this.m_List[t].stop(),this.m_List[t].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;){var e=this.m_List.splice(0,1)[0];this.removeChild(e),e.stop(),e=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.DrawUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Frames.DrawUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e.m_PlayingCount=0,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=185),void 0===n&&(n=755),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){this.m_List[r]=[];for(var s=0;s<e.Config.Reel.RowCount;s++){var a=bfcl.Decorator.MovieClip("Icon_explosion");a.x=t+r*i,a.y=n-s*o,this.m_List[r][s]=a,this.addChild(a)}}this.Clear()},n.prototype.ShowOne=function(t,n){var i=this,o=this.m_List[t][n-1];this.m_PlayingCount++,o.addEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.get(o).call(function(t,n,o){t.visible=!0,t.gotoAndPlay(0),i.dispatchEvent(new e.Event.ExplosionUI(e.Event.ExplosionUI.BOMBING,n,o))},this,[o,t,n])},n.prototype.Show=function(t){var n=this;this.Clear();for(var i=65,o=0,r=t.length;r>o;o++)for(var s=0,a=t[o];s<a.length;s++){var l=a[s],m=this.m_List[o][l-1];this.m_PlayingCount++,m.addEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.get(m).wait(i*o).call(function(t,i,o){t.visible=!0,t.gotoAndPlay(0),n.dispatchEvent(new e.Event.ExplosionUI(e.Event.ExplosionUI.BOMBING,i,o))},this,[m,o,l])}},n.prototype.OnMcComplete=function(t){t.target.visible=!1,this.m_PlayingCount--,this.m_PlayingCount<=0&&this.dispatchEvent(new e.Event.ExplosionUI(e.Event.ExplosionUI.FINISHED))},n.prototype.Clear=function(){this.m_PlayingCount=0;for(var t=0;t<e.Config.Reel.ReelCount;t++)for(var n=0;n<e.Config.Reel.RowCount;n++){var i=this.m_List[t][n];i.stop(),i.visible=!1,i.hasEventListener(egret.Event.COMPLETE)&&i.removeEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.removeTweens(i)}},n.prototype.Dispose=function(){for(;this.m_List.length>0;)for(var e=this.m_List.splice(0,1)[0];e.length>0;){var t=e.splice(0,1)[0];this.removeChild(t),t.stop(),t=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.ExplosionUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Frames.ExplosionUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_List=null,e}return __extends(n,t),n.prototype.Init=function(t,n,i,o){void 0===t&&(t=240),void 0===n&&(n=755),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var r=0;r<e.Config.Reel.ReelCount;r++){this.m_List[r]=[];for(var s=0;s<e.Config.Reel.RowCount;s++){var a=bfcl.Decorator.MovieClip("Icon_prize");a.x=t+r*i,a.y=n-s*o,this.m_List[r][s]=a,this.addChild(a)}}this.Clear()},n.prototype.Show=function(e){this.Clear();for(var t=0,n=e.length;n>t;t++)for(var i=0,o=e[t];i<o.length;i++){var r=o[i];this.m_List[t][r-1].visible=!0,this.m_List[t][r-1].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var t=0;t<e.Config.Reel.ReelCount;t++)for(var n=0;n<e.Config.Reel.RowCount;n++)this.m_List[t][n].stop(),this.m_List[t][n].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;)for(var e=this.m_List.splice(0,1)[0];e.length>0;){var t=e.splice(0,1)[0];this.removeChild(t),t.stop(),t=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);t.WinUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Frames.WinUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Frames||(t.Frames={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n){var i=e.call(this)||this;return i.m_Title=new eui.Label,i.m_Image=new eui.Image,i.m_TitleCode="",i.m_TitleCode=t,i.m_Title.width=1600,i.m_Title.height=100,i.m_Title.fontFamily="Tahoma",i.m_Title.textColor=16756224,i.m_Title.size=70,i.m_Title.bold=!0,i.m_Title.textAlign=egret.HorizontalAlign.CENTER,i.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,i.m_Title.x=800-i.m_Title.width/2,i.m_Image.texture=RES.getRes(n),i.m_Image.y=i.m_Title.height,i.addChild(i.m_Image),i.addChild(i.m_Title),i}return __extends(t,e),Object.defineProperty(t.prototype,"Height",{get:function(){return 686},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Width",{get:function(){return this.m_Image.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LocalizationManager",{set:function(e){e.Bind(this.m_Title,bfcl.Constants.Propertys.Text,this.m_TitleCode)},enumerable:!0,configurable:!0}),t.prototype.Clear=function(){},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Image),this.removeChild(this.m_Title),this.m_Title=null,this.m_Image=null},t}(bfcl.Controls.Info.Page);e.Page=t,__reflect(t.prototype,"game.MineSlot.Controls.Info.Page")}(t=e.Info||(e.Info={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Obj=new eui.Image,e.m_Wild=new eui.Image,e.Serial=-1,e}return __extends(n,t),n.prototype.Init=function(){this.m_Obj.texture=RES.getRes("bomb_png"),this.m_Obj.anchorOffsetX=87,this.m_Obj.anchorOffsetY=72,this.m_Wild.texture=RES.getRes("Icon_12_png"),this.addChild(this.m_Obj),this.addChild(this.m_Wild),this.Clear()},n.prototype.Fly=function(t,n,i){var o=this;void 0===n&&(n=3.5),void 0===i&&(i=.4),this.Clear(),this.m_Wild.x=t.x-this.m_Wild.width/2,this.m_Wild.y=t.y-this.m_Wild.height/2,egret.Tween.get(this.m_Obj).set({x:t.x,y:-100,alpha:1}).wait(1e3*n).to({x:t.x,y:t.y},1e3*i).to({alpha:0},120).call(function(t,n){n.visible=!0,o.dispatchEvent(new e.Event.Bomb(e.Event.Bomb.IN_PLACE,t))},this,[this.Serial,this.m_Wild]),egret.Tween.get(this.m_Obj,{loop:!0}).set({rotation:0}).to({rotation:360},600)},n.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Obj),this.m_Obj.alpha=0,this.m_Wild.visible=!1},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Obj),this.removeChild(this.m_Wild),this.m_Obj=null,this.m_Wild=null},n}(eui.Component);t.BombUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Miner.BombUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Miner||(t.Miner={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Factory=new dragonBones.EgretFactory,t.m_ArmatureDisplay=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_ListenEvent?this.m_ArmatureDisplay.addEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this):this.m_ArmatureDisplay.removeEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this))},enumerable:!0,configurable:!0}),t.prototype.Init=function(){this.m_Factory.parseDragonBonesData(RES.getRes("FG_cart_ske_json")),this.m_Factory.parseTextureAtlasData(RES.getRes("FG_cart_tex_json"),RES.getRes("FG_cart_tex_png")),this.m_ArmatureDisplay=this.m_Factory.buildArmatureDisplay("FG_Cart"),this.m_ArmatureDisplay.x=1060,this.m_ArmatureDisplay.y=620,this.addChild(this.m_ArmatureDisplay),this.Clear()},t.prototype.OnAnimComplete=function(e){this.Clear()},t.prototype.Show=function(){this.ListenEvent=!0,this.m_ArmatureDisplay.animation.gotoAndPlayByFrame("Cart_in",0,1)},t.prototype.Clear=function(){this.ListenEvent=!1,this.m_ArmatureDisplay.animation.gotoAndStopByFrame("Cart_in",this.m_ArmatureDisplay.armature.armatureData.getAnimation("Cart_in").frameCount)},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_ArmatureDisplay),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null},t}(eui.Component);e.CartUI=t,__reflect(t.prototype,"game.MineSlot.Controls.Miner.CartUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Miner||(e.Miner={}))}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(n){var i;!function(n){var i=function(i){function o(){var e=null!==i&&i.apply(this,arguments)||this;return e.m_Cart=new n.CartUI,e.m_Bombs=[],e}return __extends(o,i),Object.defineProperty(o.prototype,"ListenEvent",{set:function(e){if(this.m_ListenEvent!=e){this.m_ListenEvent=e;for(var n=0,i=this.m_Bombs;n<i.length;n++){var o=i[n];this.m_ListenEvent?o.addEventListener(t.Event.Bomb.IN_PLACE,this.OnBomb,this):o.removeEventListener(t.Event.Bomb.IN_PLACE,this.OnBomb,this)}}},enumerable:!0,configurable:!0}),o.prototype.OnBomb=function(e){this.dispatchEvent(new t.Event.Bomb(t.Event.Bomb.IN_PLACE,e.Index))},o.prototype.Init=function(){this.m_Cart.Init(),this.addChild(this.m_Cart);for(var t=0;3>t;t++){var n=new e.MineSlot.Controls.Miner.BombUI;n.Serial=t,n.Init(),this.m_Bombs.push(n),this.addChild(n)}this.touchEnabled=!1,this.touchChildren=!1},o.prototype.Show=function(e){this.Clear(),this.ListenEvent=!0,bfcl.Debug.Assert(e.length<=this.m_Bombs.length);for(var t=0;t<e.length;t++){var n=o.CART_DURATION+3*Math.random()*.15;this.m_Bombs[t].Fly(e[t],n)}this.m_Cart.Show()},o.prototype.Clear=function(){this.ListenEvent=!1,this.m_Cart.Clear();for(var e=0,t=this.m_Bombs;e<t.length;e++){var n=t[e];n.Clear()}},o.prototype.Dispose=function(){for(this.Clear(),this.removeChild(this.m_Cart),this.m_Cart.Dispose(),this.m_Cart=null;this.m_Bombs.length>0;){var e=this.m_Bombs.splice(0,1)[0];this.removeChild(e),e.Dispose(),e=null}bfcl.Debug.Assert(0==this.numChildren)},o.CART_DURATION=3.4,o}(eui.Component);n.MinerUI=i,__reflect(i.prototype,"game.MineSlot.Controls.Miner.MinerUI",["eui.UIComponent","egret.DisplayObject"])}(i=n.Miner||(n.Miner={}))}(n=t.Controls||(t.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){void 0===i&&(i=!0);var o=e.call(this,"resource/haydn_skins/mineSlot/ReelSkin.exml")||this;return o.m_MaskX=t,o.m_MaskWidth=n,o.m_HasMask=i,o}return __extends(t,e),Object.defineProperty(t.prototype,"Container",{get:function(){return this.m_Group},enumerable:!0,configurable:!0}),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.m_HasMask?(this.m_Group.mask=this.m_Mask,this.m_Mask.x=this.m_MaskX,this.m_Mask.width=this.m_MaskWidth):this.m_Mask.visible=!1},t}(slot.Controls.Reel.Containers.LayerUI);e.LayerUI=t,__reflect(t.prototype,"game.MineSlot.Controls.LayerUI")}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(i,o,r,s){void 0===s&&(s=!1);var a=n.call(this,e.Config.Reel.ReelCount)||this;a.m_SymbolPropertys=new bfcl.Collections.Dictionary,a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Miner,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Miner,"Icon_01_png","icon_01_blur_png","Icon_01_Sequence",2.5,24,195)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Supervisor,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Supervisor,"Icon_02_png","icon_02_blur_png","Icon_02_Sequence",2.5,24,195,-55,-28)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Diamond_Red,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Diamond_Red,"Icon_03_png","icon_03_blur_png","Icon_03_Sequence",3,18,195,-9,9)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Diamond_Yellow,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Diamond_Yellow,"Icon_04_png","icon_04_blur_png","Icon_04_Sequence",3,18,195,-9,9)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Diamond_Blue,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Diamond_Blue,"Icon_05_png","icon_05_blur_png","Icon_05_Sequence",3,18,195,-9,9)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_A,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_A,"Icon_07_png","icon_07_blur_png","Icon_07_Sequence",3,20,195,5,15)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_K,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_K,"Icon_08_png","icon_08_blur_png","Icon_08_Sequence",3,20,195,5,15)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Word_Q,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Word_Q,"Icon_09_png","icon_09_blur_png","Icon_09_Sequence",3,20,195,5,15)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.Wild,new e.Property.SymbolProperty(e.Enum.SymbolCodes.Wild,"Icon_12_png","icon_12_blur_png","Icon_12_Sequence",3,18,195,-55,-28)),a.m_SymbolPropertys.Add(e.Enum.SymbolCodes.FreeGame,new e.Property.SymbolProperty(e.Enum.SymbolCodes.FreeGame,"icon_13_png","icon_13_png","Icon_13_win_Sequence",3,24,195,-115,-94));for(var l=0;l<a.m_SymbolPropertys.Count;l++){var m=a.m_SymbolPropertys.GetValuePair(l);m.Key==e.Enum.SymbolCodes.FreeGame?m.Value.NormalLayer=1:m.Value.NormalLayer=0,m.Value.WinLayer=2}for(var l=0;l<e.Config.Reel.ReelCount;l++){for(var u=[],h=0;h<r.length;h++){var c=1==h?450:304,_=1==h?-(c-304)/2:0,p=new t.LayerUI(_,c,h<r.length-1);p.x=i+312*l,p.y=o,u.push(p),r[h].addChild(p)}a.Push(a.GenerateAReel(l,u,l>0&&l<e.Config.Reel.ReelCount-1&&!s))}return a.SetStartGapBetweenReel(100),a.SetStopGapBetweenReel(0),a}return __extends(i,n),Object.defineProperty(i.prototype,"IsSpinning",{get:function(){return this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLING||this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLED},enumerable:!0,configurable:!0}),i.prototype.Init=function(t,n){for(var i=slot.Utils.Array.StrToPosList(t,n,e.Config.Reel.ReelCount,e.Config.Reel.RowCount),o=0;o<e.Config.Reel.ReelCount;o++)this.GetReel(o).Perload(i[o])},i.prototype.GenerateAReel=function(n,i,o){void 0===o&&(o=!1);for(var r=new slot.Library.SymbolLibrary,s=0,a=this.m_SymbolPropertys.Count;a>s;s++){var l=this.m_SymbolPropertys.GetValuePair(s);(l.Key!=e.Enum.SymbolCodes.FreeGame||o)&&r.Register(l.Key,l.Value)}return new t.ReelUI(n,e.Config.Reel.RowCount,i,r)},i.prototype.StopPosList=function(t){for(var n=0;n<e.Config.Reel.ReelCount;n++)this.m_ActionScript[n].StopPosList=t[n];this.UpdateStopPosList()},i.prototype.BomboPosList=function(e,n,i){this.GetSymbol(e,n).SetProperty(this.m_SymbolPropertys.GetValue(i)),this.SetToStatus(e,n,t.SymbolUI.STATUS_BOMB)},i.prototype.ShowWin=function(e){for(var n=0,i=e.length;i>n;n++)for(var o=0,r=e[n];o<r.length;o++){var s=r[o];this.SetToStatus(n,s,t.SymbolUI.STATUS_WIN)}},i.prototype.Clear=function(){for(var i=0,o=e.Config.Reel.ReelCount;o>i;i++)for(var r=0,s=e.Config.Reel.RowCount;s>r;r++)this.SetToStatus(i,r+1,t.SymbolUI.STATUS_NORMAL);n.prototype.Clear.call(this)},i}(slot.Controls.Reel.Machine);t.ReelMachineUI=n,__reflect(n.prototype,"game.MineSlot.Controls.ReelMachineUI")}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(n,i,o,r){var s=t.call(this,new slot.Controls.SymbolUIFactory(r,e.SymbolUI,o))||this;return s.DefaultContainerType=slot.Controls.Reel.Containers.Types.Roll,s.ReelNum=n,s.touchEnabled=!1,s.touchChildren=!1,s.RegisterContainer(slot.Controls.Reel.Containers.Types.Roll,o[0].height,i,s.RollParameter()),s.Perload(),s}return __extends(n,t),n.prototype.RollParameter=function(){var t=new slot.Controls.Reel.Parameter;return t.SetMotionBlur(t.MaxSpeed,e.SymbolUI.STATUS_NORMAL,e.SymbolUI.STATUS_BLUR),t},n.prototype.DropParameter=function(){var e=new slot.Controls.Reel.Parameter;return e.RollBackFactor=0,e.RollOscillationFactor=1,e.FrameRatePerSec=3.5,e.AccelerationInterval=.25,e},n.prototype.Dispose=function(){t.prototype.Dispose.call(this)},n}(slot.Controls.Reel.BaseReel);e.ReelUI=t,__reflect(t.prototype,"game.MineSlot.Controls.ReelUI")}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.m_Mc=null,e.m_Bomb=null,e.m_Code=-1,e.m_RowHeight=-1,e.m_Inited=!1,e.skinName="resource/haydn_skins/mineSlot/SymbolSkin.exml",e}return __extends(n,t),Object.defineProperty(n.prototype,"Code",{get:function(){return this.m_Code},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"RowHeight",{get:function(){return this.m_RowHeight},enumerable:!0,configurable:!0}),n.prototype.Init=function(t){bfcl.Debug.Assert(!this.m_Inited),this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.m_Bomb=new e.Actioner.Bomb,this.m_Group.addChild(this.m_Mc),this.m_Group.addChild(this.m_Bomb),this.RegisterStatus(n.STATUS_NORMAL,new slot.Controls.Symbol.StatusSwitcher(this.m_Normal)),this.RegisterStatus(n.STATUS_BLUR,new slot.Controls.Symbol.StatusSwitcher(this.m_Blur)),this.RegisterStatus(n.STATUS_WIN,new slot.Controls.Symbol.StatusSwitcher(this.m_Mc)),this.RegisterStatus(n.STATUS_BOMB,new slot.Controls.Symbol.StatusSwitcher(this.m_Bomb)),this.SetProperty(t)},n.prototype.SetProperty=function(e){bfcl.Debug.Assert(this.m_Inited),this.SetLayer(n.STATUS_NORMAL,e.NormalLayer),this.SetLayer(n.STATUS_BLUR,e.NormalLayer),this.SetLayer(n.STATUS_WIN,e.WinLayer),this.m_Code=e.Code,this.m_RowHeight=e.RowHeight,this.anchorOffsetX=e.OffestX||0,this.anchorOffsetY=e.OffestY||0,this.m_Normal.source=RES.getRes(e.Normal),this.m_Blur.source=RES.getRes(e.Blur),this.m_Bomb.Init(e.Normal),this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(e.Win),this.m_Mc.x=e.McX,this.m_Mc.y=e.McY,this.Clear()},n.prototype.Clear=function(){this.m_Group.scaleX=this.m_Group.scaleY=1,this.State=n.STATUS_NORMAL},n.prototype.Dispose=function(){this.Clear(),t.prototype.Dispose.call(this),this.m_Group.removeChild(this.m_Mc),this.m_Group.removeChild(this.m_Bomb),this.m_Mc.stop(),this.m_Mc=null,this.m_Bomb.Dispose(),this.m_Bomb=null,this.m_Blur=null,this.m_Normal=null,this.removeChild(this.m_Group),this.m_Group=null},n.STATUS_NORMAL="STATUS_NORMAL",n.STATUS_BLUR="STATUS_BLUR",n.STATUS_WIN="STATUS_WIN",n.STATUS_BOMB="STATUS_BOMB",n}(slot.Controls.Symbol.BaseSymbol);e.SymbolUI=t,__reflect(t.prototype,"game.MineSlot.Controls.SymbolUI")}(t=e.Controls||(e.Controls={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.Context=t,__reflect(t.prototype,"game.MineSlot.Context")}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={})),function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.Status=new t.Status,e.Worker=new t.Worker,e.Dc=new t.Display,e}return __extends(i,n),i.prototype.IsImmediatelyMaintenance=function(){return this.Status.CurrentGameStaus!=e.Enum.GameStatus.None&&!this.Status.IsRunning},i.prototype.PlayBgm=function(t){this.Worker.AudioManager.PlayBgm(e.Config.Sound.Res.GetValue(t))},i.prototype.StopBgm=function(){this.Worker.AudioManager.StopBgm()},i.prototype.PlaySound=function(t,n){void 0===n&&(n=1),this.Worker.AudioManager.PlaySound(e.Config.Sound.Res.GetValue(t),n)},i.prototype.StopSound=function(t,n){void 0===n&&(n=1),this.Worker.AudioManager.StopSound(e.Config.Sound.Res.GetValue(t))},i.prototype.GetArrScatterCount=function(e,t,n){for(var i=0,o=t;n>=o;o++)i+=e[o].length;return i},i.prototype.JumpComboLabel=function(e,t){if(0==t.length)return void e.HideAll();for(var n=0;2>n;n++)for(var i=0==n?0:4,o=1;4>=o;o++){var r=4-o;-1==t[i].indexOf(o)?e.Hide(i,r):e.Jump(i,r)}},i}(slot.Game.Context);t.Context=n,__reflect(n.prototype,"game.MineSlot.Core.Context")}(t=e.Core||(e.Core={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.Scene=new t.Controls.SceneSwitcherUI,e.WinFrames=new t.Controls.Frames.WinUI,e.DrawFrames=new t.Controls.Frames.DrawUI,e.ExplosionFrames=new t.Controls.Frames.ExplosionUI,e.AddSpinFrame=new t.Controls.AddSpinFrameUI,e.ComboScore=new slot.Controls.Combo.ScoreUI,e.Miner=new t.Controls.Miner.MinerUI,e}return __extends(i,n),Object.defineProperty(i.prototype,"MainSpin",{get:function(){return this.Scene.Main},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"FreeSpin",{get:function(){return this.Scene.Free},enumerable:!0,configurable:!0}),i.prototype.Init=function(n,i,o,r,s){i[0].addChild(this.AddSpinFrame),this.Scene.Init(n,i),this.Scene.Main.ComboLabel.Init(),this.Scene.Free.ComboLabel.Init(),this.Blackboard.Init(new t.Property.BlackboardSwitcherProperty),this.WinFrames.Init(-30,610),this.DrawFrames.Init(-35,-20),this.ExplosionFrames.Init(-90,610),this.AddSpinFrame.Init(),this.AddSpinFrame.x=735,this.AddSpinFrame.y=157,this.ComboScore.Init(),this.ComboScore.AudioManager=s,this.Miner.Init(),this.Miner.y=-7,this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_1,"info_1_png")),this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_2,"info_2_png")),this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_3,"info_3_png")),this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_4,"info_4_png")),this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_5,"info_5_png")),this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_6,"info_6_png")),this.Info.AddPage(new e.MineSlot.Controls.Info.Page(t.Localization.Text.HELP_TITLE_7,"info_7_png")),i[0].addChild(this.Miner),o.addChild(this.WinFrames),o.addChild(this.DrawFrames),o.addChild(this.ExplosionFrames),o.addChild(this.ComboScore),o.addChild(this.Scene.Main.ComboLabel),o.addChild(this.Scene.Free.ComboLabel),this.Bind(r)},i.prototype.Bind=function(e){this.GameMsgBox.LocalizationManager=e},i.prototype.Clear=function(){this.Scene.Clear(),this.WinFrames.Clear(),this.DrawFrames.Clear(),this.ExplosionFrames.Clear()},i.prototype.Dispose=function(){this.WinFrames.parent.removeChild(this.WinFrames),this.DrawFrames.parent.removeChild(this.DrawFrames),this.ExplosionFrames.parent.removeChild(this.ExplosionFrames),this.ComboScore.parent.removeChild(this.ComboScore),this.Scene.Main.ComboLabel.parent.removeChild(this.Scene.Main.ComboLabel),this.Scene.Free.ComboLabel.parent.removeChild(this.Scene.Free.ComboLabel),this.AddSpinFrame.parent.removeChild(this.AddSpinFrame),this.Miner.parent.removeChild(this.Miner),this.Scene.Main.ComboLabel.Dispose(),this.Scene.Free.ComboLabel.Dispose(),this.Scene.Dispose(),this.WinFrames.Dispose(),this.DrawFrames.Dispose(),this.ExplosionFrames.Dispose(),this.ComboScore.Dispose(),this.AddSpinFrame.Dispose(),this.Miner.Dispose(),this.Scene.Main.ComboLabel=null,this.Scene.Free.ComboLabel=null,this.Scene=null,this.WinFrames=null,this.DrawFrames=null,this.ExplosionFrames=null,this.ComboScore=null,this.AddSpinFrame=null,this.Miner=null},i}(slot.Game.Display);n.Display=i,__reflect(i.prototype,"game.MineSlot.Core.Display")}(n=t.Core||(t.Core={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Update=function(e){e.Dc.ScoreBar.BtnEnables!=e.Status.Stage.BtnEnables&&(e.Dc.ScoreBar.BtnEnables=e.Status.Stage.BtnEnables),e.Dc.ScoreBar.BtnHides!=e.Status.Stage.BtnHides&&(e.Dc.ScoreBar.BtnHides=e.Status.Stage.BtnHides)},e}();e.Refresher=t,__reflect(t.prototype,"game.MineSlot.Core.Refresher")}(t=e.Core||(e.Core={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return Object.defineProperty(t.prototype,"m_Context",{get:function(){return e.Context.Instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.UNKOWN},enumerable:!0,configurable:!0}),t.prototype.Timing_100msUP=function(e){},t.prototype.SwitchTo=function(t){bfcl.Debug.Assert(null!=t,"Object.ReferenceEquals(nextStage, null)"),bfcl.Debug.Assert(this.m_Context.Status.Stage==this,"this.m_Context.Status.Stage:"+this.m_Context.Status.Stage.Type+" | this.Stage.Type:"+this.Type),this.LeaveStage(),egret.log("[STAGE]["+e.Config.Stages.Types.GetValue(t.Type)+"]"),this.m_Context.Status.Stage=t,this.m_Context.Status.Stage.EnterStage()},t}();t.Stage=n,__reflect(n.prototype,"game.MineSlot.Core.Stage");var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.UNKOWN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.GetBtnEnables()},enumerable:!0,configurable:!0}),n.prototype.GetBtnEnables=function(){return slot.Enum.ScoreBarUI.Buttons.MENU|slot.Enum.ScoreBarUI.Buttons.TURBO_ON|slot.Enum.ScoreBarUI.Buttons.TURBO_OFF},n.prototype.EnterStage=function(){this.m_Context.Dc.ScoreBar.addEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n.prototype.OnScoreBarClick=function(e){e.Button==slot.Enum.ScoreBarUI.Buttons.MENU},n.prototype.LeaveStage=function(){this.m_Context.Dc.ScoreBar.removeEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n}(n);t.Stage_Base=i,__reflect(i.prototype,"game.MineSlot.Core.Stage_Base");var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.BET},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return this.m_Context.IsImmediatelyMaintenance()?e=slot.Enum.ScoreBarUI.Buttons.UNKOWN:e|=this.m_Context.Dc.ScoreBar.IsAutoPlay?slot.Enum.ScoreBarUI.Buttons.AUTO:slot.Enum.ScoreBarUI.Buttons.MINUS_BET|slot.Enum.ScoreBarUI.Buttons.PLUS_BET|slot.Enum.ScoreBarUI.Buttons.MAX_BET|slot.Enum.ScoreBarUI.Buttons.AUTO,this.m_Context.Dc.ScoreBar.Bet>0&&(e|=slot.Enum.ScoreBarUI.Buttons.SPIN),e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){return t.prototype.EnterStage.call(this),this.m_Context.Status.Clear(),this.m_Context.Status.MainComboCount=this.m_Context.Dc.ComboScore.ComboCount,this.m_Context.Dc.ScoreBar.IsSpinning=!1,null!=this.m_Context.Status.UserLevelBet&&(this.m_Context.Dc.ScoreBar.SetBetRange(this.m_Context.Status.UserLevelBet.bet_min,this.m_Context.Status.UserLevelBet.bet_max,this.m_Context.Status.UserLevelBet.bet_gap),this.m_Context.Status.UserLevelBet=null),this.m_Context.IsImmediatelyMaintenance()?void this.m_Context.Dc.ScoreBar.StopAutoPlay():void 0},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.SPIN&&this.OnBtnClickSpin()},n.prototype.Timing_100msUP=function(e){this.m_Context.Dc.ScoreBar.IsAutoPlay&&(this.m_Context.Dc.ScoreBar.Bet<=0||this.OnBtnClickSpin())},n.prototype.OnBtnClickSpin=function(){if(!(this.m_Context.Dc.ScoreBar.Bet<=0)){if(this.m_Context.Dc.ScoreBar.Bet>this.m_Context.Dc.ScoreBar.Credit)return this.m_Context.Dc.ScoreBar.StopAutoPlay(),void this.m_Context.Dc.GameMsgBox.Show2(4001);this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Status.IsRunning=!0,this.SwitchTo(new r)}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this)},n}(i);t.Stage_Bet=o,__reflect(o.prototype,"game.MineSlot.Core.Stage_Bet");var r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SPIN=1,e.m_CurDelayTs=0,e.m_ListenDelayTs=0,e.m_StoppingReelIndex=0,e.m_IsServerResponse=!1,e.m_IsAllReelSpinning=!1,e.m_IsBtnStopClick=!1,e.m_State=e.STATUS_NONE,e.m_IsDrawing=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.MAIN_SPIN
},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return this.m_IsAllReelSpinning&&this.m_IsServerResponse&&!this.m_IsBtnStopClick&&this.m_State==this.STATUS_SPIN&&(e|=slot.Enum.ScoreBarUI.Buttons.STOP),e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){var n=this;t.prototype.EnterStage.call(this),this.m_Context.Dc.MainSpin.ComboLabel.HideAll(),this.m_Context.Dc.ScoreBar.IsSpinning=!0,this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllStarted,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.Roll(),this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN,-1),this.m_State=this.STATUS_SPIN,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?1250:2500,this.m_Context.Dc.ScoreBar.Credit-=this.m_Context.Dc.ScoreBar.Bet,e.API.Service.GetSlotDesc(this.m_Context.Dc.ScoreBar.Bet,function(e){n.m_IsServerResponse=!0,n.m_Context.Status.ActionDesc.SetValue(e),n.m_Context.Dc.ScoreBar.Credit=e.user_amt-e.all_win_amt,n.m_Context.Dc.MainSpin.ReelMachine.StopPosList(n.m_Context.Status.ActionDesc.MainStopPosList())})},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=e.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.MainSpin.ReelMachine.IsSpinning)return;if(this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs+this.m_ListenDelayTs){if(!this.m_IsServerResponse)return;this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.MainSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1?e.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.MainSpin.ReelMachine.StopAt(this.m_StoppingReelIndex))}}},n.prototype.OnReelAllStarted=function(e){this.m_IsAllReelSpinning=!0},n.prototype.OnReelStopping=function(t){this.m_StoppingReelIndex=t.ReelNum+1;var n=this.m_Context.Status.ActionDesc.MainScatterPosList(),i=this.m_Context.GetArrScatterCount(n,0,t.ReelNum);2==i&&this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1&&!this.m_Context.Dc.ScoreBar.IsTurbo?(this.m_IsDrawing=!0,this.m_ListenDelayTs=3e3,this.m_Context.PlaySound(e.Enum.SoundIds.DRAW),this.m_Context.Dc.DrawFrames.Show([this.m_StoppingReelIndex])):this.m_IsDrawing&&(this.m_ListenDelayTs=0,this.m_IsDrawing=!1,this.m_Context.Dc.DrawFrames.Clear()),!this.m_IsDrawing&&n[t.ReelNum].length>0&&this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_SHOW)},n.prototype.OnReelStopped=function(t){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_STOP)},n.prototype.OnReelAllStopped=function(){this.m_IsAllReelSpinning=!1,this.m_Context.StopSound(e.Enum.SoundIds.REEL_SPIN),this.SwitchTo(new s)},n.prototype.OnScoreBarClick=function(e){t.prototype.OnScoreBarClick.call(this,e),e.Button==slot.Enum.ScoreBarUI.Buttons.STOP&&(this.m_IsBtnStopClick=!0,this.m_Context.Dc.MainSpin.ReelMachine.StopAll())},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllStarted,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_MainSpin=r,__reflect(r.prototype,"game.MineSlot.Core.Stage_MainSpin");var s=function(t){function n(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.STATUS_NONE=0,n.STATUS_SCATTER=1,n.STATUS_ENTRANCE_BONUS=2,n.STATUS_SHOW_WIN_SYMBOL=3,n.STATUS_SHOW_WIN_SCORE=4,n.STATUS_BOMB=5,n.STATUS_FROM_BONUS_COME_BACK=6,n.STATUS_COMMIT=7,n.m_State=n.STATUS_NONE,n.m_CurDelayTs=0,n.m_ActionDelayTs=0,n.m_IsFromBonusComeBack=!1,n.m_IsFromBonusComeBack=e,n}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.MAIN_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_IsFromBonusComeBack?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_FROM_BONUS_COME_BACK):this.CheckEnterPhase(),this.m_Context.Dc.ExplosionFrames.addEventListener(e.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.addEventListener(e.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},Object.defineProperty(n.prototype,"m_WinPosList",{get:function(){return this.m_Context.Status.ActionDesc.MainWinPosList()},enumerable:!0,configurable:!0}),n.prototype.CheckEnterPhase=function(){this.m_CurDelayTs=0,this.m_Context.Status.ActionDesc.RefreshMainPosList(),this.m_Context.Status.ActionDesc.IsMainComboEndded?(this.m_ActionDelayTs=1e3,this.m_State=this.STATUS_COMMIT):this.m_Context.Status.ActionDesc.CanIntoFreeGame()?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SCATTER):this.m_Context.Status.ActionDesc.MainThisRoundWin>0?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_COMMIT)},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SCATTER:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.MainScatterPosList()),this.m_ActionDelayTs=2e3,this.m_IsFromBonusComeBack?(this.m_IsFromBonusComeBack=!1,this.m_State=this.STATUS_BOMB):(this.m_Context.PlaySound(e.Enum.SoundIds.SCATTER_WIN),this.m_State=this.STATUS_ENTRANCE_BONUS));break;case this.STATUS_ENTRANCE_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Status.MainComboCount=this.m_Context.Dc.ComboScore.ComboCount,this.SwitchTo(new a));break;case this.STATUS_FROM_BONUS_COME_BACK:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3,this.m_Context.Status.ActionDesc.MainThisRoundWin>0?(this.m_IsFromBonusComeBack=!1,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):this.m_State=this.STATUS_SCATTER);break;case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_WinPosList),this.m_Context.Dc.WinFrames.Show(this.m_WinPosList),this.m_Context.JumpComboLabel(this.m_Context.Dc.MainSpin.ComboLabel,this.m_WinPosList),this.m_ActionDelayTs=2e3,this.m_State=this.STATUS_SHOW_WIN_SCORE);break;case this.STATUS_SHOW_WIN_SCORE:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ComboScore.Show(this.m_Context.Status.ActionDesc.MainThisRoundWin,1.5),this.m_ActionDelayTs=2300,this.m_State=this.STATUS_BOMB);break;case this.STATUS_BOMB:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Dc.ScoreBar.Win+=this.m_Context.Status.ActionDesc.MainThisRoundWin,this.m_Context.Dc.ComboScore.visible=!1,this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.WinFrames.Clear(),this.m_Context.Dc.ExplosionFrames.Show(this.m_WinPosList));break;case this.STATUS_COMMIT:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new h))}},n.prototype.OnExplosioned=function(e){this.m_Context.Status.ActionDesc.UpdateMainStopPosList(),this.CheckEnterPhase()},n.prototype.OnExplosioning=function(t){var n=this.m_WinPosList[t.Reel].indexOf(t.Row),i=this.m_Context.Status.ActionDesc.MainBombPosList()[t.Reel][n];if(this.m_Context.Dc.MainSpin.ReelMachine.BomboPosList(t.Reel,t.Row,i),this.m_Context.PlaySound(e.Enum.SoundIds.BOMB),0==t.Reel||t.Reel==e.Config.Reel.ReelCount-1){var o=0==t.Reel?0:1,r=this.m_Context.Status.ActionDesc.MainPayoutPosList()[o][4-t.Row];this.m_Context.Dc.MainSpin.ComboLabel.Show(t.Reel,4-t.Row,r)}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.ExplosionFrames.removeEventListener(e.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.removeEventListener(e.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},n}(i);t.Stage_MainResult=s,__reflect(s.prototype,"game.MineSlot.Core.Stage_MainResult");var a=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_IsBlackboardShowed=!1,e.m_AutoBtnClickTs=5e3,e.m_PlayBonusBgmTs=1e3,e.m_CurTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.INTERLUDE_ENTRANCE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.AddSpinFrame.Clear(),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),this.m_Context.Dc.Blackboard.SetNumber(this.m_Context.Status.InitResponse.fg_round,!0)},n.prototype.OnBlackboardShowed=function(t){t.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.MainSpin.ComboLabel.visible=!1,this.m_Context.Dc.FreeSpin.ComboLabel.visible=!0,this.m_Context.Dc.FreeSpin.ComboLabel.Clear(),this.m_Context.Dc.AddSpinFrame.Count=this.m_Context.Status.InitResponse.fg_round,this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_IsBlackboardShowed=!0,this.m_CurTs=0),t.State==slot.Event.Blackboard.STATE_HIDE&&(this.m_Context.Status.ActionDesc.PushNewRound(),this.SwitchTo(new l))},n.prototype.Timing_100msUP=function(t){this.m_IsBlackboardShowed&&(this.m_CurTs+=100,this.m_CurTs>=this.m_PlayBonusBgmTs&&0!=this.m_PlayBonusBgmTs&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(e.Enum.SoundIds.FREE_BGM)),this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_CurTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){this.m_PlayBonusBgmTs>0&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(e.Enum.SoundIds.FREE_BGM)),this.m_Context.Dc.Scene.SwitchTo(e.Controls.SceneType.Free),this.m_Context.Dc.Blackboard.Hide()},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!1},n}(i);t.Stage_InterludeEntrance=a,__reflect(a.prototype,"game.MineSlot.Core.Stage_InterludeEntrance");var l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_MINER=1,e.STATUS_SPIN=2,e.m_CurDelayTs=0,e.m_StoppingReelIndex=0,e.m_IsBombing=!1,e.m_IsSpinningStart=!1,e.m_BombPoints=[],e.m_BombPosList=[],e.m_BombCount=0,e.m_WildPosList=[],e.m_State=e.STATUS_NONE,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.FREE_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.Dc.FreeSpin.ComboLabel.HideAll(),this.m_Context.Dc.AddSpinFrame.Spinned+=1,this.m_Context.Dc.Miner.addEventListener(e.Event.Bomb.IN_PLACE,this.OnMinerBombInPlace,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.StopPosList(this.m_Context.Status.ActionDesc.FreeStopPosList(!0)),this.m_Context.Dc.FreeSpin.ReelMachine.Roll(),this.m_Context.PlaySound(e.Enum.SoundIds.SPIN_START),this.m_Context.PlaySound(e.Enum.SoundIds.REEL_SPIN,-1),this.CheckWildBomb()?(this.m_State=this.STATUS_MINER,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?1250:2500):(this.m_State=this.STATUS_SPIN,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?750:1500)},n.prototype.CheckWildBomb=function(){this.m_WildPosList=this.m_Context.Status.ActionDesc.FreeWildPosList(),this.m_BombPoints=[],this.m_BombCount=0;for(var e=5,t=this.m_Context.Status.ActionDesc.FreeWildCount(),n=t>=e?1:t/e,i=.4,o=.8,r=i+(o-i)*n,s=0,a=this.m_WildPosList.length;a>s;s++)if(!(Math.random()>r))for(var l=0,m=this.m_WildPosList[s];l<m.length;l++){var u=m[l],h=this.m_Context.Dc.FreeSpin.ReelMachine.GetSymbol(s,u);if(this.m_BombPoints.push(new egret.Point(430+315*s,h.y+320)),this.m_BombPosList.push(new egret.Point(s,u)),this.m_BombCount++,this.m_BombPoints.length>=3)return!0}return this.m_BombCount>0},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_MINER:if(this.m_StoppingReelIndex>=e.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.FreeSpin.ReelMachine.IsSpinning)return;if(this.m_CurDelayTs+=100,this.m_CurDelayTs<this.m_ActionDelayTs)return;if(this.m_IsBombing)return;this.m_IsBombing=!0,this.m_Context.Dc.Miner.Show(this.m_BombPoints),this.m_Context.PlaySound(e.Enum.SoundIds.MINER_CAR);break;case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=e.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.FreeSpin.ReelMachine.IsSpinning)return;this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.FreeSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<e.Config.Reel.ReelCount-1?e.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.FreeSpin.ReelMachine.StopAt(this.m_StoppingReelIndex)))}},n.prototype.OnReelRolling=function(e){this.m_IsSpinningStart||(this.m_IsSpinningStart=!0)},n.prototype.OnReelStopping=function(e){this.m_StoppingReelIndex=e.ReelNum+1},n.prototype.OnReelStopped=function(t){this.m_Context.PlaySound(e.Enum.SoundIds.REEL_STOP)},n.prototype.OnReelAllStopped=function(){this.m_IsSpinningStart=!1,this.m_Context.StopSound(e.Enum.SoundIds.REEL_SPIN),this.SwitchTo(new m)},n.prototype.OnMinerBombInPlace=function(t){var n=this.m_BombPosList[t.Index];this.m_Context.Dc.ExplosionFrames.ShowOne(n.x,n.y),this.m_Context.PlaySound(e.Enum.SoundIds.BOMB),this.m_BombCount--,this.m_BombCount<=0&&(this.m_State=this.STATUS_SPIN)},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.ExplosionFrames.Clear(),this.m_Context.Dc.Miner.Clear(),this.m_Context.Dc.Miner.removeEventListener(e.Event.Bomb.IN_PLACE,this.OnMinerBombInPlace,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);t.Stage_FreeSpin=l,__reflect(l.prototype,"game.MineSlot.Core.Stage_FreeSpin");var m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SPIN=1,e.STATUS_SHOW_WIN_SYMBOL=2,e.STATUS_SHOW_WIN_SCORE=3,e.STATUS_BOMB=4,e.STATUS_EXIT_BONUS=5,e.m_State=e.STATUS_NONE,e.m_CurDelayTs=0,e.m_ActionDelayTs=0,e.m_ThisRoundWin=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.FREE_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.CheckEnterPhase(),this.m_Context.Dc.ExplosionFrames.addEventListener(e.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.addEventListener(e.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},Object.defineProperty(n.prototype,"m_WinPosList",{get:function(){return this.m_Context.Status.ActionDesc.FreeWinPosList()},enumerable:!0,configurable:!0}),n.prototype.CheckEnterPhase=function(){this.m_CurDelayTs=0,this.m_Context.Status.ActionDesc.RefreshFreePosList(),this.m_ThisRoundWin=this.m_Context.Status.ActionDesc.FreeThisRoundWin,this.m_Context.Status.ActionDesc.IsFreeComboEndded&&this.m_Context.Dc.AddSpinFrame.IsFinished?(this.m_ActionDelayTs=1e3,this.m_State=this.STATUS_EXIT_BONUS):this.m_ThisRoundWin>0?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SPIN)},n.prototype.Timing_100msUP=function(t){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.FreeSpin.ReelMachine.ShowWin(this.m_WinPosList),this.m_Context.Dc.WinFrames.Show(this.m_WinPosList),this.m_Context.JumpComboLabel(this.m_Context.Dc.FreeSpin.ComboLabel,this.m_WinPosList),this.m_ActionDelayTs=500,this.m_State=this.STATUS_SHOW_WIN_SCORE);break;case this.STATUS_SHOW_WIN_SCORE:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ComboScore.Show(this.m_ThisRoundWin,1.5),this.m_ActionDelayTs=2300,this.m_State=this.STATUS_BOMB);case this.STATUS_BOMB:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Status.ActionDesc.SetThisRoundFreeWin(this.m_ThisRoundWin),this.m_Context.Dc.ScoreBar.Win+=this.m_ThisRoundWin,this.m_Context.Dc.ComboScore.visible=!1,this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.WinFrames.Clear(),this.m_Context.Dc.ExplosionFrames.Show(this.m_WinPosList));break;case this.STATUS_SPIN:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new l));break;case this.STATUS_EXIT_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new u))}},n.prototype.OnExplosioned=function(e){this.m_Context.Status.ActionDesc.UpdateFreeStopPosList(),this.CheckEnterPhase()},n.prototype.OnExplosioning=function(t){var n=this.m_WinPosList[t.Reel].indexOf(t.Row),i=this.m_Context.Status.ActionDesc.FreeBombPosList()[t.Reel][n];if(this.m_Context.Dc.FreeSpin.ReelMachine.BomboPosList(t.Reel,t.Row,i),this.m_Context.PlaySound(e.Enum.SoundIds.BOMB),0==t.Reel||t.Reel==e.Config.Reel.ReelCount-1){var o=0==t.Reel?0:1,r=this.m_Context.Status.ActionDesc.FreePayoutPosList()[o][4-t.Row];this.m_Context.Dc.FreeSpin.ComboLabel.Show(t.Reel,4-t.Row,r)}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.ExplosionFrames.removeEventListener(e.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.removeEventListener(e.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},n}(i);t.Stage_FreeResult=m,__reflect(m.prototype,"game.MineSlot.Core.Stage_FreeResult");var u=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_CurTs=0,e.m_AutoBtnClickTs=5e3,e.m_IsDigitsTransFinished=!1,e.m_IsClickedBlackboard=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.INTERLUDE_EXIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT)},n.prototype.OnBlackboardShowed=function(t){t.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_Context.Dc.Blackboard.SetNumber(this.m_Context.Status.ActionDesc.GetThisRoundFreeWin()))},n.prototype.OnDigitsTransFinished=function(){this.m_IsDigitsTransFinished=!0,this.m_CurTs=0},n.prototype.Timing_100msUP=function(){this.m_IsDigitsTransFinished&&0!=this.m_AutoBtnClickTs&&(this.m_CurTs+=100,this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_AutoBtnClickTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){!this.m_IsClickedBlackboard&&this.m_IsDigitsTransFinished&&(this.m_IsClickedBlackboard=!0,this.m_Context.PlayBgm(e.Enum.SoundIds.MAIN_BGM),this.m_Context.PlaySound(e.Enum.SoundIds.INTERLUDE_EXIT),this.m_Context.Dc.Scene.addEventListener(e.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this),this.m_Context.Dc.Scene.SwitchTo(e.Controls.SceneType.Main),this.m_Context.Dc.FreeSpin.ComboLabel.visible=!1,this.m_Context.Dc.MainSpin.ComboLabel.visible=!0,this.m_Context.Dc.ComboScore.ComboCount=this.m_Context.Status.MainComboCount,this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.Clear())},n.prototype.OnScenesShowed=function(){this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.SwitchTo(new s(!0))},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Scene.removeEventListener(e.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this)},n}(i);__reflect(u.prototype,"Stage_InterludeExit");var h=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS_NONE=0,e.STATUS_SHOW_WIN=1,e.STATUS_ALL_WIN_TRANED=2,e.STATUS_SCORE_BAR_PLUS_WIN=3,e.STATUS_SCORE_BAR_TO_CREDIT=4,e.STATUS_NEXT_ROUND=5,e.m_State=e.STATUS_NONE,e.m_TotalWin=0,e.m_IsBigWinShow=!1,e.m_DelayActionTs=0,e.m_CurTs=0,e}return __extends(n,t),Object.defineProperty(n.prototype,"Type",{get:function(){return e.Enum.StageTypes.COMMIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var e=t.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return e},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){t.prototype.EnterStage.call(this),this.m_CurTs=0,this.m_TotalWin=this.m_Context.Status.ActionDesc.TotalAllWin,this.m_TotalWin<=0?(this.m_State=this.STATUS_NEXT_ROUND,this.m_DelayActionTs=400):(this.m_State=this.STATUS_SHOW_WIN,this.m_DelayActionTs=200),this.m_Context.Dc.BigWin.addEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.addEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this)},n.prototype.OnTranFinished=function(){this.m_State=this.STATUS_ALL_WIN_TRANED,this.m_DelayActionTs=1e3},n.prototype.Timing_100msUP=function(t){if(this.m_State!=this.STATUS_NONE&&0!=this.m_DelayActionTs)switch(this.m_State){case this.STATUS_SHOW_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.m_IsBigWinShow=this.m_TotalWin/this.m_Context.Dc.ScoreBar.Bet>=50,this.m_IsBigWinShow?this.m_Context.Dc.BigWin.Show(this.m_Context.Dc.ScoreBar.Bet,this.m_TotalWin):(this.m_Context.PlaySound(e.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.NormalScore.TransTo(this.m_TotalWin,2)));break;case this.STATUS_ALL_WIN_TRANED:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToNextLevel(),this.m_State=this.STATUS_SCORE_BAR_PLUS_WIN);break;case this.STATUS_SCORE_BAR_PLUS_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Dc.ScoreBar.Win=this.m_TotalWin,this.m_State=this.STATUS_SCORE_BAR_TO_CREDIT);break;case this.STATUS_SCORE_BAR_TO_CREDIT:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.Commit(this.m_Context.Status.ActionDesc.m_Response.user_amt,this.m_TotalWin,this.m_Context.Status.ActionDesc.GetFreeTotalWin()>0),this.m_State=this.STATUS_NEXT_ROUND);break;case this.STATUS_NEXT_ROUND:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.SwitchTo(new o))}},n.prototype.LeaveStage=function(){t.prototype.LeaveStage.call(this),this.m_Context.Dc.BigWin.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this)},n}(i);t.Stage_Commit=h,__reflect(h.prototype,"game.MineSlot.Core.Stage_Commit")}(t=e.Core||(e.Core={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.Stage=null,n.IsRunning=!1,n.CurrentGameStaus=e.Enum.GameStatus.None,n.UserLevelBet=null,n.InitResponse=null,n.MainComboCount=0,n.ActionDesc=new i,n}return __extends(n,t),n.prototype.Clear=function(){this.IsRunning=!1,this.ActionDesc.Clear()},n}(slot.Game.Status);t.Status=n,__reflect(n.prototype,"game.MineSlot.Core.Status");var i=function(){function t(){this.m_Response=null,this.m_Detail=new bfcl.Collections.Dictionary,this.m_FreeWins=[]}return t.prototype.PushNewRound=function(){this.m_FreeWins.push(0)},t.prototype.GetThisRoundFreeWin=function(){return 0==this.m_FreeWins.length?0:this.m_FreeWins[this.m_FreeWins.length-1]},t.prototype.SetThisRoundFreeWin=function(e){this.m_FreeWins[this.m_FreeWins.length-1]+=e},t.prototype.GetFreeTotalWin=function(){for(var e=0,t=0,n=this.m_FreeWins;t<n.length;t++){var i=n[t];e+=i}return e},Object.defineProperty(t.prototype,"IsMainComboEndded",{get:function(){return this.m_Detail.GetValue(t.MAIN).IsComboEndded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsFreeComboEndded",{get:function(){return this.m_Detail.GetValue(t.FREE).IsComboEndded},enumerable:!0,configurable:!0}),t.prototype.RefreshMainPosList=function(){this.m_Detail.GetValue(t.MAIN).RefreshPosList()},t.prototype.UpdateMainStopPosList=function(){this.MainStopPosList()},t.prototype.RefreshFreePosList=function(){this.m_Detail.GetValue(t.FREE).RefreshPosList()},t.prototype.UpdateFreeStopPosList=function(){this.FreeStopPosList()},Object.defineProperty(t.prototype,"MainThisRoundWin",{get:function(){return this.m_Detail.GetValue(t.MAIN).ThisRoundWin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FreeThisRoundWin",{get:function(){return this.m_Detail.GetValue(t.FREE).ThisRoundWin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalAllWin",{get:function(){return this.m_Response.all_win_amt},enumerable:!0,configurable:!0}),t.prototype.MainStopPosList=function(){return this.m_Detail.GetValue(t.MAIN).ClacStopPosList(this.m_Response.slot)},t.prototype.FreeStopPosList=function(e){void 0===e&&(e=!1);var n=e?this.m_Response.bonus.splice(0,1)[0]:this.m_Response.bonus[0];return this.m_Detail.GetValue(t.FREE).ClacStopPosList(n,e,this.m_Response.bonus.length>0)},t.prototype.CanIntoFreeGame=function(){return this.m_Detail.GetValue(t.MAIN).CanIntoBonus()},t.prototype.MainScatterPosList=function(){return this.m_Detail.GetValue(t.MAIN).ScatterPosList()},t.prototype.MainWildPosList=function(){return this.m_Detail.GetValue(t.MAIN).WildPosList()},t.prototype.FreeWildPosList=function(){return this.m_Detail.GetValue(t.FREE).WildPosList()},t.prototype.FreeWildCount=function(){return this.m_Detail.GetValue(t.FREE).WildCount()},t.prototype.MainWinPosList=function(){return this.m_Detail.GetValue(t.MAIN).WinPosList()},t.prototype.FreeWinPosList=function(){return this.m_Detail.GetValue(t.FREE).WinPosList()},t.prototype.MainBombPosList=function(){return this.m_Detail.GetValue(t.MAIN).BombPosList()},t.prototype.MainPayoutPosList=function(){return this.m_Detail.GetValue(t.MAIN).PayoutPosList()},t.prototype.FreeBombPosList=function(){return this.m_Detail.GetValue(t.FREE).BombPosList()},t.prototype.FreePayoutPosList=function(){return this.m_Detail.GetValue(t.FREE).PayoutPosList()},t.prototype.SetValue=function(n){this.Clear(),this.m_Response=n,this.m_Detail.Add(t.MAIN,new o),this.m_Detail.Add(t.FREE,new o),this.m_Detail.GetValue(t.MAIN).DemoPosList=e.Utils.Array.StrSlotToDemoPosList(n.demo_slot),this.m_Detail.GetValue(t.FREE).DemoPosList=null==n.bonus_demo_slot?[]:e.Utils.Array.StrSlotToDemoPosList(n.bonus_demo_slot,!0)},t.prototype.Clear=function(){this.m_Response=null;for(var e=0;e<this.m_Detail.Count;e++)this.m_Detail.GetValuePair(e).Value.Clear();this.m_Detail.Clear(),this.m_FreeWins=[]},t.MAIN=0,t.FREE=1,t}();t.ActionDesc=i,__reflect(i.prototype,"game.MineSlot.Core.ActionDesc");var o=function(){function t(){this.m_Info=null,this.m_Odds=[],this.m_WinAmts=[],this.DemoPosList=null,this.m_StopPosList=null,this.m_WildCount=-1,this.m_WildPosList=null,this.m_ScatterCount=-1,this.m_ScatterPosList=null,this.m_WinPosList=null,this.m_BombPosList=null,this.m_PayoutPosList=null,this.m_ThisRoundWin=0}return t.prototype.CanIntoBonus=function(){return this.ScatterCount>=3},t.prototype.WildCount=function(){return-1==this.m_WildCount&&this.WildPosList(),this.m_WildCount},t.prototype.WildPosList=function(){if(null==this.m_WildPosList){this.m_WildPosList=this.GetWildPosList(),this.m_WildCount=0;
for(var e=0,t=this.m_WildPosList;e<t.length;e++){var n=t[e];this.m_WildCount+=n.length}}return this.m_WildPosList},Object.defineProperty(t.prototype,"ScatterCount",{get:function(){return-1==this.m_ScatterCount&&this.ScatterPosList(),this.m_ScatterCount},enumerable:!0,configurable:!0}),t.prototype.ScatterPosList=function(){if(null==this.m_ScatterPosList){this.m_ScatterPosList=this.GetScatterPosList(),this.m_ScatterCount=0;for(var e=0,t=this.m_ScatterPosList;e<t.length;e++){var n=t[e];this.m_ScatterCount+=n.length}}return this.m_ScatterPosList},t.prototype.WinPosList=function(){return null==this.m_WinPosList&&(this.m_WinPosList=this.GetWinPosList()),this.m_WinPosList},t.prototype.BombPosList=function(){return null==this.m_BombPosList&&(this.m_BombPosList=this.GetBombPosList()),this.m_BombPosList},t.prototype.PayoutPosList=function(){return null==this.m_PayoutPosList&&(this.m_PayoutPosList=this.GetPayoutPosList()),this.m_PayoutPosList},Object.defineProperty(t.prototype,"IsComboEndded",{get:function(){return 0==this.m_WinAmts.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ThisRoundWin",{get:function(){return this.m_ThisRoundWin},enumerable:!0,configurable:!0}),t.prototype.RefreshPosList=function(){this.m_ThisRoundWin=this.m_WinAmts.splice(0,1)[0],this.m_WinPosList=null,this.m_BombPosList=null,this.m_PayoutPosList=null,this.m_WildPosList=null,this.m_WildCount=-1,this.m_ScatterPosList=null,this.m_ScatterCount=-1},t.prototype.ClacStopPosList=function(t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),null==this.m_Info||n){this.m_Info=t,this.m_WinAmts=bfcl.Utils.Array.StrToNumberArray(this.m_Info.WinAmts);var o=this.m_Info.Odds.split(",");this.m_Odds=[];for(var r=0,s=o;r<s.length;r++){var a=s[r];this.m_Odds.push(+a)}this.m_Odds.splice(0,8)}this.m_StopPosList=[];for(var l=e.Config.Reel.ReelCount,m=e.Config.Reel.RowCount+2,u=i?e.Utils.Array.GetRandDemoPosList():this.DemoPosList,h=0;l>h;h++){this.m_StopPosList.push([]);for(var c=0;m>c;c++)if(0!=c&&c!=m-1)this.m_StopPosList[h].push(void 0);else{var _=0==c?u[h+l]:u[h];this.m_StopPosList[h].push(_)}}for(var p=this.m_Info.reels_handle,h=0;h<p.length;h++){var d=h%e.Config.Reel.ReelCount,S=e.Config.Reel.RowCount-Math.floor(h/e.Config.Reel.ReelCount);this.m_StopPosList[d][S]=+p[h][0]}return this.m_StopPosList},t.prototype.GetWildPosList=function(){for(var t=[],n=0;5>n;n++)if(t.push([]),0!=n&&4!=n)for(var i=1;4>=i;i++)this.m_StopPosList[n][i]==e.Enum.SymbolCodes.Wild&&t[n].push(i);return t},t.prototype.GetScatterPosList=function(){for(var t=[],n=0;5>n;n++)if(t.push([]),0!=n&&4!=n)for(var i=1;4>=i;i++)this.m_StopPosList[n][i]==e.Enum.SymbolCodes.FreeGame&&t[n].push(i);return t},t.prototype.GetWinPosList=function(){for(var t=[],n=0;n<e.Config.Reel.ReelCount;n++)t.push([]);if(t=this.FindMatchReelsAndRows(t),t=this.FindMatchReelsAndRows(t,!0),this.ScatterCount>=3)for(var n=0,i=this.m_ScatterPosList.length;i>n;n++)for(var o=0,r=this.m_ScatterPosList[n];o<r.length;o++){var s=r[o];t[n].push(s)}return t},t.prototype.FindMatchReelsAndRows=function(t,n){function i(t){return t?e.Config.Reel.ReelCount-2:1}function o(e,t,n){return n?e>=t:t>e}function r(t){return t?0:e.Config.Reel.ReelCount}function s(e,t){return t?--e:++e}void 0===n&&(n=!1);for(var a=n?this.m_StopPosList[this.m_StopPosList.length-1]:this.m_StopPosList[0],l=1;4>=l;l++){for(var m=a[l],u=[],h=i(n);o(h,r(n),n);h=s(h,n)){for(var c=[],_=1;4>=_;_++){var p=this.m_StopPosList[h][_];(p==m||p==e.Enum.SymbolCodes.Wild)&&c.push(_)}if(c.length<=0)break;u.push(c)}if(!(u.length<2)){var d=n?e.Config.Reel.ReelCount-1:0;-1==t[d].indexOf(l)&&t[d].push(l);for(var S=0;S<u.length;S++)for(var g=u[S].length,f=0;g>f;f++){var h=n?e.Config.Reel.ReelCount-2-S:S+1,_=u[S][f];-1==t[h].indexOf(_)&&t[h].push(_)}}}return t},t.prototype.GetBombPosList=function(){for(var t=bfcl.Utils.Array.Clone2(this.m_WinPosList),n=!1,i=0;i<e.Config.Reel.ReelCount;i++){for(var o=this.m_WinPosList[i],r=0;r<o.length;r++){var s=o[r],a=(e.Config.Reel.RowCount-s)*e.Config.Reel.ReelCount+i;if(this.m_Info.reels_handle.length<=0){n=!0;break}if(this.m_Info.reels_handle[a].splice(0,1),t[i][r]=+this.m_Info.reels_handle[a][0],isNaN(t[i][r]));}if(n){t=[];break}}return t},t.prototype.GetPayoutPosList=function(){var e=[];return e.push(this.m_Odds.splice(0,4)),e.push(this.m_Odds.splice(0,4)),e},t.prototype.Clear=function(){this.m_Info=null,this.m_Odds=null,this.DemoPosList=null,this.m_StopPosList=null,this.m_ScatterPosList=null,this.m_WinPosList=null,this.m_ScatterCount=-1},t}();__reflect(o.prototype,"Detail")}(t=e.Core||(e.Core={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(slot.Game.Worker);e.Worker=t,__reflect(t.prototype,"game.MineSlot.Core.Worker")}(t=e.Core||(e.Core={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Index=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Index",{get:function(){return this.m_Index},enumerable:!0,configurable:!0}),t.IN_PLACE="Bomb_IN_PLACE",t}(egret.Event);e.Bomb=t,__reflect(t.prototype,"game.MineSlot.Event.Bomb")}(t=e.Event||(e.Event={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===n&&(n=-1),void 0===i&&(i=-1),void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_Reel=n,s.m_Row=i,s}return __extends(t,e),Object.defineProperty(t.prototype,"Reel",{get:function(){return this.m_Reel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Row",{get:function(){return this.m_Row},enumerable:!0,configurable:!0}),t.BOMBING="ExplosionUI_BOMBING",t.FINISHED="ExplosionUI_FINISHED",t}(egret.Event);e.ExplosionUI=t,__reflect(t.prototype,"game.MineSlot.Event.ExplosionUI")}(t=e.Event||(e.Event={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.ACTION_FINISHED="Scene_ACTION_FINISHED",t}(egret.Event);e.Scene=t,__reflect(t.prototype,"game.MineSlot.Event.Scene")}(t=e.Event||(e.Event={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton errorsingleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}e.Get_en_US=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_08_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_vi_VN=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){function t(){return{1e3:"icon_07_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_zh_TW=t}(t=e.Sound||(e.Sound={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e.LOADING_TITLE="LOADING_TITLE",e.LOADING_INFO="LOADING_INFO",e.LOADING_LOADING="LOADING_LOADING",e.LOADING_ENTER_GAME="LOADING_ENTER_GAME",e.HELP_TITLE_1="HELP_TITLE_1",e.HELP_TITLE_2="HELP_TITLE_2",e.HELP_TITLE_3="HELP_TITLE_3",e.HELP_TITLE_4="HELP_TITLE_4",e.HELP_TITLE_5="HELP_TITLE_5",e.HELP_TITLE_6="HELP_TITLE_6",e.HELP_TITLE_7="HELP_TITLE_7"}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"LOGO_Loading_game005_01_png",LOADING_INFO:"H5_Loading_msg_02_png",LOADING_LOADING:"Loading{0}",LOADING_ENTER_GAME:"ENTER GAME"}},e.Main=function(){return{HELP_TITLE_1:"Combo description",HELP_TITLE_2:"Special feature",HELP_TITLE_3:"Scoring rule",HELP_TITLE_4:"Paytable",HELP_TITLE_5:"FREE GAME",HELP_TITLE_6:"FREE GAME-Special feature1",HELP_TITLE_7:"FREE GAME-Special feature2"}},e}();e.en_US=t,__reflect(t.prototype,"game.MineSlot.Localization.Text.en_US")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"LOGO_Loading_game005_00_png",LOADING_INFO:"H5_Loading_msg_03_png",LOADING_LOADING:"{0}",LOADING_ENTER_GAME:"truy cp tr chi"}},e.Main=function(){return{HELP_TITLE_1:"C ch kt hp",HELP_TITLE_2:"C ch c bit",HELP_TITLE_3:"M t im",HELP_TITLE_4:"Bng t l",HELP_TITLE_5:"FREE GAME",HELP_TITLE_6:"FREE GAME-C ch c bit-1",HELP_TITLE_7:"FREE GAME-C ch c bit-2"}},e}();e.vi_VN=t,__reflect(t.prototype,"game.MineSlot.Localization.Text.vi_VN")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.Loading=function(){return{LOADING_TITLE:"LOGO_Loading_game005_00_png",LOADING_INFO:"H5_Loading_msg_01_png",LOADING_LOADING:"{0}",LOADING_ENTER_GAME:""}},e.Main=function(){return{HELP_TITLE_1:"",HELP_TITLE_2:"",HELP_TITLE_3:"",HELP_TITLE_4:"",HELP_TITLE_5:"FREE GAME",HELP_TITLE_6:"FREE GAME--1",HELP_TITLE_7:"FREE GAME--2"}},e}();e.zh_TW=t,__reflect(t.prototype,"game.MineSlot.Localization.Text.zh_TW")}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Entrance.BG={source:"msg_bg_png",x:20,y:80},t.Entrance.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png",x:470,y:230},t.Entrance.Title2={normal:"msg_youwin_png",shine:"msg_youwin_G_png",x:860,y:390},t.Entrance.Title3={normal:"",shine:""},t.Entrance.Frame={source:"msg_frame_02_png",x:135,y:415},t.Entrance.Button={up:"msg_button_png",down:"msg_button_glow_png",label:"msg_button_start_",x:630,y:790},t.Entrance.Digit_Point={x:240,y:540},t.Exeunt.BG={source:"msg_bg_png",x:20,y:80},t.Exeunt.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png",x:470,y:230},t.Exeunt.Title2={normal:"msg_youwin_png",shine:"msg_youwin_G_png",x:860,y:390},t.Exeunt.Title3={normal:"",shine:""},t.Exeunt.Frame={source:"msg_frame_02_png",x:135,y:415},t.Exeunt.Button={up:"msg_button_png",down:"msg_button_glow_png",label:"msg_button_backtogame_",x:630,y:790},t.Exeunt.Digit_Point={x:240,y:540},t}return __extends(t,e),t}(slot.Property.BlackboardSwitcherProperty);e.BlackboardSwitcherProperty=t,__reflect(t.prototype,"game.MineSlot.Property.BlackboardSwitcherProperty")}(t=e.Property||(e.Property={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r,s,a,l,m){var u=e.call(this,t,0,1)||this;return u.McX=-55,u.McY=-38,u.RowHeight=-1,u.Payout=-1,u.Normal=n,u.Blur=i,u.Win=o,void 0!=a&&(u.RowHeight=a),void 0!=r&&(u.OffestX=r),void 0!=s&&(u.OffestY=s),void 0!=l&&(u.McX=l),void 0!=m&&(u.McY=m),u}return __extends(t,e),t}(slot.Property.SymbolProperty);e.SymbolProperty=t,__reflect(t.prototype,"game.MineSlot.Property.SymbolProperty")}(t=e.Property||(e.Property={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.GetRandDemoPosList=function(){var t=[],n=[];for(var i in e.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==e.Enum.SymbolCodes.FreeGame)continue;t.push(o)}for(var r=0;r<e.Config.Reel.ReelCount;r++)for(var s=0;2>s;s++){var a=Math.floor(Math.random()*t.length);n.push(t[a])}return n},t.StrSlotToDemoPosList=function(t,n){void 0===n&&(n=!1),bfcl.Debug.Assert(null!=t&&t.length>0);for(var i=[],o=t.split(","),r=0,s=o;r<s.length;r++){var t=s[r],a=+t;n&&a==e.Enum.SymbolCodes.FreeGame&&(a=e.Enum.SymbolCodes.Miner),i.push(a)}return i},t}();t.Array=n,__reflect(n.prototype,"game.MineSlot.Utils.Array")}(t=e.Utils||(e.Utils={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(){}return t.GetRandDemoPosList=function(){var t=[],n=[];for(var i in e.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==e.Enum.SymbolCodes.FreeGame)continue;t.push(o)}for(var r=0;r<e.Config.Reel.ReelCount;r++)for(var r=0;r<e.Config.Reel.RowCount;r++){var s=Math.floor(Math.random()*t.length);n.push(t[s])}return n},t}();t.Slot=n,__reflect(n.prototype,"game.MineSlot.Utils.Slot")}(t=e.Utils||(e.Utils={}))}(t=e.MineSlot||(e.MineSlot={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;return n.m_Context=null,n.m_Timer=new bfcl.Controls.Timer(100,0),n.m_LoadingUI=new e.DragonZone.Controls.LoadingPanelUI,n.skinName="resource/haydn_skins/dragonZone/MainSkin.exml",n}return __extends(n,t),Object.defineProperty(n.prototype,"Id",{get:function(){return bfcl.Constants.GameIds.DragonZone},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ResGroupName",{get:function(){return["DragonZone_1","DragonZone_2"]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogoIconName",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TextLibrary",{get:function(){var t=new bfcl.Localization.Library;return t.Register(bfcl.Constants.Codepages.TW,e.DragonZone.Localization.Text.zh_TW.Main()),t.Register(bfcl.Constants.Codepages.EN,e.DragonZone.Localization.Text.en_US.Main()),t.Register(bfcl.Constants.Codepages.VN,e.DragonZone.Localization.Text.vi_VN.Main()),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SoundLibrary",{get:function(){return new bfcl.Localization.Library},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LoadingUI",{get:function(){return this.m_LoadingUI},enumerable:!0,configurable:!0}),n.prototype.NewContext=function(){return new e.DragonZone.Core.Context},n.prototype.Init=function(t){t.Dc.Init([this.m_GpMain,this.m_GpMainLayer0,this.m_GpMainLayer1,this.m_GpMainLayer2],[this.m_GpFree,this.m_GpFreeLayer0,this.m_GpFreeLayer1,this.m_GpFreeLayer2],this.m_GpEffect,this.m_GpFree.getChildIndex(this.FG0),t.Worker.LocalizationManager,t.Worker.AudioManager),e.DragonZone.Context.Instance=this.m_Context=t,this.m_Timer.addEventListener(bfcl.Event.Timer.UPDATE,this.Update,this)},n.prototype.Start=function(){var t=this;this.m_Timer.Start(),e.DragonZone.API.Service.GetGameInfo(function(n){egret.log("GetGameInfo"),t.m_Context.Status.InitResponse=n,t.m_Context.Dc.MainSpin.ReelMachine.Init(n.slot,n.demo_slot),t.m_Context.Dc.ScoreBar.Init(n.user_level_bet.bet_min,n.user_level_bet.bet_max,n.user_level_bet.bet_gap),t.m_Context.Dc.ScoreBar.Credit=n.user_amt,t.m_Context.Status.Stage=new e.DragonZone.Core.Stage_Bet,t.m_Context.Status.Stage.EnterStage(),t.m_Context.PlayBgm(e.DragonZone.Enum.SoundIds.MAIN_BGM)},this.m_Context.Dc.Waitting)},n.prototype.Update=function(t){null!=this.m_Context&&null!=this.m_Context.Status.Stage&&(this.m_Context.Status.Stage.Timing_100msUP(t.Pass),e.DragonZone.Core.Refresher.Update(this.m_Context))},n.prototype.Clear=function(){this.m_Timer.Stop()},n.prototype.Dispose=function(){this.Clear(),this.m_Timer.removeEventListener(bfcl.Event.Timer.UPDATE,this.Update,this),this.m_Timer=null,this.m_Context.Dc.Dispose()},n}(slot.Controls.GameUI);t.DragonZone=n,__reflect(n.prototype,"game.Scene.DragonZone")}(t=e.Scene||(e.Scene={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;return n.m_Context=null,n.m_Timer=new bfcl.Controls.Timer(100,0),n.m_LoadingUI=new e.MermaidSlot.Controls.LoadingPanelUI,n.skinName="resource/haydn_skins/mermaidSlot/MainSkin.exml",n}return __extends(n,t),Object.defineProperty(n.prototype,"Id",{get:function(){return bfcl.Constants.GameIds.MermaidSlot},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ResGroupName",{get:function(){return["MermaidSlot_1","MermaidSlot_2"]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogoIconName",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TextLibrary",{get:function(){var t=new bfcl.Localization.Library;return t.Register(bfcl.Constants.Codepages.TW,e.MermaidSlot.Localization.Text.zh_TW.Main()),t.Register(bfcl.Constants.Codepages.EN,e.MermaidSlot.Localization.Text.en_US.Main()),t.Register(bfcl.Constants.Codepages.VN,e.MermaidSlot.Localization.Text.vi_VN.Main()),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SoundLibrary",{get:function(){return new bfcl.Localization.Library},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LoadingUI",{get:function(){return this.m_LoadingUI},enumerable:!0,configurable:!0}),n.prototype.NewContext=function(){return new e.MermaidSlot.Core.Context},n.prototype.Init=function(t){t.Dc.Init([this.m_GpMain,this.m_GpMainLayer0,this.m_GpMainLayer1,this.m_GpMainLayer2],[this.m_GpFree,this.m_GpFreeLayer0,this.m_GpFreeLayer1,this.m_GpFreeLayer2],this.m_GpEffect,t.Worker.LocalizationManager,t.Worker.AudioManager),e.MermaidSlot.Context.Instance=this.m_Context=t,this.m_Timer.addEventListener(bfcl.Event.Timer.UPDATE,this.Update,this)},n.prototype.Start=function(){var t=this;this.m_Timer.Start(),e.MermaidSlot.API.Service.GetGameInfo(function(n){egret.log("GetGameInfo"),t.m_Context.Status.InitResponse=n,t.m_Context.Status.ActionDesc.SetInitValue(n),t.m_Context.Dc.MainSpin.ReelMachine.Init(n.slot,n.demo_slot),t.m_Context.Dc.ScoreBar.Init(n.user_level_bet.bet_min,n.user_level_bet.bet_max,n.user_level_bet.bet_gap),t.m_Context.Dc.ScoreBar.Credit=n.user_amt,t.m_Context.Dc.BubbleController.Clear(),t.m_Context.Dc.BubbleController.PlayIfNecessary(t.m_Context.Status.ActionDesc.AlivePayBubbles.GetValue(e.MermaidSlot.Enum.ScenesModes.MAIN_SPIN),!0,!0),t.m_Context.Status.Stage=new e.MermaidSlot.Core.Stage_Bet,t.m_Context.Status.Stage.EnterStage(),t.m_Context.PlayBgm(e.MermaidSlot.Enum.SoundIds.MAIN_BGM)},this.m_Context.Dc.Waitting)},n.prototype.Update=function(t){null!=this.m_Context&&null!=this.m_Context.Status.Stage&&(this.m_Context.Status.Stage.Timing_100msUP(t.Pass),e.MermaidSlot.Core.Refresher.Update(this.m_Context))},n.prototype.Clear=function(){this.m_Timer.Stop()},n.prototype.Dispose=function(){this.Clear(),this.m_Timer.removeEventListener(bfcl.Event.Timer.UPDATE,this.Update,this),this.m_Timer=null,this.m_Context.Dc.Dispose()},n}(slot.Controls.GameUI);t.MermaidSlot=n,__reflect(n.prototype,"game.Scene.MermaidSlot")}(t=e.Scene||(e.Scene={}))}(game||(game={}));var game;!function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;return n.m_Context=null,n.m_Timer=new bfcl.Controls.Timer(100,0),n.m_LoadingUI=new e.MineSlot.Controls.LoadingPanelUI,n.skinName="resource/haydn_skins/mineSlot/MainSkin.exml",n}return __extends(n,t),Object.defineProperty(n.prototype,"Id",{get:function(){return bfcl.Constants.GameIds.MineSlot},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ResGroupName",{get:function(){return["MineSlot_1","MineSlot_2"]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogoIconName",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TextLibrary",{get:function(){var t=new bfcl.Localization.Library;return t.Register(bfcl.Constants.Codepages.TW,e.MineSlot.Localization.Text.zh_TW.Main()),t.Register(bfcl.Constants.Codepages.EN,e.MineSlot.Localization.Text.en_US.Main()),t.Register(bfcl.Constants.Codepages.VN,e.MineSlot.Localization.Text.vi_VN.Main()),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SoundLibrary",{get:function(){return new bfcl.Localization.Library},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LoadingUI",{get:function(){return this.m_LoadingUI},enumerable:!0,configurable:!0}),n.prototype.NewContext=function(){return new e.MineSlot.Core.Context},n.prototype.Init=function(t){t.Dc.Init([this.m_GpMain,this.m_GpMainLayer0,this.m_GpMainLayer1,this.m_GpMainLayer2],[this.m_GpFree,this.m_GpFreeLayer0,this.m_GpFreeLayer1,this.m_GpFreeLayer2],this.m_GpEffect,t.Worker.LocalizationManager,t.Worker.AudioManager),e.MineSlot.Context.Instance=this.m_Context=t,this.m_Timer.addEventListener(bfcl.Event.Timer.UPDATE,this.Update,this)},n.prototype.Start=function(){var t=this;this.m_Timer.Start(),e.MineSlot.API.Service.GetGameInfo(function(n){egret.log("GetGameInfo"),t.m_Context.Status.InitResponse=n,t.m_Context.Dc.MainSpin.ReelMachine.Init(n.slot,n.demo_slot),t.m_Context.Dc.ScoreBar.Init(n.user_level_bet.bet_min,n.user_level_bet.bet_max,n.user_level_bet.bet_gap),t.m_Context.Dc.ScoreBar.Credit=n.user_amt,t.m_Context.Status.Stage=new e.MineSlot.Core.Stage_Bet,t.m_Context.Status.Stage.EnterStage(),t.m_Context.PlayBgm(e.MineSlot.Enum.SoundIds.MAIN_BGM)},this.m_Context.Dc.Waitting)},n.prototype.Update=function(t){null!=this.m_Context&&null!=this.m_Context.Status.Stage&&(this.m_Context.Status.Stage.Timing_100msUP(t.Pass),e.MineSlot.Core.Refresher.Update(this.m_Context))},n.prototype.Clear=function(){this.m_Timer.Stop()},n.prototype.Dispose=function(){this.Clear(),this.m_Timer.removeEventListener(bfcl.Event.Timer.UPDATE,this.Update,this),this.m_Timer=null,this.m_Context.Dc.Dispose()},n}(slot.Controls.GameUI);t.MineSlot=n,__reflect(n.prototype,"game.Scene.MineSlot")}(t=e.Scene||(e.Scene={}))}(game||(game={}));var kernel;!function(e){var t=function(){function t(t,n){void 0===n&&(n=-1);var i=this;this.m_Context=new e.Core.Context,this.m_Context.Status=new e.Core.Status,this.m_Context.Worker=new e.Core.Worker,this.m_Context.Display=new e.Core.Display(t,this.m_Context.Worker.LocalizationManager,this.m_Context.Worker.AudioManager),this.m_Context.Display.SoundSettingPanel.addEventListener(bfcl.Event.Volume.CHANGED,function(e){bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.Volume(e.type,e.Params.type,e.Params.volume))},this),this.m_Context.Display.SoundSettingPanel.addEventListener(bfcl.Event.SoundSetting.COMFIRM,function(e){i.m_Context.Display.TopTool.IsVolumeOn=!e.IsMute},this),this.m_Context.Display.TopTool.addEventListener(bfcl.Event.TopTool.BUTTON_CLICK,function(e){if(e.Button==bfcl.Enum.TopToolUI.Buttons.VOLUME_ON&&i.m_Context.Display.SoundSettingPanel.SetMuteMode(!0),e.Button==bfcl.Enum.TopToolUI.Buttons.VOLUME_OFF&&i.m_Context.Display.SoundSettingPanel.SetMuteMode(!1),e.Button==bfcl.Enum.TopToolUI.Buttons.SHOPPING_CART){switch(i.m_Context.Status.Codepage){case bfcl.Constants.Codepages.TW:i.m_Context.Status.Codepage=bfcl.Constants.Codepages.EN;
break;case bfcl.Constants.Codepages.EN:i.m_Context.Status.Codepage=bfcl.Constants.Codepages.VN;break;case bfcl.Constants.Codepages.VN:i.m_Context.Status.Codepage=bfcl.Constants.Codepages.TW}bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,i.m_Context.Status.Codepage))}},this),this.m_Context.GameManager=new e.Core.GameManager(this.m_Context.Display),this.m_Context.GameManager.Push([bfcl.Constants.GameIds.MineSlot,bfcl.Constants.GameIds.DragonZone,bfcl.Constants.GameIds.MermaidSlot]),-1==n&&(n=bfcl.Constants.GameIds.MermaidSlot),this.m_Context.GameManager.SwtichGame(n,this.m_Context.Status.Codepage,this.m_Context.Display)}return t}();e.Main=t,__reflect(t.prototype,"kernel.Main")}(kernel||(kernel={}));var kernel;!function(e){var t=function(){function e(){}return e.AssetBundleUrl="http://192.168.11.128/EgretRes/",e}();e.Constants=t,__reflect(t.prototype,"kernel.Constants")}(kernel||(kernel={}));var bfcl;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_BG=new eui.Image,e.m_UpArrow=new t.ButtonUI,e.m_DownArrow=new t.ButtonUI,e.m_Btn=new t.ButtonUI,e.m_Sensor=null,e.m_IsDownning=!1,e.m_Distance=new egret.Point,e}return __extends(i,n),Object.defineProperty(i.prototype,"Position",{get:function(){return this.m_Position},set:function(e){0>e&&(e=0),e>1&&(e=1),this.m_Position=e,this.m_Btn.y=this.START_Y+this.FreeSpace*e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"FreeSpace",{get:function(){return this.m_BG.height-(this.m_Btn.Height+this.m_UpArrow.height+this.m_DownArrow.height+2*i.SLIDE_SPACING)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Weight",{get:function(){return this.m_Weight},set:function(t){this.m_Weight!=t&&(e.Debug.Assert(t>0&&1>=t),this.m_Weight=t,this.m_Btn.Height=this.MAX_BTN_HEIGHT*t,null!=this.m_Position&&(this.Position=this.m_Position))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Sensor.touchEnabled=e,this.m_ListenEvent?(this.m_UpArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnUpClick,this),this.m_DownArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnDownClick,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnSensorDown,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnSensorMove,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_END,this.OnSensorUp,this)):(this.m_UpArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnUpClick,this),this.m_DownArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnDownClick,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnSensorDown,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnSensorMove,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_END,this.OnSensorUp,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(e){this.m_BG.texture=RES.getRes("msg_bar00_png"),this.m_UpArrow.Init("msg_bar01_png","msg_bar01_png"),this.m_UpArrow.x=this.m_BG.width/2-this.m_UpArrow.width/2,this.m_UpArrow.y=i.SLIDE_SPACING,this.m_DownArrow.Init("msg_bar02_png","msg_bar02_png"),this.m_DownArrow.x=this.m_BG.width/2-this.m_DownArrow.width/2,this.m_DownArrow.y=this.m_BG.height-this.m_DownArrow.height-i.SLIDE_SPACING,this.m_Btn.Init("msg_bar03_png","msg_bar03_png"),this.m_Btn.x=this.m_BG.width/2-this.m_Btn.width/2,this.m_Btn.Scale9Grid=new egret.Rectangle(0,10,0,10),this.START_Y=this.m_UpArrow.x+this.m_UpArrow.height,this.MAX_BTN_HEIGHT=this.m_BG.height-(this.m_UpArrow.height+this.m_DownArrow.height+2*i.SLIDE_SPACING),this.m_Sensor=new t.Mask.RectShape(null==e?this.m_BG.width:e.width,this.MAX_BTN_HEIGHT),this.m_Sensor.x=null==e?0:e.x,this.m_Sensor.y=this.START_Y,this.m_Sensor.alpha=0,this.addChild(this.m_BG),this.addChild(this.m_UpArrow),this.addChild(this.m_DownArrow),this.addChild(this.m_Btn),this.addChild(this.m_Sensor),this.width=this.m_BG.width,this.height=this.m_BG.height,this.Clear()},i.prototype.OnUpClick=function(t){var n=this.Position;0>=n||(n-=this.m_Weight,0>n&&(n=0),this.Position=n,this.dispatchEvent(new e.Event.VScrollBar(e.Event.VScrollBar.POSITION_CHANGED,this.Position)))},i.prototype.OnDownClick=function(t){var n=this.Position;n>=1||(n+=this.m_Weight,n>1&&(n=1),this.Position=n,this.dispatchEvent(new e.Event.VScrollBar(e.Event.VScrollBar.POSITION_CHANGED,this.Position)))},i.prototype.OnSensorDown=function(e){this.m_IsDownning=!0,this.m_Distance.y=e.stageY-this.m_Btn.y},i.prototype.OnSensorMove=function(t){if(1!=this.Weight&&this.m_IsDownning){var n=t.stageY-this.m_Distance.y,i=(n-this.START_Y)/this.FreeSpace;0>i&&(i=0),i>1&&(i=1),this.m_Position!=i&&(this.Position=i,this.dispatchEvent(new e.Event.VScrollBar(e.Event.VScrollBar.POSITION_CHANGED,this.Position)))}},i.prototype.OnSensorUp=function(e){this.m_IsDownning=!1},i.prototype.Clear=function(){this.ListenEvent=!1,this.Weight=1,this.Position=0},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_UpArrow),this.removeChild(this.m_DownArrow),this.removeChild(this.m_Btn),this.m_BG=null,this.m_UpArrow.Dispose(),this.m_UpArrow=null,this.m_DownArrow.Dispose(),this.m_DownArrow=null,this.m_Btn.Dispose(),this.m_Btn=null},i.SLIDE_SPACING=5,i}(eui.Component);t.VScrollBarUI=n,__reflect(n.prototype,"bfcl.Controls.VScrollBarUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var kernel;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.Context=t,__reflect(t.prototype,"kernel.Core.Context")}(t=e.Core||(e.Core={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t=function(){function e(e,t,n){var i=this;this.Waitting=new bfcl.Controls.WaittingUI,this.BigWin=new slot.Controls.BigWinUI,this.NormalScore=new slot.Controls.NormalScore,this.ScoreBar=new slot.Controls.ScoreBarUI,this.Info=new bfcl.Controls.Info.PanelUI,this.GameMsgBox=new bfcl.Controls.MessageBoxUI,this.Blackboard=new slot.Controls.BlackboardSwitcherUI,this.SysMsgBox=new bfcl.Controls.MessageBoxUI,this.TopTool=new bfcl.Controls.TopToolUI,this.SoundSettingPanel=new bfcl.Controls.Sound.SettingPanelUI,this.Stage=e,this.SysMsgBox.LocalizationManager=t,this.ScoreBar.LocalizationManager=t,this.Waitting.Init(),this.BigWin.Init(),this.NormalScore.Init(),this.Info.Init(),this.SoundSettingPanel.Init(),this.ScoreBar.MenuBind([function(){return i.Info.Show()},function(){return i.SoundSettingPanel.Show()}]),this.BigWin.AudioManager=n,this.ScoreBar.AudioManager=n,this.NormalScore.AudioManager=n,this.SoundSettingPanel.AudioManager=n,this.Info.AudioManager=n,this.Blackboard.AudioManager=n,this.TopTool.AudioManager=n}return e}();e.Display=t,__reflect(t.prototype,"kernel.Core.Display")}(t=e.Core||(e.Core={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){e[e.GAME=0]="GAME",e[e.GAME_COMMON=1]="GAME_COMMON",e[e.PUBLIC=2]="PUBLIC",e[e.PUBLIC_MESSAGE=3]="PUBLIC_MESSAGE",e[e.LOADING_PANEL=4]="LOADING_PANEL"}(t||(t={}));var n=function(e){function n(n){var i=e.call(this)||this;i.m_Class=new bfcl.Collections.Dictionary,i.m_Games=new bfcl.Collections.Dictionary,i.m_Context=new bfcl.Collections.Dictionary,i.m_Layers=new bfcl.Collections.Dictionary,i.m_CurGame=null;for(var o=Object.keys(t).length/2,r=0;o>r;r++){var s=new egret.Sprite;s.touchEnabled=!1,n.Stage.addChild(s),i.m_Layers.Add(r,s)}return i.m_Layers.GetValue(t.GAME_COMMON).addChild(n.Blackboard),i.m_Layers.GetValue(t.GAME_COMMON).addChild(n.NormalScore),i.m_Layers.GetValue(t.GAME_COMMON).addChild(n.BigWin),i.m_Layers.GetValue(t.GAME_COMMON).addChild(n.ScoreBar),i.m_Layers.GetValue(t.GAME_COMMON).addChild(n.GameMsgBox),i.m_Layers.GetValue(t.PUBLIC).addChild(n.TopTool),i.m_Layers.GetValue(t.PUBLIC).addChild(n.SoundSettingPanel),i.m_Layers.GetValue(t.PUBLIC).addChild(n.Info),i.m_Layers.GetValue(t.PUBLIC).addChild(n.Waitting),i.m_Layers.GetValue(t.PUBLIC_MESSAGE).addChild(n.SysMsgBox),i}return __extends(n,e),Object.defineProperty(n.prototype,"CurGame",{get:function(){return this.m_CurGame},enumerable:!0,configurable:!0}),n.prototype.Push=function(e){for(var t=Object.keys(bfcl.Constants.GameIds),n=0,i=e;n<i.length;n++){for(var o=i[n],r=!1,s=0,a=t;s<a.length;s++){var l=a[s],m=bfcl.Constants.GameIds[l];if(o==m){this.m_Class.Add(m,l),r=!0;break}}bfcl.Debug.Assert(r,"find not game id:"+m)}},n.prototype.SwtichGame=function(e,n,i){return __awaiter(this,void 0,void 0,function(){var o,r=this;return __generator(this,function(s){switch(s.label){case 0:return bfcl.Debug.Assert(this.m_Class.ContainsKey(e)),null!=this.m_CurGame&&(bfcl.Debug.Assert(this.m_CurGame.Id!=e),this.Recycle(),this.m_Layers.GetValue(t.GAME).removeChild(this.m_CurGame)),i.TopTool.BtnEnables=bfcl.Enum.TopToolUI.Buttons.UNKOWN,o=this,[4,this.Find(e,n,i,function(){r.m_CurGame.Start()})];case 1:return o.m_CurGame=s.sent(),i.TopTool.BtnEnables=bfcl.Enum.TopToolUI.Buttons.ALL,this.m_Layers.GetValue(t.GAME).addChild(this.m_CurGame),bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,n)),i.SoundSettingPanel.Synchronize(),[2]}})})},n.prototype.Find=function(e,n,i,o){return __awaiter(this,void 0,void 0,function(){var r,s;return __generator(this,function(a){switch(a.label){case 0:return r=null,s=null,this.m_Games.ContainsKey(e)?(r=this.m_Games.GetValue(e),s=this.m_Context.GetValue(e),[3,3]):[3,1];case 1:return r=new(game.Scene[this.m_Class.GetValue(e)]),[4,r.LoadResource(this.m_Layers.GetValue(t.LOADING_PANEL),n,o)];case 2:a.sent(),s=r.NewContext(),s.Worker.LocalizationManager=new bfcl.Localization.Manager(r.TextLibrary),s.Worker.AudioManager=new bfcl.Audio.Manager(r.SoundLibrary),s.Dc.GameMsgBox=i.GameMsgBox,s.Dc.Info=i.Info,s.Dc.Blackboard=i.Blackboard,s.Dc.BigWin=i.BigWin,s.Dc.NormalScore=i.NormalScore,s.Dc.ScoreBar=i.ScoreBar,s.Dc.Waitting=i.Waitting,s.Dc.GameMsgBox.LocalizationManager=s.Worker.LocalizationManager,s.Dc.Info.LocalizationManager=s.Worker.LocalizationManager,this.m_Games.Add(e,r),this.m_Context.Add(e,s),a.label=3;case 3:return r.Init(s),[2,r]}})})},n.prototype.Recycle=function(){if(null!=this.m_CurGame){this.m_CurGame.Clear();var e=this.m_Context.GetValue(this.m_CurGame.Id);e.Dc.Clear(),e.Worker.Clear()}},n}(eui.Component);e.GameManager=n,__reflect(n.prototype,"kernel.Core.GameManager")}(t=e.Core||(e.Core={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t=function(){function e(){this.Codepage=bfcl.Constants.Codepages.EN}return e}();e.Status=t,__reflect(t.prototype,"kernel.Core.Status")}(t=e.Core||(e.Core={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(t){var n=function(){function t(){this.SetLocalizationManager(),this.SetAudioManager()}return t.prototype.SetLocalizationManager=function(){var t=new bfcl.Localization.Library;t.Register(bfcl.Constants.Codepages.TW,e.Localization.Text.zh_TW()),t.Register(bfcl.Constants.Codepages.EN,e.Localization.Text.en_US()),t.Register(bfcl.Constants.Codepages.VN,e.Localization.Text.vi_VN()),this.LocalizationManager=new bfcl.Localization.Manager(t)},t.prototype.SetAudioManager=function(){var t=new bfcl.Localization.Library;t.Register(bfcl.Constants.Codepages.TW,e.localization.Sound.zh_TW()),t.Register(bfcl.Constants.Codepages.EN,e.localization.Sound.en_US()),t.Register(bfcl.Constants.Codepages.VN,e.localization.Sound.vi_VN()),this.AudioManager=new bfcl.Audio.Manager(t)},t}();t.Worker=n,__reflect(n.prototype,"kernel.Core.Worker")}(t=e.Core||(e.Core={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){function t(){return{Bigwin:"BigWin_mp3",Superwin:"SuperWin_mp3",Megawin:"MegaWin_mp3"}}e.en_US=t}(t=e.Sound||(e.Sound={}))}(t=e.localization||(e.localization={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){function t(){return{Bigwin:"BigWin_mp3",Superwin:"SuperWin_mp3",Megawin:"MegaWin_mp3"}}e.vi_VN=t}(t=e.Sound||(e.Sound={}))}(t=e.localization||(e.localization={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){function t(){return{Bigwin:"BigWin_mp3",Superwin:"SuperWin_mp3",Megawin:"MegaWin_mp3"}}e.zh_TW=t}(t=e.Sound||(e.Sound={}))}(t=e.localization||(e.localization={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){function t(){return{BUTTON_OK:"OK",BUTTON_CANCEL:"Cancel",SURE_ENTER_THIS_GAME:"Are you sure enter the game room?",GAME_PLAYING:"The game is in progress.",CREDIT_NOT_ENOUGH:"Your balance is insufficient!\nPlease adjust the bet amount or deposit money",MAX_BET_ARRIVED:"Maximum bet level reached",AUTO_PLAY:"AUTO PLAY",STOP_AUTOPLAY_CONFIG:"Stop Autoplay",IF_FREE_SPIN_ARE_WON:"If Free Spins are won.",IF_BALANCE_DECREASE_BY1:"If Balance decreases by",IF_BALANCE_DECREASE_BY2:"The minimum value is 100 ~ the maximum value is {0}",CREDIT:"Balance",WIN:"WIN",BET:"BET",MAX_BET:"MAX BET"}}e.en_US=t}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){function t(){return{BUTTON_OK:"Chc chn",BUTTON_CANCEL:"Hy",SURE_ENTER_THIS_GAME:"Bn c chc vo phng tr chi?",GAME_PLAYING:"Tr chi ang din ra",CREDIT_NOT_ENOUGH:"S d ca bn khng !\nVui lng iu chnh li tin cc hoc tin hnh np tin",MAX_BET_ARRIVED:" t mc t cc ti a",AUTO_PLAY:"AUTO PLAY",STOP_AUTOPLAY_CONFIG:"Stop Autoplay",IF_FREE_SPIN_ARE_WON:"If Free Spins are won.",IF_BALANCE_DECREASE_BY1:"If Balance decreases by",IF_BALANCE_DECREASE_BY2:"The minimum value is 100 ~ the maximum value is {0}",CREDIT:"Balance",WIN:"WIN",BET:"BET",MAX_BET:"MAX BET"}}e.vi_VN=t}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(kernel||(kernel={}));var kernel;!function(e){var t;!function(e){var t;!function(e){function t(){return{BUTTON_OK:"",BUTTON_CANCEL:"",SURE_ENTER_THIS_GAME:"?",GAME_PLAYING:"",CREDIT_NOT_ENOUGH:"\n",MAX_BET_ARRIVED:"",AUTO_PLAY:"AUTO PLAY",STOP_AUTOPLAY_CONFIG:"",IF_FREE_SPIN_ARE_WON:"",IF_BALANCE_DECREASE_BY1:"",IF_BALANCE_DECREASE_BY2:"100 ~ {0}",CREDIT:"",WIN:"",BET:"",MAX_BET:""}}e.zh_TW=t}(t=e.Text||(e.Text={}))}(t=e.Localization||(e.Localization={}))}(kernel||(kernel={}));var slot;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.Common,e.API.GameHoldStatus.Request,e.API.GameHoldStatus.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return e.Config.HAYDN_LOBBY_SERVER_URL},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/game/get_machine"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.GameHoldStatus=n,__reflect(n.prototype,"slot.API.GameHoldStatus")}(t=e.API||(e.API={}))}(slot||(slot={})),function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"slot.API.GameHoldStatus.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"slot.API.GameHoldStatus.Response")}(t=e.GameHoldStatus||(e.GameHoldStatus={}))}(t=e.API||(e.API={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(){function t(){}return t.GetGameHoldStatus=function(t,n,i){var o=new e.GameHoldStatus;o.Request.type=t,o.Request.reserved=n,o.OnSuccessCallback=i,o.Send()},t}();e.Service=t,__reflect(t.prototype,"slot.API.Service")}(t=e.API||(e.API={}))}(slot||(slot={}));var slot;!function(e){var t=function(){function e(){}return e.HAYDN_LOBBY_SERVER_URL="https://lobby-stage.99ta-city.com",e}();e.Config=t,__reflect(t.prototype,"slot.Config")}(slot||(slot={}));var bfcl;!function(e){var t;!function(t){var n=function(n){function i(){var i=null!==n&&n.apply(this,arguments)||this;return i.m_WaitUI=e.Decorator.MovieClip("Load_Animation"),i.m_Mask=new t.Mask.RectShape(egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight,0,.65),i}return __extends(i,n),i.prototype.Init=function(){this.m_WaitUI.x=725,this.m_WaitUI.y=375,this.addChild(this.m_Mask),this.addChild(this.m_WaitUI),this.Hide()},i.prototype.Show=function(){this.visible=!0,this.m_WaitUI.gotoAndPlay(0,-1)},i.prototype.Hide=function(){this.m_WaitUI.stop(),this.visible=!1},i.prototype.Dispose=function(){this.removeChild(this.m_Mask),this.removeChild(this.m_WaitUI),this.m_Mask=null,this.m_WaitUI.stop(),this.m_WaitUI=null},i}(eui.Component);t.WaittingUI=n,__reflect(n.prototype,"bfcl.Controls.WaittingUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Digits=new bfcl.Controls.Digits.TransDigits("bigwin_number_fnt"),e}return __extends(n,t),Object.defineProperty(n.prototype,"Number",{get:function(){return this.m_Digits.Number},set:function(e){this.m_Digits.Number=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_ListenEvent?this.m_Digits.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this):this.m_Digits.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AudioManager",{set:function(e){bfcl.Debug.Assert(null==this.AudioManager),this.m_Digits.AudioManager=e},enumerable:!0,configurable:!0}),n.prototype.Init=function(){this.m_Digits.Init(),this.m_Digits.scaleX=this.m_Digits.scaleY=.75,this.m_Digits.x=200,this.m_Digits.y=370,this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER,this.addChild(this.m_Digits),this.Clear()},n.prototype.TransTo=function(e,t){var n=this;this.RemoveTween(),this.ListenEvent=!0,this.m_Digits.Clear(),egret.Tween.get(this.m_Digits).set({alpha:0,Number:0}).to({alpha:1},100).call(function(){n.m_Digits.TransTo(e,t)})},n.prototype.OnDigitsTranFinished=function(t){var n=this;this.ListenEvent=!1,this.RemoveTween(),egret.Tween.get(this.m_Digits).set({alpha:1}).wait(1e3).to({alpha:0},200).call(function(){n.dispatchEvent(new e.Event.NormalScore(e.Event.NormalScore.TRAN_FINISHED)),n.m_Digits.Clear()})},n.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_Digits)},n.prototype.Clear=function(){this.ListenEvent=!1,this.m_Digits.Clear()},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Digits),this.m_Digits.Dispose(),this.m_Digits=null},n}(eui.Component);t.NormalScore=n,__reflect(n.prototype,"slot.Controls.NormalScore",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){e[e.MENU=2]="MENU",e[e.MINUS_BET=4]="MINUS_BET",e[e.PLUS_BET=8]="PLUS_BET",e[e.MAX_BET=16]="MAX_BET",e[e.TURBO_ON=32]="TURBO_ON",e[e.TURBO_OFF=64]="TURBO_OFF",e[e.AUTO=128]="AUTO",e[e.SPIN=256]="SPIN",e[e.STOP=512]="STOP",e[e.UNKOWN=131072]="UNKOWN",e[e.ALL=-1]="ALL"}(t=e.Buttons||(e.Buttons={}))}(t=e.ScoreBarUI||(e.ScoreBarUI={}))}(t=e.Enum||(e.Enum={}))}(slot||(slot={})),function(e){var t;!function(t){var n=function(t){function n(){var n=t.call(this)||this;return n.m_LblBalance=new eui.Label,n.m_LblBet=new eui.Label,n.m_LblWin=new eui.Label,n.m_BtnMenu=new bfcl.Controls.ButtonUI,n.m_BtnMinusBet=new bfcl.Controls.LoopButtonUI,n.m_BtnPlusBet=new bfcl.Controls.LoopButtonUI,n.m_BtnMaxBet=new bfcl.Controls.ButtonUI,n.m_BtnAuto=new bfcl.Controls.ButtonUI,n.m_MinBet=0,n.m_MaxBet=0,n.m_BetSpace=0,n.m_Menu=new bfcl.Controls.BounceMenuUI,n.m_AutoPlayPanel=new e.Controls.AutoPlay.Panel,n.m_AutoPlayEvent=null,n.m_IsTurbo=!1,n.m_IsSpinning=!1,n.m_BtnEnables=e.Enum.ScoreBarUI.Buttons.UNKOWN,n.m_BtnHides=e.Enum.ScoreBarUI.Buttons.UNKOWN,n.m_BtnFunctions=[],n.skinName="resource/haydn_skins/slot/ScoreBarSkin.exml",n}return __extends(n,t),Object.defineProperty(n.prototype,"LastWin",{get:function(){return void 0==this.m_LastWin?0:this.m_LastWin.Number},set:function(e){this.m_LastWin.Number=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Win",{get:function(){return void 0==this.m_Win?0:this.m_Win.Number},set:function(e){this.m_Win.Number=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Credit",{get:function(){return void 0==this.m_Credit?0:this.m_Credit.Number},set:function(e){this.m_Credit.Number=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Bet",{get:function(){return void 0==this.m_Bet?0:this.m_Bet.Number},set:function(e){this.m_Bet.Number=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AutoPlaySpinCount",{get:function(){return this.m_AutoPlayEvent.SpinCount},set:function(e){this.m_AutoPlayEvent.SpinCount=e,this.RefreshBtnAutoText()},enumerable:!0,configurable:!0}),n.prototype.RefreshBtnAutoText=function(){this.m_BtnAuto.Label.text="AUTO\n"+(0==this.AutoPlaySpinCount?"PLAY":this.AutoPlaySpinCount.toString())},n.prototype.StopAutoPlay=function(){this.AutoPlaySpinCount=0},Object.defineProperty(n.prototype,"IsAutoPlay",{get:function(){return this.AutoPlaySpinCount>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsTurbo",{get:function(){return this.m_IsTurbo},enumerable:!0,configurable:!0}),n.prototype.SetTurbo=function(e){this.m_IsTurbo=e,this.m_BtnTurboOn.visible=e,this.m_BtnTurboOff.visible=!e},Object.defineProperty(n.prototype,"IsSpinning",{set:function(e){this.m_IsSpinning=e,this.m_BtnSpin.scaleX=this.m_BtnSpin.scaleY=this.m_IsSpinning?0:1,this.m_BtnStop.scaleX=this.m_BtnStop.scaleY=this.m_IsSpinning?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.m_BtnEnables},set:function(e){this.m_BtnEnables=e;for(var t=0;t<this.m_Buttons.Count;t++){var n=this.m_Buttons.GetValuePair(t),i=(e&n.Key)==n.Key;n.Value.enabled=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return this.m_BtnHides},set:function(e){this.m_BtnHides=e;for(var t=0;t<this.m_Buttons.Count;t++){var n=this.m_Buttons.GetValuePair(t);n.Value.visible=!((e&n.Key)==n.Key)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AudioManager",{set:function(e){bfcl.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e,this.m_Menu.AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LocalizationManager",{set:function(e){bfcl.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=e,this.m_AutoPlayPanel.LocalizationManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(t){if(this.m_ListenEvent!=t){this.m_ListenEvent=t,this.m_ListenEvent?this.m_AutoPlayPanel.addEventListener(e.Event.AutoPlay.VALUE_CHANGED,this.OnAutoPlayValueChanged,this):this.m_AutoPlayPanel.removeEventListener(e.Event.AutoPlay.VALUE_CHANGED,this.OnAutoPlayValueChanged,this),this.m_ListenEvent?this.m_Menu.addEventListener(bfcl.Event.BounceMenu.CLICK,this.OnBtnClickMenu,this):this.m_Menu.removeEventListener(bfcl.Event.BounceMenu.CLICK,this.OnBtnClickMenu,this);for(var n=0;n<this.m_Buttons.Count;n++){var i=this.m_Buttons.GetValuePair(n).Value;i instanceof bfcl.Controls.ButtonUI?i.SetEnable(this.m_ListenEvent):i.enabled=this.m_ListenEvent,i.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[n],this):i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[n],this)}}},enumerable:!0,configurable:!0}),n.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.m_LblBalance.fontFamily="Bahnschrift",this.m_LblBalance.x=8,this.m_LblBalance.y=.865*egret.sys.$TempStage.stageHeight,this.m_LblBalance.bold=!0,this.m_LblBalance.width=500,this.m_LblBalance.textAlign=egret.HorizontalAlign.CENTER,this.m_LblBalance.size=28,this.m_LocalizationManager.Bind(this.m_LblBalance,bfcl.Constants.Propertys.Text,"CREDIT"),this.m_LblWin.fontFamily="Bahnschrift",this.m_LblWin.x=.29*egret.sys.$TempStage.stageWidth,this.m_LblWin.y=.865*egret.sys.$TempStage.stageHeight,this.m_LblWin.bold=!0,this.m_LblWin.width=500,this.m_LblWin.textAlign=egret.HorizontalAlign.CENTER,this.m_LblWin.size=28,this.m_LocalizationManager.Bind(this.m_LblWin,bfcl.Constants.Propertys.Text,"WIN"),this.m_LblBet.fontFamily="Bahnschrift",this.m_LblBet.x=.552*egret.sys.$TempStage.stageWidth,this.m_LblBet.y=.865*egret.sys.$TempStage.stageHeight,this.m_LblBet.bold=!0,this.m_LblBet.width=500,this.m_LblBet.textAlign=egret.HorizontalAlign.CENTER,this.m_LblBet.size=28,this.m_LocalizationManager.Bind(this.m_LblBet,bfcl.Constants.Propertys.Text,"BET"),this.m_BtnMenu.Init("btn_menu_png","btn_menu_black_png"),this.m_BtnMenu.x=.01*egret.sys.$TempStage.stageWidth,this.m_BtnMenu.y=.86*egret.sys.$TempStage.stageHeight,this.m_BtnMinusBet.Init("btn_bet_00_png","btn_bet_00_black_png"),this.m_BtnMinusBet.x=.65*egret.sys.$TempStage.stageWidth,this.m_BtnMinusBet.y=.9*egret.sys.$TempStage.stageHeight,this.m_BtnPlusBet.Init("btn_bet_01_png","btn_bet_01_black_png"),this.m_BtnPlusBet.x=.74*egret.sys.$TempStage.stageWidth,this.m_BtnPlusBet.y=.9*egret.sys.$TempStage.stageHeight,this.m_BtnMaxBet.Init("btn_maxbet_png","btn_maxbet_black_png"),this.m_BtnMaxBet.x=.81*egret.sys.$TempStage.stageWidth,this.m_BtnMaxBet.y=.884*egret.sys.$TempStage.stageHeight;var n=new eui.Label;n.fontFamily="Bahnschrift",n.bold=!0,n.width=this.m_BtnMaxBet.Width,n.textAlign=egret.HorizontalAlign.CENTER,n.size=28,this.m_BtnMaxBet.AddLabel(n),this.m_LocalizationManager.Bind(this.m_BtnMaxBet.Label,bfcl.Constants.Propertys.Text,"MAX_BET"),this.m_BtnAuto.Init("btn_auto_png","btn_auto_black_png"),this.m_BtnAuto.x=.895*egret.sys.$TempStage.stageWidth,this.m_BtnAuto.y=.59*egret.sys.$TempStage.stageHeight;var n=new eui.Label;n.fontFamily="Bahnschrift",n.text="AUTO\nPLAY",n.bold=!0,n.width=this.m_BtnAuto.Width,n.textAlign=egret.HorizontalAlign.CENTER,n.size=30,this.m_BtnAuto.AddLabel(n),this.m_Buttons=new bfcl.Collections.Dictionary,this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.MENU,this.m_BtnMenu),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.MINUS_BET,this.m_BtnMinusBet),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.PLUS_BET,this.m_BtnPlusBet),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.MAX_BET,this.m_BtnMaxBet),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.TURBO_ON,this.m_BtnTurboOn),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.TURBO_OFF,this.m_BtnTurboOff),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.AUTO,this.m_BtnAuto),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.SPIN,this.m_BtnSpin),this.m_Buttons.Add(e.Enum.ScoreBarUI.Buttons.STOP,this.m_BtnStop),this.m_BtnFunctions.push(this.OnBtnClickMenu),this.m_BtnFunctions.push(this.OnBtnClickMinusBet),this.m_BtnFunctions.push(this.OnBtnClickPlusBet),this.m_BtnFunctions.push(this.OnBtnClickMaxBet),this.m_BtnFunctions.push(this.OnBtnClickTurboOn),this.m_BtnFunctions.push(this.OnBtnClickTurboOff),this.m_BtnFunctions.push(this.OnBtnClickAuto),this.m_BtnFunctions.push(this.OnBtnClickSpin),this.m_BtnFunctions.push(this.OnBtnClickStop),this.m_Credit=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_Credit.TextAlign=egret.HorizontalAlign.CENTER,this.m_Credit.GroupWidth=this.m_GroupCredit.width,this.m_Win=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_Win.TextAlign=egret.HorizontalAlign.CENTER,this.m_Win.GroupWidth=this.m_GroupWin.width,this.m_LastWin=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_LastWin.TextAlign=egret.HorizontalAlign.LEFT,this.m_LastWin.GroupWidth=this.m_GroupLastWin.width,this.m_LastWin.scaleX=this.m_LastWin.scaleY=.9,this.m_Bet=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_Bet.TextAlign=egret.HorizontalAlign.CENTER,this.m_Bet.GroupWidth=this.m_GroupBet.width,this.m_GroupCredit.addChild(this.m_Credit),this.m_GroupWin.addChild(this.m_Win),this.m_GroupLastWin.addChild(this.m_LastWin),this.m_GroupBet.addChild(this.m_Bet);var i=[];i.push(new bfcl.Property.BounceProperty("btn_info_png","btn_info_black_png")),i.push(new bfcl.Property.BounceProperty("btn_setting_png","btn_setting_black_png")),this.m_Menu.Init(i,"bg_01_png"),this.m_Menu.x=23,this.m_Menu.y=767,this.touchEnabled=!1,this.m_AutoPlayPanel.Init(),this.addChild(this.m_LblBalance),this.addChild(this.m_LblWin),this.addChild(this.m_LblBet),this.addChild(this.m_BtnMenu),this.addChild(this.m_BtnMinusBet),this.addChild(this.m_BtnPlusBet),this.addChild(this.m_BtnMaxBet),this.addChild(this.m_BtnAuto),this.addChild(this.m_Menu),this.addChild(this.m_AutoPlayPanel),this.Clear()},n.prototype.Init=function(e,t,n){this.Clear(),this.SetBetRange(e,t,n),this.Bet=this.m_MinBet,this.ListenEvent=!0},n.prototype.MenuBind=function(e){this.m_Menu.Bind(e)},n.prototype.SetBetRange=function(e,t,n,i){void 0===i&&(i=!1),this.m_MinBet=e,this.m_MaxBet=t,this.m_BetSpace=n,i&&(this.Bet=e)},n.prototype.Commit=function(e,t,n){this.PlaySound("WinCollect_mp3"),this.AutoPlaySpinCount>0&&this.AutoPlaySpinCount--,n&&this.m_AutoPlayEvent.IfFreeSpinAreWon&&(this.m_AutoPlayEvent.IfFreeSpinAreWon=!1,this.AutoPlaySpinCount=0),e<this.m_AutoPlayEvent.CreditLossBy&&this.m_AutoPlayEvent.IfBalanceDecreaseBY&&(this.m_AutoPlayEvent.IfBalanceDecreaseBY=!1,this.AutoPlaySpinCount=0),this.Win=0,this.Credit=e,this.LastWin=t},n.prototype.PlayBtnDownSound=function(){this.PlaySound("button01_mp3")},n.prototype.PlaySound=function(e){null!=this.m_AudioManager&&this.m_AudioManager.PlaySound(e)},n.prototype.OnBtnClickPlusBet=function(e){this.Bet+this.m_BetSpace>this.m_MaxBet||(this.PlayBtnDownSound(),this.Bet+=this.m_BetSpace)},n.prototype.OnBtnClickMinusBet=function(e){this.Bet-this.m_BetSpace<this.m_MinBet||(this.PlayBtnDownSound(),this.Bet-=this.m_BetSpace)},n.prototype.OnBtnClickMaxBet=function(e){this.PlayBtnDownSound(),this.Bet!=this.m_MaxBet&&(this.Bet=this.m_MaxBet)},n.prototype.OnBtnClickMenu=function(e){this.PlayBtnDownSound(),this.m_Menu.IsShow?(this.m_BtnMenu.Skin("btn_menu_png","btn_menu_black_png"),this.m_Menu.Hide()):(this.m_BtnMenu.Init("btn_cancel_png","btn_cancel_black_png"),this.m_Menu.Show())},n.prototype.OnBtnClickSpin=function(t){this.PlayBtnDownSound(),this.dispatchEvent(new e.Event.ScoreBar(e.Event.ScoreBar.BUTTON_CLICK,e.Enum.ScoreBarUI.Buttons.SPIN))},n.prototype.OnBtnClickStop=function(t){this.PlayBtnDownSound(),this.dispatchEvent(new e.Event.ScoreBar(e.Event.ScoreBar.BUTTON_CLICK,e.Enum.ScoreBarUI.Buttons.STOP))},n.prototype.OnBtnClickAuto=function(e){this.PlayBtnDownSound(),this.m_AutoPlayPanel.Show(Math.floor(this.Credit/2))},n.prototype.OnBtnClickTurboOn=function(t){this.PlayBtnDownSound(),this.SetTurbo(!0),this.dispatchEvent(new e.Event.ScoreBar(e.Event.ScoreBar.BUTTON_CLICK,e.Enum.ScoreBarUI.Buttons.TURBO_ON,this.m_IsTurbo))},n.prototype.OnBtnClickTurboOff=function(t){this.PlayBtnDownSound(),this.SetTurbo(!1),this.dispatchEvent(new e.Event.ScoreBar(e.Event.ScoreBar.BUTTON_CLICK,e.Enum.ScoreBarUI.Buttons.TURBO_OFF,this.m_IsTurbo))},n.prototype.OnAutoPlayValueChanged=function(e){this.m_AutoPlayEvent=e,this.RefreshBtnAutoText()},n.prototype.Clear=function(){this.ListenEvent=!1,this.m_Win.Clear(),this.m_LastWin.Clear(),this.m_Credit.Clear(),this.m_Bet.Clear(),this.m_Menu.Clear(),this.BtnEnables=e.Enum.ScoreBarUI.Buttons.UNKOWN,this.BtnHides=e.Enum.ScoreBarUI.Buttons.UNKOWN,this.IsSpinning=!1,this.m_AutoPlayEvent=new e.Event.AutoPlay,this.SetTurbo(!1)},n.prototype.Dispose=function(){this.Clear(),this.m_GroupCredit.removeChild(this.m_Credit),this.m_GroupWin.removeChild(this.m_Win),this.m_GroupWin.removeChild(this.m_LastWin),this.m_GroupBet.removeChild(this.m_Bet),this.removeChild(this.m_LblBalance),this.removeChild(this.m_LblWin),this.removeChild(this.m_LblBet),this.removeChild(this.m_BtnMenu),this.removeChild(this.m_BtnMinusBet),this.removeChild(this.m_BtnPlusBet),this.removeChild(this.m_BtnMaxBet),this.removeChild(this.m_BtnAuto),this.removeChild(this.m_Menu),this.removeChild(this.m_AutoPlayPanel),this.m_Credit.Dispose(),this.m_Win.Dispose(),this.m_LastWin.Dispose(),this.m_Bet.Dispose(),this.m_BtnMenu.Dispose(),this.m_BtnMinusBet.Dispose(),this.m_BtnPlusBet.Dispose(),this.m_Menu.Dispose(),this.m_BtnMaxBet.Dispose(),this.m_BtnAuto.Dispose(),this.m_AutoPlayPanel.Dispose(),this.m_LblBalance=null,this.m_LblWin=null,this.m_LblBet=null,this.m_BtnMaxBet=null,this.m_BtnAuto=null,this.m_Menu=null,this.m_BtnMenu=null,this.m_BtnMinusBet=null,this.m_BtnPlusBet=null,this.m_AutoPlayPanel=null,this.m_Win=null,this.m_LastWin=null,this.m_Credit=null,this.m_Bet=null
},n}(eui.Component);t.ScoreBarUI=n,__reflect(n.prototype,"slot.Controls.ScoreBarUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(t){var n=function(t){function n(n){var i=t.call(this)||this;return i.m_Codepage=e.Constants.Codepages.UNKOWN,i.m_BGM=new e.Audio.Sound,i.m_Voice=new e.Audio.SoundQueue,i.m_TmpSounds=[],i.m_SoundFactory=new e.Audio.SoundFactory("adaa4198-bfe4-4800-a43f-db1f7ddde724",20),null!=n&&(i.m_Libs=n,e.Event.Tracker.Instance.addEventListener(e.Event.CodePage.CHANGED,i.OnCodepageChanged,i)),e.Event.Tracker.Instance.addEventListener(e.Event.Volume.CHANGED,i.OnVolumeChanged,i),i}return __extends(n,t),n.prototype.OnCodepageChanged=function(e){this.m_Codepage!=e.Codepage&&(this.m_Codepage=e.Codepage)},n.prototype.OnVolumeChanged=function(t){switch(t.Params.type){case e.Volume.Type.Bgm:this.m_BGM.Volume=t.Params.volume;break;case e.Volume.Type.Voice:this.m_Voice.Volume=t.Params.volume;break;case e.Volume.Type.Sound:this.m_SoundFactory.Volume=t.Params.volume,this.m_TmpSounds.forEach(function(e){return e.Volume=t.Params.volume})}},n.prototype.PlayBgm=function(e){this.m_BGM.Clear(),this.m_BGM.Play(e,0)},n.prototype.StopBgm=function(){this.m_BGM.Clear()},n.prototype.PlaySound=function(e,t){void 0===t&&(t=1);var n=this.m_SoundFactory.Pop();null!=n&&(n.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),n.Play(e,t),this.m_TmpSounds.push(n))},n.prototype.StopSound=function(e){for(var t=-1,n=0;n<this.m_TmpSounds.length;n++)if(this.m_TmpSounds[n].Res==e){t=n;break}-1!=t&&this.RecycleOneSound(t)},n.prototype.StopAllSound=function(){for(;this.m_TmpSounds.length>0;)this.RecycleOneSound(0)},n.prototype.RecycleOneSound=function(e){var t=this.m_TmpSounds.splice(e,1)[0];t.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.m_SoundFactory.Recycle(t)},n.prototype.onSoundComplete=function(e){e.target.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.m_SoundFactory.Recycle(e.target);var t=this.m_TmpSounds.indexOf(e.target,0);t>-1&&this.m_TmpSounds.splice(t,1)},n.prototype.PlayVoice=function(t,n){void 0===n&&(n=1),e.Debug.Assert(null!=this.m_Libs),e.Debug.Assert(t.length>0);for(var i=[],o=0,r=t;o<r.length;o++){var s=r[o];i.push(this.m_Libs.Search(this.m_Codepage,s))}this.m_Voice.Play(i,n)},n.prototype.StopVoice=function(){this.m_Voice.Clear()},n.prototype.Clear=function(){this.StopVoice(),this.StopBgm(),this.StopAllSound()},n.prototype.Dispose=function(){this.Clear(),null!=this.m_Libs&&(this.m_Libs.Dispose(),this.m_Libs=null),this.m_BGM.Dispose(),this.m_BGM=null,this.m_Voice.Dispose(),this.m_Voice=null,this.m_SoundFactory.Dispose(),this.m_SoundFactory=null},n}(egret.EventDispatcher);t.Manager=n,__reflect(n.prototype,"bfcl.Audio.Manager")}(t=e.Audio||(e.Audio={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(e){var t=function(){function e(e,t,n,i){void 0===i&&(i=50),this.m_Library=null,this.m_Created=0,this.m_Items=[],this.m_LayerContainers=[],this.MAX_COUNT=i,this.m_Library=e,this.m_ItemGenerator=t,this.m_LayerContainers=n}return Object.defineProperty(e.prototype,"Lib",{get:function(){return this.m_Library},enumerable:!0,configurable:!0}),e.prototype.Pop=function(e){var t=null,n=this.m_Library.Search(e);return this.m_Items.length>0?(t=this.m_Items.splice(0,1)[0],t.SetProperty(n)):this.m_Created<this.MAX_COUNT&&(this.m_Created++,t=new this.m_ItemGenerator,t.RegisterLayers(this.m_LayerContainers),t.Init(n)),t},e.prototype.Recycle=function(e){e.Clear(),e.parent.removeChild(e),this.m_Items.push(e)},e.prototype.Dispose=function(){for(;this.m_Items.length>0;){var e=this.m_Items.splice(0,1)[0];e.Dispose(),e=null}},e}();e.SymbolUIFactory=t,__reflect(t.prototype,"slot.Controls.SymbolUIFactory",["bfcl.Interface.IFactory"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_Items=[],e.m_CurIndex=-1,e}return __extends(i,n),Object.defineProperty(i.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(t){if(this.m_ListenEvent!=t){this.m_ListenEvent=t;for(var n=0,i=this.m_Items;n<i.length;n++){var o=i[n];o.touchEnabled=this.m_ListenEvent,o.ListenEvent=this.m_ListenEvent,this.m_ListenEvent?o.addEventListener(e.Event.AutoPlayItem.SELECTED,this.OnItemSelected,this):o.removeEventListener(e.Event.AutoPlayItem.SELECTED,this.OnItemSelected,this)}}},enumerable:!0,configurable:!0}),i.prototype.Init=function(){for(var e=RES.getRes("msg_autoplay_btn00_png"),n=0;n<i.VALUES.length;n++){var o=new t.ItemUI;o.Serial=i.VALUES[n],o.Init(o.Serial.toString(),"msg_autoplay_btn01_png","msg_autoplay_btn00_png"),o.x=n*(e.bitmapData.width+55),this.m_Items.push(o),this.addChild(o)}this.Clear()},i.prototype.SetAmount=function(e){void 0===e&&(e=-1);var t=i.VALUES.indexOf(e);if(bfcl.Debug.Assert(-1!=t),this.m_CurIndex==t)return this.m_Items[this.m_CurIndex].Selected=!1,void(this.m_CurIndex=-1);this.m_CurIndex=t;for(var n=0;n<this.m_Items.length;n++)this.m_Items[n].Selected=n==this.m_CurIndex},i.prototype.GetAmount=function(){return-1==this.m_CurIndex?0:i.VALUES[this.m_CurIndex]},i.prototype.OnItemSelected=function(e){this.SetAmount(e.Serial)},i.prototype.Clear=function(){this.m_CurIndex=-1;for(var e=0,t=this.m_Items;e<t.length;e++){var n=t[e];n.Selected=!1}},i.prototype.Dispose=function(){for(this.ListenEvent=!1;this.m_Items.length>0;){var e=this.m_Items.splice(0,1)[0];this.removeChild(e),e.Dispose(),e=null}bfcl.Debug.Assert(0==this.numChildren)},i.VALUES=[10,20,50,100,500,1e3],i}(eui.Component);t.ItemsUI=n,__reflect(n.prototype,"slot.Controls.AutoPlay.ItemsUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.AutoPlay||(t.AutoPlay={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Image=new eui.Image,e.m_Label=new eui.Label,e.m_Serial=-1,e}return __extends(n,t),Object.defineProperty(n.prototype,"Serial",{get:function(){return this.m_Serial},set:function(e){this.m_Serial=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Selected",{get:function(){return this.m_Selected},set:function(e){this.m_Selected!=e&&(this.m_Selected=e,this.m_Image.texture=e?this.m_SelectRes:this.m_UnSelectRes)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Image.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?this.m_Image.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this):this.m_Image.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this))},enumerable:!0,configurable:!0}),n.prototype.Init=function(e,t,n){this.m_SelectRes=RES.getRes(t),this.m_UnSelectRes=RES.getRes(n),this.m_Label.text=e,this.m_Label.fontFamily="Bahnschrift",this.m_Label.textColor=16777215,this.m_Label.size=45,this.m_Label.touchEnabled=!1,this.m_Label.bold=!0,this.m_Label.verticalCenter=0,this.m_Label.horizontalCenter=0,this.addChild(this.m_Image),this.addChild(this.m_Label),this.Clear()},n.prototype.OnItemClick=function(t){this.dispatchEvent(new e.Event.AutoPlayItem(e.Event.AutoPlayItem.SELECTED,this.m_Serial))},n.prototype.Clear=function(){this.Selected=!1},n.prototype.Dispose=function(){this.ListenEvent=!1,this.removeChild(this.m_Image),this.removeChild(this.m_Label),this.m_Image=null,this.m_Label=null},n}(eui.Component);t.ItemUI=n,__reflect(n.prototype,"slot.Controls.AutoPlay.ItemUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.AutoPlay||(t.AutoPlay={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MIN_WIDTH=200,t.CHAR_SIZE=30,t.m_Image=new eui.Image,t.m_TxtField=new egret.TextField,t.m_MaxValue=100,t.m_Text="",t}return __extends(t,e),Object.defineProperty(t.prototype,"Value",{get:function(){return this.m_NumValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxValue",{set:function(e){this.m_MaxValue=e},enumerable:!0,configurable:!0}),t.prototype.SetValue=function(e){this.m_NumValue=e,this.m_TxtField.text=e.toString(),this.m_TxtField.width=this.m_Image.width=this.GetTextWidth()},t.prototype.GetTextWidth=function(){var e=this.m_TxtField.text.length*this.CHAR_SIZE;return e<this.MIN_WIDTH?this.MIN_WIDTH:e},Object.defineProperty(t.prototype,"Enabled",{get:function(){return this.m_Enabled},set:function(e){this.m_Enabled!=e&&(this.m_Enabled=e,this.m_TxtField.touchEnabled=e,this.m_Enabled?this.m_TxtField.addEventListener(egret.Event.CHANGE,this.OnTextChanged,this):this.m_TxtField.removeEventListener(egret.Event.CHANGE,this.OnTextChanged,this))},enumerable:!0,configurable:!0}),t.prototype.Init=function(e){this.MIN_VALUE=e;var t=RES.getRes("msg_autoplay_btn00_png");this.MIN_WIDTH=t.bitmapData.width,this.m_Image.texture=t,this.m_Image.height=.85*t.bitmapData.height,this.m_TxtField.type=egret.TextFieldType.INPUT,this.m_TxtField.inputType=egret.TextFieldInputType.TEXT,this.m_TxtField.fontFamily="Bahnschrift",this.m_TxtField.textColor=16756224,this.m_TxtField.height=.92*t.bitmapData.height,this.m_TxtField.bold=!0,this.m_TxtField.size=50,this.m_TxtField.restrict="0-9",this.m_TxtField.textAlign=egret.HorizontalAlign.CENTER,this.m_TxtField.verticalAlign=egret.VerticalAlign.MIDDLE,this.addChild(this.m_Image),this.addChild(this.m_TxtField),this.Clear()},t.prototype.OnTextChanged=function(e){var t=e.currentTarget.text;if(this.m_Text!=t){this.m_Text==t;var n=+t;n<this.MIN_VALUE&&(n=this.MIN_VALUE),n>this.m_MaxValue&&(n=this.m_MaxValue),this.SetValue(n)}},t.prototype.Clear=function(){this.m_Text="",this.SetValue(this.MIN_VALUE),this.Enabled=!1},t.prototype.Dispose=function(){this.removeChild(this.m_Image),this.removeChild(this.m_TxtField)},t}(eui.Component);e.NumInputBoxUI=t,__reflect(t.prototype,"slot.Controls.AutoPlay.NumInputBoxUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.AutoPlay||(e.AutoPlay={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_BG=new eui.Image,e.m_Title=new eui.Label,e.m_Text=new eui.Label,e.m_ChkIfFreeSpinAreWon=new bfcl.Controls.CheckBoxUI,e.m_ChkIfBalanceDecreaseBY=new bfcl.Controls.CheckBoxUI,e.m_Remark=new eui.Label,e.m_NumInputBox=new t.NumInputBoxUI,e.m_Items=new t.ItemsUI,e.m_BtnOK=new bfcl.Controls.ButtonUI,e.m_BtnExit=new bfcl.Controls.ButtonUI,e}return __extends(i,n),Object.defineProperty(i.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Items.ListenEvent=this.m_ListenEvent,this.m_ChkIfFreeSpinAreWon.ListenEvent=this.m_ListenEvent,this.m_ChkIfBalanceDecreaseBY.ListenEvent=this.m_ListenEvent,this.m_BtnOK.touchEnabled=this.m_ListenEvent,this.m_NumInputBox.Enabled=this.m_ListenEvent,this.m_ListenEvent?(this.m_BtnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_BtnExit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnExitClick,this)):(this.m_BtnOK.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_BtnExit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnExitClick,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"LocalizationManager",{set:function(e){bfcl.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=e},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_BG.texture=RES.getRes("msg_ui_png"),this.m_Title.width=400,this.m_Title.fontFamily="Tahoma",this.m_Title.textColor=16756224,this.m_Title.size=70,this.m_Title.bold=!0,this.m_Title.textAlign=egret.HorizontalAlign.CENTER,this.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,this.m_Title.x=800-this.m_Title.width/2,this.m_Title.y=80,this.m_LocalizationManager.Bind(this.m_Title,bfcl.Constants.Propertys.Text,"AUTO_PLAY"),this.m_Items.Init(),this.m_Items.x=120,this.m_Items.y=220,this.m_Text.x=400,this.m_Text.y=390,this.m_Text.fontFamily="Bahnschrift",this.m_Text.textColor=16777215,this.m_Text.size=45,this.m_Text.bold=!0,this.m_Text.textAlign=egret.HorizontalAlign.CENTER,this.m_Text.verticalAlign=egret.VerticalAlign.MIDDLE,this.m_LocalizationManager.Bind(this.m_Text,bfcl.Constants.Propertys.Text,"STOP_AUTOPLAY_CONFIG"),this.m_ChkIfFreeSpinAreWon.x=400,this.m_ChkIfFreeSpinAreWon.y=490,this.m_ChkIfFreeSpinAreWon.Label.y=3,this.m_ChkIfFreeSpinAreWon.Label.fontFamily="Bahnschrift",this.m_ChkIfFreeSpinAreWon.Label.textColor=16777215,this.m_ChkIfFreeSpinAreWon.Label.size=45,this.m_ChkIfFreeSpinAreWon.Label.bold=!0,this.m_LocalizationManager.Bind(this.m_ChkIfFreeSpinAreWon.Label,bfcl.Constants.Propertys.Text,"IF_FREE_SPIN_ARE_WON"),this.m_ChkIfBalanceDecreaseBY.Label.text="If Balance decreases by ",this.m_ChkIfBalanceDecreaseBY.x=400,this.m_ChkIfBalanceDecreaseBY.y=600,this.m_ChkIfBalanceDecreaseBY.Label.y=3,this.m_ChkIfBalanceDecreaseBY.Label.fontFamily="Bahnschrift",this.m_ChkIfBalanceDecreaseBY.Label.textColor=16777215,this.m_ChkIfBalanceDecreaseBY.Label.size=45,this.m_ChkIfBalanceDecreaseBY.Label.bold=!0,this.m_LocalizationManager.Bind(this.m_ChkIfBalanceDecreaseBY.Label,bfcl.Constants.Propertys.Text,"IF_BALANCE_DECREASE_BY1"),this.m_NumInputBox.Init(100),this.m_NumInputBox.x=960,this.m_NumInputBox.y=600,this.m_Remark.text="The minimum value is 100~the maximum value is 2000",this.m_Remark.x=460,this.m_Remark.y=670,this.m_Remark.fontFamily="Bahnschrift",this.m_Remark.textColor=16777215,this.m_Remark.size=35,this.m_Remark.bold=!0,this.m_BtnOK.Init("msg_bestgames_btn00_png","msg_bestgames_btn00_png"),this.m_BtnOK.x=550,this.m_BtnOK.y=760;var e=new eui.Label;e.fontFamily="Bahnschrift",e.text="OK",e.bold=!0,e.size=33,this.m_BtnOK.AddLabel(e),this.m_BtnExit.Init("msg_bestgames_btn01_png","msg_bestgames_btn01_png"),this.m_BtnExit.x=850,this.m_BtnExit.y=760;var e=new eui.Label;e.fontFamily="Bahnschrift",e.text="CANCEL",e.bold=!0,e.size=33,this.m_BtnExit.AddLabel(e),this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_Text),this.addChild(this.m_Remark),this.addChild(this.m_ChkIfFreeSpinAreWon),this.addChild(this.m_ChkIfBalanceDecreaseBY),this.addChild(this.m_NumInputBox),this.addChild(this.m_Items),this.addChild(this.m_BtnOK),this.addChild(this.m_BtnExit),this.Clear()},i.prototype.Show=function(e){this.visible=this.ListenEvent=!0,100>e&&(e=100),this.m_NumInputBox.MaxValue=e,this.m_LocalizationManager.Bind(this.m_Remark,bfcl.Constants.Propertys.Text,"IF_BALANCE_DECREASE_BY2",e.toString())},i.prototype.Hide=function(){this.visible=this.ListenEvent=!1},i.prototype.OnBtnOkClick=function(t){this.dispatchEvent(new e.Event.AutoPlay(e.Event.AutoPlay.VALUE_CHANGED,this.m_Items.GetAmount(),this.m_ChkIfFreeSpinAreWon.Checked,this.m_ChkIfBalanceDecreaseBY.Checked,this.m_NumInputBox.Value)),this.Hide()},i.prototype.OnBtnExitClick=function(e){this.Hide()},i.prototype.Clear=function(){this.ListenEvent=!1,this.m_Items.Clear(),this.m_ChkIfFreeSpinAreWon.Checked=!1,this.m_ChkIfBalanceDecreaseBY.Checked=!1,this.Hide()},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Text),this.removeChild(this.m_Remark),this.removeChild(this.m_ChkIfFreeSpinAreWon),this.removeChild(this.m_ChkIfBalanceDecreaseBY),this.removeChild(this.m_NumInputBox),this.removeChild(this.m_Items),this.removeChild(this.m_BtnOK),this.removeChild(this.m_BtnExit),this.m_BG=null,this.m_Title=null,this.m_Remark=null,this.m_Text=null,this.m_ChkIfFreeSpinAreWon.Dispose(),this.m_ChkIfFreeSpinAreWon=null,this.m_ChkIfBalanceDecreaseBY.Dispose(),this.m_ChkIfBalanceDecreaseBY=null,this.m_NumInputBox.Dispose(),this.m_NumInputBox=null,this.m_Items.Dispose(),this.m_Items=null,this.m_BtnOK.Dispose(),this.m_BtnOK=null,this.m_BtnExit.Dispose(),this.m_BtnExit=null},i}(eui.Component);t.Panel=n,__reflect(n.prototype,"slot.Controls.AutoPlay.Panel",["eui.UIComponent","egret.DisplayObject"])}(n=t.AutoPlay||(t.AutoPlay={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_Factory=new dragonBones.EgretFactory,e.m_ArmatureDisplay=null,e.m_Background=new egret.Sprite,e.m_Foreground=new egret.Sprite,e.m_GoldenPool=null,e.m_Digits=null,e.m_Anim=i.ANIM_END,e.m_State=i.STATUS_NONE,e.m_BigWinPayout=50,e.m_SuperWinPayout=100,e.m_MegaWinPayout=150,e.m_BetAmount=0,e.m_WinAmount=0,e.m_Payout=0,e.m_UpgradeLevel=[],e}return __extends(i,n),Object.defineProperty(i.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"IsShowing",{get:function(){return this.m_State!=i.STATUS_NONE&&this.m_State!=i.STATUS_HIDDING},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_ListenEvent?(this.m_Foreground.addEventListener(egret.TouchEvent.TOUCH_TAP,this.SwitchToNextLevel,this),this.m_Digits.addEventListener(bfcl.Event.Digits.UPGRADE,this.OnDigitsTranUpgrade,this),this.m_Digits.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this),this.m_ArmatureDisplay.addEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this)):(this.m_Foreground.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.SwitchToNextLevel,this),this.m_Digits.removeEventListener(bfcl.Event.Digits.UPGRADE,this.OnDigitsTranUpgrade,this),this.m_Digits.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this),this.m_ArmatureDisplay.removeEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(e){bfcl.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_GoldenPool=new t.BigWin.GoldenPoolUI,this.m_Background.graphics.beginFill(0,.55),this.m_Background.graphics.drawRect(0,0,egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight),this.m_Background.graphics.endFill(),this.m_Foreground.graphics.beginFill(0,0),this.m_Foreground.graphics.drawRect(0,0,egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight),this.m_Foreground.graphics.endFill(),this.m_Foreground.touchEnabled=!0,this.m_Factory.parseDragonBonesData(RES.getRes("Public_MSG_ske_json")),this.m_Factory.parseTextureAtlasData(RES.getRes("Public_MSG_tex_json"),RES.getRes("Public_MSG_tex_png")),this.m_ArmatureDisplay=this.m_Factory.buildArmatureDisplay("Armature"),this.m_ArmatureDisplay.x=egret.sys.$TempStage.stageWidth/2,this.m_ArmatureDisplay.y=egret.sys.$TempStage.stageHeight/2,this.m_Digits=new bfcl.Controls.Digits.TransDigits("bigwin_number_fnt"),this.m_Digits.Init(),this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER,this.m_Digits.y=430,this.m_Digits.horizontalCenter=0,this.addChild(this.m_Background),this.addChild(this.m_ArmatureDisplay),this.addChild(this.m_GoldenPool),this.addChild(this.m_Digits),this.addChild(this.m_Foreground),this.width=egret.sys.$TempStage.stageWidth,this.height=egret.sys.$TempStage.stageHeight,this.Clear()},i.prototype.SetPayout=function(e,t,n){this.m_BigWinPayout=e,this.m_SuperWinPayout=t,this.m_MegaWinPayout=n},i.prototype.OnAnimComplete=function(e){this.m_Level==i.LEVEL_BIG_WIN&&this.m_Anim==i.ANIM_START&&(this.m_GoldenPool.Start(),this.TranNumbers()),this.m_Anim==i.ANIM_START?this.SwitchLevelState(this.m_Level,i.ANIM_LOOP):this.m_Anim==i.ANIM_END&&this.m_UpgradeLevel.length>0&&this.SwitchLevelState(this.m_UpgradeLevel.splice(0,1)[0],i.ANIM_START)},i.prototype.Show=function(e,t){this.Clear(),this.m_State=i.STATUS_DIGITS_TRANNING,this.visible=this.ListenEvent=!0,this.m_BetAmount=e,this.m_WinAmount=t,this.m_Payout=t/e,this.SwitchLevelState(i.LEVEL_BIG_WIN,i.ANIM_START)},i.prototype.SwitchLevelState=function(e,t){this.m_Level=e,this.m_Anim=t;var n=this.m_Anim==i.ANIM_LOOP?-1:1;this.m_ArmatureDisplay.animation.gotoAndPlayByFrame(this.m_Level+this.m_Anim,0,n),t==i.ANIM_START&&this.m_AudioManager.PlayVoice([this.m_Level])},i.prototype.TranNumbers=function(){this.m_Digits.Clear(),this.m_Digits.UpgradeTs=this.GetUpgradeData(),this.m_Digits.TransTo(this.m_WinAmount,this.GetTransDuration()),this.m_AudioManager.PlaySound("BigPrizeCoin_mp3",-1)},i.prototype.GetTransDuration=function(){var e=this.m_Payout>=this.m_BigWinPayout?3:0;return e+=this.m_Payout>=this.m_SuperWinPayout?5:0,e+=this.m_Payout>=this.m_MegaWinPayout?7:0},i.prototype.GetUpgradeData=function(){var e=[],t=0;return this.m_Payout>=this.m_SuperWinPayout&&(t+=5,e.push(t),this.m_UpgradeLevel.push(i.LEVEL_SUPER_WIN)),this.m_Payout>=this.m_MegaWinPayout&&(t+=7,e.push(t),this.m_UpgradeLevel.push(i.LEVEL_MEGA_WIN)),e},i.prototype.OnDigitsTranUpgrade=function(e){this.SwitchLevelState(this.m_Level,i.ANIM_END)},i.prototype.OnDigitsTranFinished=function(t){this.m_State=i.STATUS_DIGITS_TRAN_FINSIHED,this.m_GoldenPool.Stop(),this.m_AudioManager.StopSound("BigPrizeCoin_mp3"),this.dispatchEvent(new e.Event.BigWin(e.Event.BigWin.TRAN_FINISHED))},i.prototype.SwitchToNextLevel=function(){var t=this;if(egret.Tween.removeTweens(this),this.m_State==i.STATUS_DIGITS_TRANNING){if(this.m_State=i.STATUS_DIGITS_TRAN_FINSIHED,this.m_Digits.Clear(),this.m_Digits.Number=this.m_WinAmount,this.m_UpgradeLevel.length>0){for(;this.m_UpgradeLevel.length>1;)this.m_UpgradeLevel.splice(0,1);this.SwitchLevelState(this.m_UpgradeLevel.splice(0,1)[0],i.ANIM_LOOP)}return void this.OnDigitsTranFinished(null)}this.IsShowing&&(this.m_State=i.STATUS_HIDDING,this.SwitchLevelState(this.m_Level,i.ANIM_END),egret.Tween.removeTweens(this.m_Digits),egret.Tween.get(this.m_Digits).wait(500).call(function(){t.dispatchEvent(new e.Event.BigWin(e.Event.BigWin.SHOW_FINISHED)),t.Clear()}))},i.prototype.SwitchToLastLevel=function(){for(var e=0;2>e;e++)this.IsShowing&&this.SwitchToNextLevel()},i.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Digits),this.m_State=i.STATUS_NONE,this.visible=this.ListenEvent=!1,this.m_ArmatureDisplay.animation.stop(),this.m_Anim="",this.m_Digits.Clear(),this.m_GoldenPool.Clear(),this.m_UpgradeLevel=[]},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Background),this.removeChild(this.m_GoldenPool),this.removeChild(this.m_ArmatureDisplay),this.removeChild(this.m_Digits),this.removeChild(this.m_Foreground),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null,this.m_Background=null,this.m_Digits.Dispose(),this.m_Digits=null,this.m_Foreground=null,this.m_GoldenPool.Dispose(),this.m_GoldenPool=null},i.STATUS_NONE=0,i.STATUS_DIGITS_TRANNING=1,i.STATUS_DIGITS_TRAN_FINSIHED=2,i.STATUS_HIDDING=3,i.LEVEL_BIG_WIN="Bigwin",i.LEVEL_SUPER_WIN="Superwin",i.LEVEL_MEGA_WIN="Megawin",i.ANIM_END="_End",i.ANIM_LOOP="_Loop",i.ANIM_START="_Start",i}(eui.Component);t.BigWinUI=n,__reflect(n.prototype,"slot.Controls.BigWinUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.m_Item=null,n.VX=-1,n.VY=-1,n.m_Item=bfcl.Decorator.MovieClip(t),n.m_Item.gotoAndPlay(0,-1),n.addChild(n.m_Item),n}return __extends(t,e),Object.defineProperty(t.prototype,"Width",{get:function(){return null==this.m_Item?0:this.m_Item.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Height",{get:function(){return null==this.m_Item?0:this.m_Item.height},enumerable:!0,configurable:!0}),t.prototype.Dispose=function(){this.removeChild(this.m_Item),this.m_Item.stop(),this.m_Item=null},t}(eui.Component);e.GoldenPoolObjUI=t,__reflect(t.prototype,"slot.Controls.BigWin.GoldenPoolObjUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.BigWin||(e.BigWin={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.m_Container=new eui.Group,e.m_DynamicOfVX=15,e.m_DynamicOfVY=-10,e.m_BaseOfVX=7.5,e.m_BaseOfVY=35,e.m_StartPoint=new egret.Point(800,850),e.m_StartPointRangeX=25,e.m_Gravitation=1.5,e.m_ScaleIncXY=.01,e.m_MaxAmount=65,e.m_IsPooling=!1,e.m_CoinDefaultScaleXY=.65,e.m_CoinMaxScaleXY=1.25,e.m_State=n.STATE_STOP,e.m_TimeOnEnterFrame=0,e.m_CurTs=0,e.m_Limit={},e.m_Limit.L=0,e.m_Limit.R=1600,e.m_Limit.T=0,e.m_Limit.B=900,e.addChild(e.m_Container),e}return __extends(n,t),Object.defineProperty(n.prototype,"isPooling",{get:function(){return this.m_IsPooling},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"amount",{set:function(e){bfcl.Debug.Assert(e>0),this.m_MaxAmount=e},enumerable:!0,configurable:!0}),n.prototype.Start=function(){this.m_State!=n.STATE_START&&(this.m_State=n.STATE_START,this.m_IsPooling=!0,this.m_CurTs=0,this.m_TimeOnEnterFrame=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this))},n.prototype.Stop=function(){this.m_State!=n.STATE_STOP&&(this.m_State=n.STATE_STOP)},n.prototype.StopImmediately=function(){this.Clear()},n.prototype.GetRandomRangeValue=function(e){return Math.random()*e*(0==Math.floor(2*Math.random())?1:-1)},n.prototype.SetCoinPorperty=function(e){e.x=this.m_StartPoint.x+this.GetRandomRangeValue(this.m_StartPointRangeX),e.y=this.m_StartPoint.y,e.scaleX=this.m_CoinDefaultScaleXY,e.scaleY=this.m_CoinDefaultScaleXY,e.rotation=0,e.VX=Math.random()*this.m_DynamicOfVX-this.m_BaseOfVX,e.VY=Math.random()*this.m_DynamicOfVY-this.m_BaseOfVY},n.prototype.OnEnterFrame=function(t){var i=egret.getTimer();if(this.m_CurTs+=i-this.m_TimeOnEnterFrame,this.m_TimeOnEnterFrame=i,this.m_Container.numChildren<this.m_MaxAmount&&this.m_CurTs>=120&&this.m_State==n.STATE_START){this.m_CurTs-=120;var o=new e.GoldenPoolObjUI("pool_coin");this.SetCoinPorperty(o),this.m_Container.addChild(o)}for(var r=0;r<this.m_Container.numChildren;r++)o=this.m_Container.getChildAt(r),o.VY+=this.m_Gravitation,o.scaleX+=this.m_ScaleIncXY,o.scaleX>this.m_CoinMaxScaleXY&&(o.scaleX=this.m_CoinMaxScaleXY),o.scaleY+=this.m_ScaleIncXY,o.scaleY>this.m_CoinMaxScaleXY&&(o.scaleY=this.m_CoinMaxScaleXY),o.x+=o.VX,o.y+=o.VY,o.rotation+=o.VX>0?5:-5,(o.x-o.Width/2<this.m_Limit.L||o.y-o.Height/2<this.m_Limit.T||o.x+o.Width/2>this.m_Limit.R)&&(this.m_Container.removeChild(o),o.Dispose(),o=null),this.m_State==n.STATE_START&&this.m_Container.numChildren<=0&&this.Clear()},n.prototype.Clear=function(){for(this.m_State=n.STATE_STOP,this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this);this.m_Container.numChildren>0;){var e=this.m_Container.removeChildAt(0);e.Dispose(),e=null}this.m_IsPooling=!1},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Container),this.m_Container=null},n.STATE_STOP=0,n.STATE_START=1,n}(eui.Component);e.GoldenPoolUI=t,__reflect(t.prototype,"slot.Controls.BigWin.GoldenPoolUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.BigWin||(e.BigWin={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_Boards=new bfcl.Collections.Dictionary,e.m_Mode=i.STATUS_NONE,e.m_IsInited=!1,e}return __extends(i,n),Object.defineProperty(i.prototype,"CurMode",{get:function(){return this.m_Mode},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Mode",{set:function(e){if(this.m_Mode!=e){this.m_Mode=e;for(var t=0;t<this.m_Boards.Count;t++)this.m_Boards.GetValuePair(t).Value.visible=this.m_Mode==t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"CurBoard",{get:function(){return this.m_Mode!=i.STATUS_NONE&&0!=this.m_Boards.Count?this.m_Boards.GetValue(this.m_Mode):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ShowDuration",{set:function(e){this.CurBoard.ShowDuration=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"DigitsDuration",{set:function(e){this.CurBoard.DigitsDuration=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(e){bfcl.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){if(this.m_ListenEvent!=t){this.m_ListenEvent=t;for(var n=0;n<this.m_Boards.Count;n++){var i=this.m_Boards.GetValuePair(n).Value;i.ListenEvent=t,this.m_ListenEvent?(i.addEventListener(e.Event.Blackboard.CLICK,this.OnButtonClick,this),i.addEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this),i.addEventListener(e.Event.Blackboard.ACTION_FINISHED,this.OnActionFinished,this)):(i.removeEventListener(e.Event.Blackboard.CLICK,this.OnButtonClick,this),i.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this),i.removeEventListener(e.Event.Blackboard.ACTION_FINISHED,this.OnActionFinished,this))}}},enumerable:!0,configurable:!0}),i.prototype.Init=function(e){this.m_IsInited&&this.Dispose(),this.m_IsInited=!0;var n=new t.BlackboardUI;n.BG=e.Entrance.BG,n.InitTitle1(e.Entrance.Title1),n.InitTitle2(e.Entrance.Title2),n.InitTitle3(e.Entrance.Title3),n.InitFrame(e.Entrance.Frame),n.InitButton(e.Entrance.Button),n.Init(e.Entrance.Digit_Point);var o=new t.BlackboardUI;o.BG=e.Exeunt.BG,o.InitTitle1(e.Exeunt.Title1),o.InitTitle2(e.Exeunt.Title2),o.InitTitle3(e.Exeunt.Title3),o.InitFrame(e.Exeunt.Frame),o.InitButton(e.Exeunt.Button),o.Init(e.Exeunt.Digit_Point),this.m_Boards.Add(i.STATUS_ENTRANCE,n),this.m_Boards.Add(i.STATUS_EXEUNT,o);for(var r=0;r<this.m_Boards.Count;r++)this.addChild(this.m_Boards.GetValuePair(r).Value);this.touchEnabled=!1,this.Clear()},i.prototype.OnButtonClick=function(t){this.m_AudioManager.PlaySound("button01_mp3"),this.dispatchEvent(new e.Event.Blackboard(e.Event.Blackboard.CLICK))},i.prototype.OnTranFinished=function(e){this.dispatchEvent(new bfcl.Event.Digits(bfcl.Event.Digits.FINISHED))},i.prototype.OnActionFinished=function(t){this.CurBoard.IsNumberSetted&&t.State==e.Event.Blackboard.STATE_SHOW&&this.CurBoard.ShineNumber(),this.dispatchEvent(new e.Event.Blackboard(e.Event.Blackboard.ACTION_FINISHED,t.State))},i.prototype.Show=function(e,t){void 0===t&&(t=!1),this.Mode=e,this.CurBoard.Show(t),this.visible=!0},i.prototype.SetNumber=function(e,t){void 0===t&&(t=!1),this.CurBoard.SetNumber(e,t)},i.prototype.Hide=function(e){void 0===e&&(e=!1),this.CurBoard.Hide(e)},i.prototype.Clear=function(){this.ListenEvent=!1,this.Mode=i.STATUS_NONE;for(var e=0;e<this.m_Boards.Count;e++)this.m_Boards.GetValuePair(e).Value.Clear();this.visible=!1},i.prototype.Dispose=function(){this.Clear();for(var e=0;e<this.m_Boards.Count;e++){var t=this.m_Boards.GetValuePair(e).Value;this.removeChild(t),t.Dispose(),t=null}this.m_Boards.Clear(),bfcl.Debug.Assert(0==this.numChildren)},i.STATUS_NONE=-1,i.STATUS_ENTRANCE=0,i.STATUS_EXEUNT=1,i}(eui.Component);t.BlackboardSwitcherUI=n,__reflect(n.prototype,"slot.Controls.BlackboardSwitcherUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.m_BG=new eui.Image,e.m_Title1=new bfcl.Controls.Label.ShineLabelUI,e.m_Title2=new bfcl.Controls.Label.ShineLabelUI,e.m_Title3=new bfcl.Controls.Label.ShineLabelUI,e.m_Frame=new eui.Image,e.m_Digits=new bfcl.Controls.Digits.ShineTransDigits,e.m_Button=new t.Blackboard.ButtonUI,e.m_Mask=new egret.Sprite,e.m_Container=new eui.Group,e.m_WinAmount=0,e.m_ShowDuration=1.5,e.m_DigitsDuration=1.5,e.m_State=-1,e.m_Serial=-1,e.m_IsNumberSetted=!1,e
}return __extends(i,n),Object.defineProperty(i.prototype,"Serial",{set:function(e){this.m_Serial=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"IsNumberSetted",{get:function(){return this.m_IsNumberSetted},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"BG",{set:function(e){this.m_BG.visible=""!=e.source,this.m_BG.visible&&(this.m_BG.source=RES.getRes(e.source),this.m_BG.x=e.x||0,this.m_BG.y=e.y||0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ShowDuration",{set:function(e){this.m_ShowDuration=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"DigitsDuration",{set:function(e){this.m_DigitsDuration=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Digits.ListenEvent=e,this.m_ListenEvent?(this.m_Button.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClicked,this),this.m_Digits.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Mask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnMaskClicked,this)):(this.m_Button.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClicked,this),this.m_Digits.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Mask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnMaskClicked,this)))},enumerable:!0,configurable:!0}),i.prototype.InitTitle1=function(e){this.m_Title1.visible=""!=e.normal,this.m_Title1.visible&&(this.m_Title1.Init(e.normal,e.shine,new bfcl.Controls.Mask.RectShape(100,180),!0),this.m_Title1.ShinePoint=new egret.Point(0,0),this.m_Title1.MaskRotation=-10,this.m_Title1.x=e.x,this.m_Title1.y=e.y)},i.prototype.InitTitle2=function(e){this.m_Title2.visible=""!=e.normal,this.m_Title2.visible&&(this.m_Title2.Init(e.normal,e.shine,new bfcl.Controls.Mask.RectShape(60,110)),this.m_Title2.ShinePoint=new egret.Point(0,0),this.m_Title2.MaskRotation=-20,this.m_Title2.x=e.x,this.m_Title2.y=e.y)},i.prototype.InitTitle3=function(e){this.m_Title3.visible=""!=e.normal,this.m_Title3.visible&&(this.m_Title3.Init(e.normal,e.shine,new bfcl.Controls.Mask.RectShape(60,110)),this.m_Title3.ShinePoint=new egret.Point(0,0),this.m_Title3.MaskRotation=-20,this.m_Title3.x=e.x,this.m_Title3.y=e.y)},i.prototype.InitFrame=function(e){this.m_Frame.visible=""!=e.source,this.m_Frame.visible&&(this.m_Frame.source=RES.getRes(e.source),this.m_Frame.x=e.x,this.m_Frame.y=e.y)},i.prototype.InitButton=function(e){this.m_Button.visible=""!=e.label,this.m_Button.visible&&(this.m_Button.Init(e.up,e.down,e.label),this.m_Button.x=e.x||0,this.m_Button.y=e.y||0)},i.prototype.Init=function(e){this.m_Digits.Init("blackboard_normal_digits_fnt","blackboard_glow_digits_fnt",new bfcl.Controls.Mask.RectShape(40,175)),this.m_Digits.ShinePoint=new egret.Point(0,0),this.m_Digits.MaskRotation=-20,this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER,this.m_Digits.x=e.x,this.m_Digits.y=e.y,this.m_Mask.graphics.beginFill(0,.01),this.m_Mask.graphics.drawRect(0,0,egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight),this.m_Mask.graphics.endFill(),this.m_Mask.touchEnabled=!0,this.m_Container.scaleX=this.m_Container.scaleY=.75,this.m_Container.addChild(this.m_BG),this.m_Container.addChild(this.m_Title1),this.m_Container.addChild(this.m_Title2),this.m_Container.addChild(this.m_Frame),this.m_Container.addChild(this.m_Title3),this.m_Container.addChild(this.m_Digits),this.m_Container.addChild(this.m_Button),this.addChild(this.m_Container),this.addChild(this.m_Mask),this.Clear()},i.prototype.OnBtnMaskClicked=function(e){this.m_WinAmount<=0||this.OnDigitsTransFinished()},i.prototype.OnDigitsTransFinished=function(){this.m_Digits.ToTheEndAndShine(this.m_WinAmount),this.m_Mask.visible=!1,this.m_WinAmount=0,this.dispatchEvent(new bfcl.Event.Digits(bfcl.Event.Digits.FINISHED))},i.prototype.OnBtnClicked=function(t){this.m_State!=i.STATE_HIDE&&this.dispatchEvent(new e.Event.Blackboard(e.Event.Blackboard.CLICK))},i.prototype.OnEffectFinished=function(t){this.m_Mask.visible=this.m_IsNumberSetted,t==e.Event.Blackboard.STATE_SHOW&&(this.m_Title1.Shine(1.5),this.m_Title2.Shine(),this.m_Title3.Shine(),this.m_Button.Shine()),this.dispatchEvent(new e.Event.Blackboard(e.Event.Blackboard.ACTION_FINISHED,t))},i.prototype.Show=function(t){var n=this;return void 0===t&&(t=!1),this.m_State!=i.STATE_SHOW?(this.m_State=i.STATE_SHOW,egret.Tween.removeTweens(this),t?void(this.alpha=1):void egret.Tween.get(this).set({alpha:0}).to({alpha:1},1e3*this.m_ShowDuration).call(function(){return n.OnEffectFinished(e.Event.Blackboard.STATE_SHOW)})):void 0},i.prototype.Hide=function(t){var n=this;return void 0===t&&(t=!1),this.m_IsNumberSetted=!1,this.m_State!=i.STATE_HIDE?(this.m_State=i.STATE_HIDE,egret.Tween.removeTweens(this),t?void(this.alpha=0):void egret.Tween.get(this).set({alpha:1}).to({alpha:0},1e3*this.m_ShowDuration).call(function(){return n.OnEffectFinished(e.Event.Blackboard.STATE_HIDE)})):void 0},i.prototype.ShineNumber=function(){this.m_Mask.visible=!1,this.m_Digits.ToTheEndAndShine(this.m_Digits.Number)},i.prototype.SetNumber=function(e,t){return void 0===t&&(t=!1),this.m_IsNumberSetted=!0,t?(this.m_WinAmount=0,void(this.m_Digits.Number=e)):(this.m_WinAmount=e,void this.m_Digits.TransTo(e,this.m_DigitsDuration))},i.prototype.Clear=function(){this.Hide(!0),this.ListenEvent=!1,this.m_WinAmount=0,this.m_Digits.Clear()},i.prototype.Dispose=function(){this.Clear(),this.m_Container.removeChild(this.m_BG),this.m_BG=null,this.m_Container.removeChild(this.m_Title1),this.m_Container.removeChild(this.m_Title2),this.m_Container.removeChild(this.m_Title3),this.m_Title1=null,this.m_Title2=null,this.m_Title3=null,this.m_Container.removeChild(this.m_Frame),this.m_Frame=null,this.m_Container.removeChild(this.m_Digits),this.m_Digits.Dispose(),this.m_Digits=null,this.m_Container.removeChild(this.m_Button),this.m_Button.Dispose(),this.m_Button=null,this.m_Container,this.removeChild(this.m_Container),this.m_Container=null,this.removeChild(this.m_Mask),this.m_Mask=null,bfcl.Debug.Assert(0==this.numChildren)},i.STATE_SHOW=0,i.STATE_HIDE=1,i}(eui.Component);t.BlackboardUI=n,__reflect(n.prototype,"slot.Controls.BlackboardUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_ShineLabel=null,t}return __extends(t,e),t.prototype.Init=function(t,n,i,o,r){void 0===o&&(o=!1),void 0===r&&(r=""),e.prototype.Init.call(this,t,n,r),this.m_ShineLabel=new bfcl.Controls.Label.ShineLabelUI,this.m_ShineLabel.Init(i+"png",i+"G_png",new bfcl.Controls.Mask.RectShape(40,120),o),this.m_ShineLabel.ShinePoint=new egret.Point(2.5,2.5),this.m_ShineLabel.MaskRotation=-25,this.m_ShineLabel.x=RES.getRes(t).bitmapData.width/2-RES.getRes(i+"G_png").bitmapData.width/2,this.m_ShineLabel.y=15,this.m_ShineLabel.touchChildren=!1,this.m_ShineLabel.touchEnabled=!1,this.addChild(this.m_ShineLabel)},t.prototype.Shine=function(){this.m_ShineLabel.Shine()},t.prototype.Dispose=function(){e.prototype.Dispose.call(this),this.removeChild(this.m_ShineLabel),this.m_ShineLabel.Dispose(),this.m_ShineLabel=null},t}(bfcl.Controls.ButtonUI);e.ButtonUI=t,__reflect(t.prototype,"slot.Controls.Blackboard.ButtonUI")}(t=e.Blackboard||(e.Blackboard={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Labels=[],e}return __extends(n,t),n.prototype.Init=function(){for(var t=0;8>t;t++){var n=new e.LabelUI;n.Init("ComboNumberDigits_fnt"),n.x=30+1445*Math.floor(t/4),n.y=180+190*Math.floor(t%4),this.m_Labels.push(n),this.addChild(n)}this.Clear()},n.prototype.Show=function(e,t,n){var i=t+4*(0==e?0:1);this.m_Labels[i].Show(n)},n.prototype.Jump=function(e,t){var n=t+4*(0==e?0:1);this.m_Labels[n].Jump()},n.prototype.Hide=function(e,t){var n=t+4*(0==e?0:1);this.m_Labels[n].Hide()},n.prototype.HideAll=function(){for(var e=0,t=this.m_Labels;e<t.length;e++){var n=t[e];n.Hide()}},n.prototype.Clear=function(){for(var e=0,t=this.m_Labels;e<t.length;e++){var n=t[e];n.Clear()}},n.prototype.Dispose=function(){for(this.Clear();this.m_Labels.length>0;){var e=this.m_Labels.splice(0,1)[0];this.removeChild(e),e.Clear(),e=null}bfcl.Debug.Assert(0==this.numChildren)},n}(eui.Component);e.LabelGroupUI=t,__reflect(t.prototype,"slot.Controls.Combo.LabelGroupUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Combo||(e.Combo={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Label=new eui.BitmapLabel,t}return __extends(t,e),t.prototype.Init=function(e){this.m_Label.font=RES.getRes(e),this.addChild(this.m_Label),this.Clear(),this.touchEnabled=!1,this.touchChildren=!1,this.m_Label.text=""},t.prototype.Show=function(e){this.Clear(),this.visible=!0,this.m_Label.alpha=0,this.m_Label.text="x"+e.toString(),egret.Tween.removeTweens(this.m_Label),egret.Tween.get(this.m_Label).to({alpha:1},350)},t.prototype.Hide=function(){this.visible&&(egret.Tween.removeTweens(this.m_Label),egret.Tween.get(this.m_Label).to({alpha:0},350))},t.prototype.Jump=function(){this.visible&&(egret.Tween.removeTweens(this.m_Label),egret.Tween.get(this.m_Label,{loop:!0}).to({scaleX:1.1,scaleY:1.1},350).to({scaleX:1,scaleY:1},350))},t.prototype.Clear=function(){this.visible=!1,this.m_Label.alpha=this.m_Label.scaleX=this.m_Label.scaleY=1,egret.Tween.removeTweens(this.m_Label)},t.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Label),this.m_Label=null},t}(eui.Component);e.LabelUI=t,__reflect(t.prototype,"slot.Controls.Combo.LabelUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Combo||(e.Combo={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Title=new eui.Image,t.m_Combo=new bfcl.Controls.Digits.NormalDigits("ComboDigits_fnt"),t.m_Digits=new bfcl.Controls.Digits.TransDigits("bigwin_number_fnt"),t.m_HGroup=new eui.Group,t.m_VGroup=new eui.Group,t.m_ComboCount=-1,t}return __extends(t,e),Object.defineProperty(t.prototype,"ComboCount",{get:function(){return this.m_ComboCount},set:function(e){this.m_ComboCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioManager",{set:function(e){bfcl.Debug.Assert(null==this.AudioManager),this.m_Digits.AudioManager=e},enumerable:!0,configurable:!0}),t.prototype.Init=function(){this.m_Title.texture=RES.getRes("score_number_comboX_png"),this.m_Combo.GroupWidth=200,this.m_Combo.TextAlign=egret.HorizontalAlign.LEFT,this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER;var e=new eui.HorizontalLayout;e.horizontalAlign=egret.HorizontalAlign.CENTER,e.gap=40,this.m_HGroup.layout=e,this.m_HGroup.width=1600,this.m_HGroup.addChild(this.m_Title),this.m_HGroup.addChild(this.m_Combo);var t=new eui.VerticalLayout;t.gap=20,t.paddingTop=280,t.horizontalAlign=egret.HorizontalAlign.CENTER,this.m_VGroup.layout=t,this.m_VGroup.addChild(this.m_HGroup),this.m_VGroup.addChild(this.m_Digits),this.addChild(this.m_VGroup),this.Clear()},t.prototype.Show=function(e,t){this.visible=!0,this.m_ComboCount++,this.m_Combo.Number=this.m_ComboCount,this.m_HGroup.visible=this.m_ComboCount>=1,this.m_VGroup.y=this.m_HGroup.visible?0:-90,this.m_Digits.Number=0,this.m_Digits.TransTo(e,t)},t.prototype.Clear=function(){this.visible=!1,this.m_ComboCount=-1,this.m_Combo.Clear(),this.m_Digits.Clear()},t.prototype.Dispose=function(){this.Clear(),this.m_HGroup.removeChild(this.m_Title),this.m_HGroup.removeChild(this.m_Combo),this.m_VGroup.removeChild(this.m_HGroup),this.m_VGroup.removeChild(this.m_Digits),this.removeChild(this.m_VGroup),this.m_HGroup=null,this.m_VGroup=null,this.m_Title=null,this.m_Combo.Dispose(),this.m_Combo=null,this.m_Digits.Dispose(),this.m_Digits=null},t}(eui.Component);e.ScoreUI=t,__reflect(t.prototype,"slot.Controls.Combo.ScoreUI",["eui.UIComponent","egret.DisplayObject"])}(t=e.Combo||(e.Combo={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(t){var n;!function(e){e[e.Sound=0]="Sound",e[e.Voice=1]="Voice",e[e.Bgm=2]="Bgm"}(n=t.Type||(t.Type={}));var i=function(){function t(){this.m_VolumeGroups=new e.Collections.Dictionary,this.m_VolumeGroups.Add(n.Sound,1),this.m_VolumeGroups.Add(n.Voice,1),this.m_VolumeGroups.Add(n.Bgm,1)}return t.prototype.GetVolume=function(e){return this.m_VolumeGroups.GetValue(e)},t.prototype.SetVolume=function(e,t){this.m_VolumeGroups.SetValue(e,t)},t.prototype.Dispose=function(){this.m_VolumeGroups.Clear(),this.m_VolumeGroups=null},t}();t.Mixer=i,__reflect(i.prototype,"bfcl.Volume.Mixer")}(t=e.Volume||(e.Volume={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_NowTs=-1,t.m_CurTs=0,t.m_TotalTs=1e3,t}return __extends(t,e),t.prototype.SetEnable=function(t){this.m_Enable!=t&&(e.prototype.SetEnable.call(this,t),this.m_Enable?this.addEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this):this.removeEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this))},t.prototype.OnEnterFrame=function(e){if(this.m_IsTouching){var t=egret.getTimer();-1==this.m_NowTs&&(this.m_NowTs=t);var n=t-this.m_NowTs;this.m_NowTs=t,this.m_TotalTs+=n,this.m_CurTs+=n,this.m_TotalTs<400||this.m_CurTs<100||(this.m_CurTs=0,this.dispatchEvent(new egret.TouchEvent(egret.TouchEvent.TOUCH_TAP)))}},t.prototype.OnDown=function(t){e.prototype.OnDown.call(this,t),this.m_NowTs=-1,this.m_CurTs=0,this.m_TotalTs=0},t}(e.ButtonUI);e.LoopButtonUI=t,__reflect(t.prototype,"bfcl.Controls.LoopButtonUI")}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(e){e[e.None=0]="None",e[e.Loaded=1]="Loaded",e[e.Playing=2]="Playing",e[e.Pause=3]="Pause",e[e.Stop=4]="Stop",e[e.Error=5]="Error"}(n=t.Status||(t.Status={}));var i=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_State=n.None,e.m_Sound=null,e.m_SoundChannel=null,e.m_LoopCount=1,e.m_Position=0,e.m_Volume=1,e}return __extends(i,t),Object.defineProperty(i.prototype,"Res",{get:function(){return this.m_Res},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Volume",{get:function(){return this.m_Volume},set:function(e){e>this.m_Volume&&e>1&&(e=1),e<this.m_Volume&&0>e&&(e=0),this.m_Volume!=e&&(this.m_Volume=e,null!=this.m_SoundChannel&&(this.m_SoundChannel.volume=e))},enumerable:!0,configurable:!0}),i.prototype.Play=function(t,i){void 0===i&&(i=1),this.Clear(),this.m_Res=t,this.m_Sound=RES.getRes(t),e.Debug.Assert(void 0!==this.m_Sound&&null!==this.m_Sound,"Sound[Load] res"+t),this.m_State=n.Loaded,this.m_LoopCount=i,this.AddSoundChannel(this.m_Sound.play(0,this.m_LoopCount))},i.prototype.AddSoundChannel=function(e){null!=this.m_SoundChannel&&this.RemoveSoundChannel(),null!=e&&(this.m_State=n.Playing,this.m_SoundChannel=e,this.m_SoundChannel.volume=this.m_Volume,this.m_SoundChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this))},i.prototype.onSoundComplete=function(e){this.RemoveSoundChannel(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},i.prototype.RemoveSoundChannel=function(){null!=this.m_SoundChannel&&(this.m_State=n.Stop,this.m_SoundChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.m_SoundChannel.stop(),this.m_SoundChannel=null)},i.prototype.Pause=function(){null!=this.m_SoundChannel&&this.m_State==n.Playing&&(this.m_State=n.Pause,this.m_Position=this.m_SoundChannel.position,this.m_SoundChannel.stop())},i.prototype.Resume=function(){null!=this.m_SoundChannel&&this.m_State==n.Pause&&this.AddSoundChannel(this.m_Sound.play(this.m_Position,this.m_LoopCount))},i.prototype.Stop=function(){null!=this.m_SoundChannel&&this.m_State==n.Playing&&this.RemoveSoundChannel()},i.prototype.Clear=function(){this.RemoveSoundChannel(),this.m_Res="",this.m_State=n.None,this.m_LoopCount=1,this.m_Position=0},i.prototype.Dispose=function(){this.Clear(),null!=this.m_Sound&&(this.m_Sound.close(),this.m_Sound=null)},i}(egret.EventDispatcher);t.Sound=i,__reflect(i.prototype,"bfcl.Audio.Sound")}(t=e.Audio||(e.Audio={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n;!function(t){var n;!function(e){e[e.None=0]="None",e[e.WattingConfigBottomY=1]="WattingConfigBottomY",e[e.Moving=2]="Moving"}(n||(n={}));var i=function(i){function o(e,o,r,s,a,l){var m=i.call(this,t.Types.Drop,l,e,o,r,s,a)||this;return m.m_CurBottomY=0,m.m_State=n.None,m.m_IsAllInPlace=!1,m}return __extends(o,i),Object.defineProperty(o.prototype,"IsInPlace",{get:function(){return this.m_IsAllInPlace},enumerable:!0,configurable:!0}),o.prototype.SetFinallyList=function(t){i.prototype.SetFinallyList.call(this,t),this.m_State=n.WattingConfigBottomY;for(var o=-1;this.m_Leftover.length>0;){var r=this.m_Leftover.splice(0,1)[0],s=this.m_Factory.Pop(r);bfcl.Debug.Assert(null!=s),this.m_Symbols.push(s);var a=this.m_Symbols[this.m_Symbols.length-2];a.y<=0&&this.m_Symbols.length>1?s.y=a.y-this.GetRowHeight(s.RowHeight):s.y=-this.GetRowHeight(s.RowHeight),this.m_EventDispatcher.dispatchEvent(new e.Event.ReelContainer(e.Event.ReelContainer.FINALLY_PUSH_A_SYMBOL,s,++o))}for(var l=0,m=this.m_Symbols;l<m.length;l++){var s=m[l];s.parent.addChildAt(s,0)}},o.prototype.Push=function(e){var t=this.m_Factory.Pop(e);if(bfcl.Debug.Assert(null!=t),this.m_Symbols.push(t),this.m_Symbols.length>1){var n=this.m_Symbols[this.m_Symbols.length-2];t.y=n.y-this.GetRowHeight(t.RowHeight)}else t.y=-this.GetRowHeight(t.RowHeight)},o.prototype.Move=function(e){if(this.m_State!=n.None){var t;this.m_State==n.WattingConfigBottomY&&(this.m_State=n.Moving,this.m_CurBottomY=this.FindBottomY());for(var i=0;i<this.m_Symbols.length;i++)if(t=this.GetSymbolByRow(i),t.y>=this.m_CurBottomY){if(i==this.m_Symbols.length-1){this.m_IsAllInPlace=!0;break}}else t.y+=e,t.y>=this.m_CurBottomY&&(t.y=this.m_CurBottomY,this.m_CurBottomY-=this.GetRowHeight(t.RowHeight));this.MotionBlurModeIfNecessary(e)}},o.prototype.FindBottomY=function(){bfcl.Debug.Assert(this.m_Symbols.length>0);for(var e=this.Height,t=0,n=0;n<this.m_Symbols.length;n++){var i=this.GetSymbolByRow(n);if(t=this.GetRowHeight(i.RowHeight),0==n&&(e+=t),i.y+t<e)break;e-=t}return e-t},o.prototype.Clear=function(){this.m_State=n.None,this.m_IsAllInPlace=!1,i.prototype.Clear.call(this)},o}(t.BaseContainer);t.DropContainer=i,__reflect(i.prototype,"slot.Controls.Reel.Containers.DropContainer")}(n=t.Containers||(t.Containers={}))}(n=t.Reel||(t.Reel={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(t){var n;!function(n){var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"TextAlign",{set:function(e){this.m_Normal.TextAlign=e,this.m_Shine.TextAlign=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Number",{get:function(){return null==this.m_Normal?0:this.m_Normal.Number},set:function(e){this.m_Normal.Number=e,this.m_Shine.Number=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_ListenEvent?(this.m_Normal.addEventListener(e.Event.Digits.FINISHED,this.OnTranFinished,this),this.m_Normal.addEventListener(e.Event.Digits.UPGRADE,this.OnUpgradeFinished,this)):(this.m_Normal.removeEventListener(e.Event.Digits.FINISHED,this.OnTranFinished,this),this.m_Normal.removeEventListener(e.Event.Digits.UPGRADE,this.OnUpgradeFinished,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(e,i,o){this.m_Normal=new n.TransDigits(e),this.m_Shine=new n.NormalDigits(i),this.m_Mask=o,t.prototype.Init.call(this),this.Clear()},i.prototype.ToTheEndAndShine=function(e){this.Number=e;var t=1+.1*e.toString().length;this.DistanceX=this.m_Normal.LabelWidth,this.m_Mask.x=this.m_Normal.LabelX,this.Shine(t)},i.prototype.OnTranFinished=function(t){this.ToTheEndAndShine(this.m_Normal.Number),this.dispatchEvent(new e.Event.Digits(t.type,t.Serial))},i.prototype.OnUpgradeFinished=function(t){this.dispatchEvent(new e.Event.Digits(t.type,t.Serial))},i.prototype.TransTo=function(e,t){this.m_Normal.TransTo(e,t)},i.prototype.Clear=function(){this.ListenEvent=!1,this.m_Normal.Clear(),this.m_Shine.Clear()},i.prototype.Dispose=function(){this.Clear(),this.m_Normal.Dispose(),this.m_Shine.Dispose(),t.prototype.Dispose.call(this)},i}(t.Base.ShineUI);n.ShineTransDigits=i,__reflect(i.prototype,"bfcl.Controls.Digits.ShineTransDigits")}(n=t.Digits||(t.Digits={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(t){var n;!function(t){var n;!function(t){var n=function(n){function i(e,i,o,r,s,a){var l=n.call(this,t.Types.Roll,a,e,i,o,r,s)||this;return l.m_FinallySymbolIndex=-1,l}return __extends(i,n),Object.defineProperty(i.prototype,"IsInPlace",{get:function(){return this.m_Leftover.length<=0},enumerable:!0,configurable:!0}),i.prototype.Push=function(t){var n=this.m_Factory.Pop(t);bfcl.Debug.Assert(null!=n),this.m_Symbols.push(n);var i=this.Height;if(this.m_Symbols.length>1){var o=this.m_Symbols[this.m_Symbols.length-2];i=o.y-this.GetRowHeight(n.RowHeight)}n.y=i,this.m_FinallySymbolIndex>=0&&(this.m_EventDispatcher.dispatchEvent(new e.Event.ReelContainer(e.Event.ReelContainer.FINALLY_PUSH_A_SYMBOL,n,this.m_FinallySymbolIndex)),this.IsInPlace&&(this.m_FinallySymbolIndex=-1))},i.prototype.Move=function(e){for(var t=0;t<this.m_Symbols.length;t++)this.m_Symbols[t].y+=e;for(;;){var n=this.m_Symbols[this.m_Symbols.length-1];if(n.y<=0)break;var i=!this.IsInPlace,o=i?this.m_Leftover.splice(0,1)[0]:this.GetRandSymbolCode();i&&(this.m_FinallySymbolIndex++,this.IsInPlace&&(this.m_OverflowY=n.y)),this.Push(o)}for(;;){var r=this.GetSymbolByRow(0);if(r.y<=this.Height+r.height)break;this.RemoveAt(0)}this.MotionBlurModeIfNecessary(e)},i}(t.BaseContainer);t.RollContainer=n,__reflect(n.prototype,"slot.Controls.Reel.Containers.RollContainer")}(n=t.Containers||(t.Containers={}))}(n=t.Reel||(t.Reel={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(e){var n=t.call(this,e)||this;return n.timeOnEnterFrame=0,n.m_StartNumber=0,n.m_EndNumber=0,n.m_RangeNumber=0,n.m_TotalTs=0,n.m_CurTs=0,n.m_SoundTs=0,n.m_MaxIndex=-1,n}return __extends(n,t),Object.defineProperty(n.prototype,"AudioManager",{set:function(t){e.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Number",{get:function(){return this.m_CurValue},set:function(e){this.RemoveEventListener(),t.prototype.SetNumber.call(this,e),this.visible=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"UpgradeTs",{set:function(e){this.m_UpgradeTs=e},enumerable:!0,configurable:!0}),n.prototype.Init=function(){this.Clear()},n.prototype.TransTo=function(t,n){this.RemoveEventListener(),this.m_CurValue!=t&&(this.m_EndNumber=t,this.m_StartNumber=this.m_CurValue,this.m_RangeNumber=this.m_EndNumber-this.m_StartNumber,this.m_TotalTs=1e3*n,this.m_CurTs=0,this.timeOnEnterFrame=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),e.Debug.Assert(this.m_RangeNumber>0),this.visible=!0)},n.prototype.onEnterFrame=function(n){var i=egret.getTimer(),o=i-this.timeOnEnterFrame;this.m_CurTs+=o,this.m_SoundTs+=o,this.timeOnEnterFrame=i,t.prototype.SetNumber.call(this,this.m_RangeNumber*(this.m_CurTs/this.m_TotalTs)+this.m_StartNumber),this.DispatchUpgradeEventIfNecessary(this.m_CurTs);var r=this.m_RangeNumber<0&&this.m_CurValue<=this.m_EndNumber||this.m_RangeNumber>0&&this.m_CurValue>=this.m_EndNumber;return r?(this.Number=this.m_EndNumber,void this.dispatchEvent(new e.Event.Digits(e.Event.Digits.FINISHED,this.m_MaxIndex))):void(null!=this.m_AudioManager&&this.m_SoundTs>=100&&(this.m_SoundTs=0,this.m_AudioManager.PlaySound("ngScore_mp3")))},n.prototype.DispatchUpgradeEventIfNecessary=function(t){if(null!=this.m_UpgradeTs&&0!=this.m_UpgradeTs.length){for(var n=-1,i=-1==this.m_MaxIndex?0:this.m_MaxIndex,o=i;o<this.m_UpgradeTs.length;o++)t>=1e3*this.m_UpgradeTs[o]&&(n=o);n>this.m_MaxIndex&&(this.m_MaxIndex=n,this.dispatchEvent(new e.Event.Digits(e.Event.Digits.UPGRADE,this.m_MaxIndex)))}},n.prototype.RemoveEventListener=function(){this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},n.prototype.Clear=function(){this.RemoveEventListener(),t.prototype.Clear.call(this),this.visible=!1,this.m_MaxIndex=-1,this.m_UpgradeTs=[]},n.prototype.Dispose=function(){this.Clear(),t.prototype.Dispose.call(this)},n}(t.NormalDigits);t.TransDigits=n,__reflect(n.prototype,"bfcl.Controls.Digits.TransDigits")}(n=t.Digits||(t.Digits={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(e){var t;!function(t){var n=function(){function t(e){null!=e&&(this.m_Object=e)}return Object.defineProperty(t.prototype,"Layer",{get:function(){return this.m_Layer},set:function(e){this.m_Layer=e},enumerable:!0,configurable:!0}),t.prototype.Play=function(){this.m_Object.visible=!0,this.m_Object instanceof egret.MovieClip&&this.m_Object.gotoAndPlay(0,-1),this.m_Object instanceof e.StatusActioner&&this.m_Object.Play()},t.prototype.Stop=function(){this.m_Object.visible=!1,this.m_Object instanceof egret.MovieClip&&this.m_Object.stop(),this.m_Object instanceof e.StatusActioner&&this.m_Object.Stop()},t}();t.StatusSwitcher=n,__reflect(n.prototype,"slot.Controls.Symbol.StatusSwitcher")}(t=e.Symbol||(e.Symbol={}))}(t=e.Controls||(e.Controls={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(n,i,o,r,s,a,l){void 0===n&&(n=t.VALUE_CHANGED),void 0===a&&(a=!1),void 0===l&&(l=!1);var m=e.call(this,n,a,l)||this;return m.CreditLossBy=-1,m.SpinCount=0,m.IfFreeSpinAreWon=!1,m.IfBalanceDecreaseBY=!1,m.SpinCount=i,m.IfFreeSpinAreWon=o,m.IfBalanceDecreaseBY=r,m.CreditLossBy=s,m}return __extends(t,e),t.VALUE_CHANGED="AutoPlay_VALUE_CHANGED",t}(egret.Event);e.AutoPlay=t,__reflect(t.prototype,"slot.Event.AutoPlay")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_Serial=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),t.SELECTED="AutoPlayItem_SELECTED",t}(egret.Event);e.AutoPlayItem=t,__reflect(t.prototype,"slot.Event.AutoPlayItem")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.SHOW_FINISHED="BigWin_SHOW_FINISHED",t.TRAN_FINISHED="BigWin_TRAN_FINISHED",t}(egret.Event);e.BigWin=t,__reflect(t.prototype,"slot.Event.BigWin")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===n&&(n=""),void 0===i&&(i=!1),void 0===o&&(o=!1);var r=e.call(this,t,i,o)||this;return r.m_State=n,r}return __extends(t,e),Object.defineProperty(t.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),t.ACTION_FINISHED="Blackboard_ACTION_FINISHED",t.CLICK="CLICK",t.STATE_SHOW="STATE_SHOW",t.STATE_HIDE="STATE_HIDE",t}(egret.Event);e.Blackboard=t,__reflect(t.prototype,"slot.Event.Blackboard")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)||this}return __extends(t,e),t.TRAN_FINISHED="NormalScore_TRAN_FINISHED",t}(egret.Event);e.NormalScore=t,__reflect(t.prototype,"slot.Event.NormalScore")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r,s){void 0===i&&(i=null),void 0===o&&(o=-1),void 0===r&&(r=!1),void 0===s&&(s=!1);var a=e.call(this,t,r,s)||this;return a.m_ReelNum=n,a.m_Symbol=i,a.m_SymbolIndex=o,a}return __extends(t,e),Object.defineProperty(t.prototype,"ReelNum",{get:function(){return this.m_ReelNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Symbol",{get:function(){return this.m_Symbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SymbolIndex",{get:function(){return this.m_SymbolIndex},enumerable:!0,configurable:!0}),t.ROLL_BACK="Reel_ROLL_BACK",t.ROLLING="Reel_ROLLING",t.ALL_ROLLING="Reel_ALL_ROLL",t.STOPPING="Reel_STOPPING",t.STOPPED="Reel_STOPPED",t.ALL_STOPPED="Reel_ALL_STOPPED",t.FINALLY_PUSH_A_SYMBOL="Reel_FINALLY_PUSH_A_SYMBOL",t}(egret.Event);e.Reel=t,__reflect(t.prototype,"slot.Event.Reel")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_Index=i,s.m_Symbol=n,s}return __extends(t,e),Object.defineProperty(t.prototype,"Index",{get:function(){return this.m_Index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Symbol",{get:function(){return this.m_Symbol},enumerable:!0,configurable:!0}),t.FINALLY_PUSH_A_SYMBOL="ReelContainer_FINALLY_PUSH_A_SYMBOL",t}(egret.Event);e.ReelContainer=t,__reflect(t.prototype,"slot.Event.ReelContainer")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o,r){void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1);var s=e.call(this,t,o,r)||this;return s.m_Button=n,s.m_Value=i,s}return __extends(t,e),Object.defineProperty(t.prototype,"Button",{get:function(){return this.m_Button},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),t.BUTTON_CLICK="ScoreBar_BUTTON_CLICK",t}(egret.Event);e.ScoreBar=t,__reflect(t.prototype,"slot.Event.ScoreBar")}(t=e.Event||(e.Event={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(t){var n=function(){function t(e,t){this.m_Created=0,this.m_Items=[],this.m_Volume=1,this.GUID=e,this.MAX_COUNT=t}return Object.defineProperty(t.prototype,"Volume",{set:function(e){e>this.m_Volume&&e>1&&(e=1),e<this.m_Volume&&0>e&&(e=0),this.m_Volume!=e&&(this.m_Volume=e)},enumerable:!0,configurable:!0}),t.prototype.Pop=function(){for(var t=0;t<this.m_Items.length;t++){var n=this.m_Items[t];if(n.State==e.Audio.Status.None||n.State==e.Audio.Status.Stop)return this.m_Items.splice(t,1),n.Volume=this.m_Volume,n}if(this.m_Created<this.MAX_COUNT){this.m_Created++;var n=new e.Audio.Sound;return n.CountryOfOrigin=this.GUID,n.Volume=this.m_Volume,n}return null},t.prototype.Recycle=function(t){e.Debug.Assert(t.CountryOfOrigin==this.GUID,"SoundFactory[Recycle]CountryOfOrigin != GUID"),t.Clear(),this.m_Items.push(t)},t.prototype.Dispose=function(){for(;this.m_Items.length>0;){var e=this.m_Items.splice(0,1)[0];e.Dispose(),e=null}},t}();t.SoundFactory=n,__reflect(n.prototype,"bfcl.Audio.SoundFactory",["bfcl.Interface.IFactory"])}(t=e.Audio||(e.Audio={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(){var i=null!==n&&n.apply(this,arguments)||this;return i.m_BG=new eui.Image,i.m_Scroller=new eui.Scroller,i.m_Bar=new t.VScrollBarUI,i.m_Group=new eui.Group,i.m_Pages=[],i.m_BtnOK=new e.Controls.ButtonUI,i
}return __extends(i,n),Object.defineProperty(i.prototype,"LocalizationManager",{set:function(t){e.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(t){e.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Bar.ListenEvent=t,this.m_BtnOK.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?(this.m_BtnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_Scroller.addEventListener(egret.Event.CHANGE,this.OnScrollChanged,this),this.m_Bar.addEventListener(e.Event.VScrollBar.POSITION_CHANGED,this.OnPositionChanged,this)):(this.m_BtnOK.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_Scroller.removeEventListener(egret.Event.CHANGE,this.OnScrollChanged,this),this.m_Bar.removeEventListener(e.Event.VScrollBar.POSITION_CHANGED,this.OnPositionChanged,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_BG.texture=RES.getRes("msg_ui_png"),this.m_Scroller.y=25,this.m_Scroller.width=1570,this.m_Scroller.scrollPolicyH=eui.ScrollPolicy.OFF,this.m_Scroller.viewport=this.m_Group,this.m_Bar.Init({x:-20,width:70}),this.m_Bar.y=this.m_Scroller.y-5,this.m_Bar.x=this.m_Scroller.width-this.m_Bar.width/2,this.m_Scroller.height=this.m_Bar.height,this.m_BtnOK.Init("msg_bestgames_btn00_png","msg_bestgames_btn00_png"),this.m_BtnOK.x=800-this.m_BtnOK.Width/2,this.m_BtnOK.y=760;var e=new eui.Label;e.fontFamily="Bahnschrift",e.text="OK",e.bold=!0,e.size=33,this.m_BtnOK.AddLabel(e),this.addChild(this.m_BG),this.addChild(this.m_Scroller),this.addChild(this.m_Bar),this.addChild(this.m_BtnOK),this.Clear()},i.prototype.AddPage=function(e){if(e.Number=this.m_Pages.length,0==this.m_Group.numChildren)e.y=0;else{var t=this.m_Pages[this.m_Pages.length-1];e.y=t.y+t.Height}e.LocalizationManager=this.m_LocalizationManager,this.m_Pages.push(e),this.m_Group.addChild(e)},i.prototype.Show=function(){this.m_Bar.Weight=1/(this.m_Pages.length-1),this.visible=this.ListenEvent=!0},i.prototype.Hide=function(){this.visible=this.ListenEvent=!1},i.prototype.OnBtnOkClick=function(e){this.m_AudioManager.PlaySound("button01_mp3"),this.Hide()},i.prototype.OnScrollChanged=function(e){this.m_Bar.Position=this.m_Scroller.viewport.scrollV/(this.m_Scroller.viewport.contentHeight-this.m_Pages[0].Height)},i.prototype.OnPositionChanged=function(e){this.m_Scroller.viewport.scrollV=(this.m_Scroller.viewport.contentHeight-this.m_Pages[0].Height)*e.Value},i.prototype.Clear=function(){this.Hide();for(var e=0,t=this.m_Pages;e<t.length;e++){var n=t[e];n.Clear()}},i.prototype.Dispose=function(){for(;this.m_Pages.length>0;){var e=this.m_Pages.splice(0,1)[0];this.m_Group.removeChild(e),e.Dispose(),e=null}this.removeChild(this.m_Scroller),this.removeChild(this.m_Bar),this.removeChild(this.m_BtnOK),this.m_Group=null,this.m_Scroller=null,this.m_Bar.Dispose(),this.m_Bar=null,this.m_BtnOK.Dispose(),this.m_BtnOK=null},i}(eui.Component);n.PanelUI=i,__reflect(i.prototype,"bfcl.Controls.Info.PanelUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Info||(t.Info={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t;!function(t){var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Init=function(t,n,i,o){void 0===o&&(o=!1),this.m_Normal=new eui.Image,this.m_Normal.source=RES.getRes(t),this.m_Shine=new eui.Image;var r=RES.getRes(n);this.m_Shine.source=r,this.m_Mask=i,this.m_Loop=o,e.prototype.Init.call(this),this.DistanceX=r.bitmapData.width},t}(e.Base.ShineUI);t.ShineLabelUI=n,__reflect(n.prototype,"bfcl.Controls.Label.ShineLabelUI")}(t=e.Label||(e.Label={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(e){void 0===e&&(e=!0);var i=n.call(this)||this;return i.m_BG=new t.Mask.RectShape(200,50,16777215),i.m_TxtField=new egret.TextField,i.m_Help=new eui.Label(":ID\n:4\n:13\n:26"),i.m_NowStr="",i.m_PlzLogin=!1,i.m_PlzLogin=e,i.m_Help.y=-160,i.m_TxtField.type=egret.TextFieldType.INPUT,i.m_TxtField.inputType=egret.TextFieldInputType.TEXT,i.m_TxtField.fontFamily="Bahnschrift",i.m_TxtField.textColor=16756224,i.m_TxtField.width=i.m_BG.Width,i.m_TxtField.height=i.m_BG.Height,i.m_TxtField.bold=!0,i.m_TxtField.size=35,i.m_TxtField.restrict="0-9 \\-",i.m_TxtField.textAlign=egret.HorizontalAlign.CENTER,i.m_TxtField.verticalAlign=egret.VerticalAlign.MIDDLE,i.m_TxtField.addEventListener(egret.Event.CHANGE,i.OnTextChanged,i),i.addChild(i.m_BG),i.addChild(i.m_Help),i.addChild(i.m_TxtField),i.m_NowStr=i.GetNowStr(),i.x=800-i.m_BG.Width/2,i.y=450-i.m_BG.Height/2,i}return __extends(i,n),i.prototype.createChildren=function(){this.m_PlzLogin||this.dispatchEvent(new e.Event.Login(e.Event.Login.SUCCESS,-1))},i.prototype.GetNowStr=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),o=t.toString()+n.toString()+i.toString();return egret.log(o),o},i.prototype.OnTextChanged=function(t){var n=t.currentTarget.text,i=+n;(i==e.Constants.GameIds.MineSlot||i==e.Constants.GameIds.DragonZone||i==e.Constants.GameIds.MermaidSlot)&&(egret.log("Login!!"),this.m_TxtField.removeEventListener(egret.Event.CHANGE,this.OnTextChanged,this),this.dispatchEvent(new e.Event.Login(e.Event.Login.SUCCESS,i)))},i.prototype.Dispose=function(){this.removeChild(this.m_TxtField),this.m_TxtField=null},i}(eui.Component);n.PanelUI=i,__reflect(i.prototype,"bfcl.Controls.Login.PanelUI",["eui.UIComponent","egret.DisplayObject"])}(n=t.Login||(t.Login={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(e){var t=function(){function e(){this.m_packs=new bfcl.Collections.Dictionary}return Object.defineProperty(e.prototype,"Count",{get:function(){return this.m_packs.Count},enumerable:!0,configurable:!0}),e.prototype.SymbolCode=function(e){return bfcl.Debug.Assert(e>=0&&e<this.Count),this.m_packs.GetKey(e)},e.prototype.Register=function(e,t){bfcl.Debug.Assert(!this.m_packs.ContainsKey(e)),this.m_packs.Add(e,t)},e.prototype.Search=function(e){return bfcl.Debug.Assert(this.m_packs.ContainsKey(e)),this.m_packs.GetValue(e)},e.prototype.Dispose=function(){this.m_packs.Clear(),this.m_packs=null},e}();e.SymbolLibrary=t,__reflect(t.prototype,"slot.Library.SymbolLibrary",["bfcl.Interface.ILibrary"])}(t=e.Library||(e.Library={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.ReelNum=-1,void 0!=t&&(r.Type=t),void 0!=n&&(r.ReelNum=n),void 0!=i&&(r.StopPosList=i),void 0!=o&&(r.RemovePosList=o),r}return __extends(t,e),t}(bfcl.Property.BaseProperty);e.ActionProperty=t,__reflect(t.prototype,"slot.Property.ActionProperty")}(t=e.Property||(e.Property={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.ReelNum=-1,void 0!=t&&(r.Type=t),void 0!=n&&(r.ReelNum=n),void 0!=i&&(r.StopPosList=i),void 0!=o&&(r.RemovePosList=o),r}return __extends(t,e),t}(bfcl.Property.BaseProperty);e.ActionScript=t,__reflect(t.prototype,"slot.Property.ActionScript")}(t=e.Property||(e.Property={}))}(slot||(slot={}));var slot;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BG={source:"msg_bg_png"},t.Title1={normal:"Congratulation_png",shine:"Congratulation_G_png"},t.Title2={normal:"Congratulation_png",shine:"Congratulation_G_png"},t.Title3={normal:"Congratulation_png",shine:"Congratulation_G_png"},t.Frame={source:"msg_frame_01_png",x:145,y:370},t.Button={up:"msg_button_png",down:"msg_button_glow_png",label:"msg_button_start_"},t.Digit_Point={x:1035,y:510},t}return __extends(t,e),t}(bfcl.Property.BaseProperty);e.BlackboardProperty=t,__reflect(t.prototype,"slot.Property.BlackboardProperty")}(t=e.Property||(e.Property={}))}(slot||(slot={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n){void 0===n&&(n=16711680);var i=e.call(this)||this;return i.graphics.beginFill(n),i.graphics.drawCircle(0,0,t),i.graphics.endFill(),i}return __extends(t,e),t}(egret.Shape);e.CircleShape=t,__reflect(t.prototype,"bfcl.Controls.Mask.CircleShape")}(t=e.Mask||(e.Mask={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n,i,o){void 0===i&&(i=16711680),void 0===o&&(o=1);var r=e.call(this)||this;return r.m_Width=0,r.m_Height=0,r.m_Width=t,r.m_Height=n,r.graphics.beginFill(i,o),r.graphics.drawRect(0,0,r.m_Width,r.m_Height),r.graphics.endFill(),r}return __extends(t,e),Object.defineProperty(t.prototype,"Width",{get:function(){return this.m_Width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Height",{get:function(){return this.m_Height},enumerable:!0,configurable:!0}),t}(egret.Shape);e.RectShape=t,__reflect(t.prototype,"bfcl.Controls.Mask.RectShape")}(t=e.Mask||(e.Mask={}))}(t=e.Controls||(e.Controls={}))}(bfcl||(bfcl={}));var slot;!function(e){var t;!function(e){var t=function(){function e(){}return e.StrToPosList=function(e,t,n,i){for(var o=[],r=e.split(","),s=t.split(","),a=0;n>a;a++){var l=[];l.push(+s[a]);for(var m=0;i>m;m++)l.push(+r[(i-1-m)*n+a]);l.push(+s[a+n]),o.push(l)}return o},e.StrToPosList2=function(e,t,n,i){for(var o=[],r=e.split(","),s=t.split(","),a=0;n>a;a++){var l=[];l.push(+s[a]);for(var m=0;i>m;m++)l.push(+r[m*n+a]);l.push(+s[a+n]),o.push(l)}return o},e}();e.Array=t,__reflect(t.prototype,"slot.Utils.Array")}(t=e.Utils||(e.Utils={}))}(slot||(slot={}));var test;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Codepage=bfcl.Constants.Codepages.UNKOWN,t.m_VolumeMixer=new bfcl.Volume.Mixer,t.m_LocalizationManager=null,t.m_AudioManager=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"LocalizationManager",{get:function(){return this.m_LocalizationManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioManager",{get:function(){return this.m_AudioManager},enumerable:!0,configurable:!0}),t.prototype.SetVolume=function(e,t){this.m_VolumeMixer.GetVolume(e)!=t&&(this.m_VolumeMixer.SetVolume(e,t),bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.Volume(bfcl.Event.Volume.CHANGED,e,t)))},Object.defineProperty(t.prototype,"Codepage",{set:function(e){this.m_Codepage!=e&&(this.m_Codepage=e,bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,e)))},enumerable:!0,configurable:!0}),t.prototype.RegisterText=function(e){this.m_LocalizationManager=new bfcl.Localization.Manager(e)},t.prototype.RegisterVoice=function(e){this.m_AudioManager=new bfcl.Audio.Manager(e)},t.prototype.Destroy=function(){this.m_LocalizationManager.Dispose(),this.m_AudioManager.Dispose(),this.m_LocalizationManager=null,this.m_AudioManager=null},t}(egret.EventDispatcher);e.Kernel=t,__reflect(t.prototype,"test.Kernel")}(test||(test={}));var TestScene=function(e){function t(){var t=e.call(this)||this;return t.m_LocalizationManager=null,t.m_AudioManager=null,t.m_Kernel=new test.Kernel,t.toggle=!1,t.skinName="resource/haydn_skins/test/TestSceneSkin.exml",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=new bfcl.Localization.Library;t.Register(bfcl.Constants.Codepages.TW,test.Text.Get_zh_TW()),t.Register(bfcl.Constants.Codepages.EN,test.Text.Get_en_US()),t.Register(bfcl.Constants.Codepages.VN,test.Text.Get_vi_VN());var n=new bfcl.Localization.Library;n.Register(bfcl.Constants.Codepages.TW,test.Voice.Get_zh_TW()),n.Register(bfcl.Constants.Codepages.EN,test.Voice.Get_en_US()),n.Register(bfcl.Constants.Codepages.VN,test.Voice.Get_vi_VN()),this.m_Kernel.RegisterText(t),this.m_Kernel.RegisterVoice(n),this.btnPlay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnPlayClick,this),this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnStopClick,this),this.btnVolumeB.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnVolumeBClick,this),this.btnVolumeS.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnVolumeSClick,this),this.m_SoundQueue=new bfcl.Audio.SoundQueue,this.m_SoundQueue.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.GetLocalizationManager(this.m_Kernel.LocalizationManager),this.m_LocalizationManager.Bind(this.btnPlay,bfcl.Constants.Propertys.Label,1001,"btn"),this.m_LocalizationManager.Bind(this.lbl,bfcl.Constants.Propertys.Text,1001,"lbl"),this.m_LocalizationManager.Bind(this.imgABC,bfcl.Constants.Propertys.Texture,1e3,"img"),this.GetAudioManager(this.m_Kernel.AudioManager)},t.prototype.GetLocalizationManager=function(e){this.m_LocalizationManager=e},t.prototype.GetAudioManager=function(e){this.m_AudioManager=e},t.prototype.onSoundComplete=function(e){egret.log("!!")},t.prototype.onbtnPlayClick=function(e){this.m_Kernel.Codepage=bfcl.Constants.Codepages.EN},t.prototype.onbtnStopClick=function(e){this.m_Kernel.Codepage=bfcl.Constants.Codepages.TW},t.prototype.onbtnVolumeBClick=function(e){this.m_SoundQueue.Volume+=.1},t.prototype.onbtnVolumeSClick=function(e){this.m_SoundQueue.Volume-=.1},t.prototype.onButtonClick=function(e){bfcl.Constants.Codepages.Current==bfcl.Constants.Codepages.TW?bfcl.Constants.Codepages.Current=bfcl.Constants.Codepages.VN:bfcl.Constants.Codepages.Current==bfcl.Constants.Codepages.VN?bfcl.Constants.Codepages.Current=bfcl.Constants.Codepages.EN:bfcl.Constants.Codepages.Current=bfcl.Constants.Codepages.TW,egret.log(""+bfcl.Constants.Codepages.Current),this.m_Kernel.Codepage=bfcl.Constants.Codepages.Current},t.prototype.fullScreen=function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof t&&t&&t.call(e)},t.prototype.exitScreen=function(){var e=document;e.exitFullscreen?e.exitFullscreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen()},t}(eui.Component);__reflect(TestScene.prototype,"TestScene",["eui.UIComponent","egret.DisplayObject"]);var test;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.MineSlot,e.API.AddDemoUser.Request,e.API.AddDemoUser.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return"eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiOTY3OTg0MzE0IiwiZXhwIjoxODI5NjIzMTIwfQ.Utv4DXW99inU9smhaX11HpuuA-oBeRvBpeQY-f6L69g7yG81DfsH1F3aC7aEyoP3NLfarvCOKALH0hJ8b9fe3QxDyQlSbT0G1wiLd2HjAXVYDxQ0c7942SL1nfrWxDUW-MAfNMWft-an_fAyshT6gTvJO9QNAS-C27oHVSdd71tmPX8f_sTLndpkfPtz4d4gIAuuGR8NpKduAiK80dmqL214VQsnG_vCnVYH0J5e7hRmHsQmDtwqLqZEgdoQv47QnGeFDn06HX4qo0pYQ8PySEMQkmIeP82BfWd9WacgwTUgnrI5VQ4OlvdJowvlmjBmddKW43buTrwcROgMQpbEog"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.GET},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/add_demo_user"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.AddDemoUser=n,__reflect(n.prototype,"test.API.AddDemoUser")}(t=e.API||(e.API={}))}(test||(test={})),function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"test.API.AddDemoUser.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"test.API.AddDemoUser.Response")}(t=e.AddDemoUser||(e.AddDemoUser={}))}(t=e.API||(e.API={}))}(test||(test={}));var test;!function(e){var t;!function(t){var n=function(t){function n(){return t.call(this,bfcl.Constants.GameIds.MineSlot,e.API.Init.Request,e.API.Init.Response)||this}return __extends(n,t),Object.defineProperty(n.prototype,"JwToken",{get:function(){return"eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiOTY3OTg0MzE0IiwiZXhwIjoxODI5NjIzMTIwfQ.Utv4DXW99inU9smhaX11HpuuA-oBeRvBpeQY-f6L69g7yG81DfsH1F3aC7aEyoP3NLfarvCOKALH0hJ8b9fe3QxDyQlSbT0G1wiLd2HjAXVYDxQ0c7942SL1nfrWxDUW-MAfNMWft-an_fAyshT6gTvJO9QNAS-C27oHVSdd71tmPX8f_sTLndpkfPtz4d4gIAuuGR8NpKduAiK80dmqL214VQsnG_vCnVYH0J5e7hRmHsQmDtwqLqZEgdoQv47QnGeFDn06HX4qo0pYQ8PySEMQkmIeP82BfWd9WacgwTUgnrI5VQ4OlvdJowvlmjBmddKW43buTrwcROgMQpbEog"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/get_last_mine_slot_init"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);t.Init=n,__reflect(n.prototype,"test.API.Init")}(t=e.API||(e.API={}))}(test||(test={})),function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_type=5,t}return __extends(t,e),t}(bfcl.Http.Data.Request);e.Request=t,__reflect(t.prototype,"test.API.Init.Request");var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(bfcl.Http.Data.Response);e.Response=n,__reflect(n.prototype,"test.API.Init.Response");var i=function(){function e(){}return e}();e.BetInfo=i,__reflect(i.prototype,"test.API.Init.BetInfo")}(t=e.Init||(e.Init={}))}(t=e.API||(e.API={}))}(test||(test={}));var test;!function(e){var t;!function(e){function t(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton errorsingleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}e.Get_en_US=t}(t=e.Text||(e.Text={}))}(test||(test={}));var test;!function(e){var t;!function(e){function t(){return{1e3:"icon_08_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_vi_VN=t}(t=e.Text||(e.Text={}))}(test||(test={}));var test;!function(e){var t;!function(e){function t(){return{1e3:"icon_07_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_zh_TW=t}(t=e.Text||(e.Text={}))}(test||(test={}));var test;!function(e){var t;!function(e){function t(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton errorsingleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}e.Get_en_US=t}(t=e.Voice||(e.Voice={}))}(test||(test={}));var test;!function(e){var t;!function(e){function t(){return{1e3:"icon_08_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}
}e.Get_vi_VN=t}(t=e.Voice||(e.Voice={}))}(test||(test={}));var test;!function(e){var t;!function(e){function t(){return{1e3:"icon_07_png",1001:"Egret: {0}",1002:"Egret {0} egret.DisplayObject",1003:" {0}  null",1004:"",1005:"",1006:" DisplayObject ",1007:"",1008:" {0} ",1009:" {0}  {1}",1010:" {0}  {1} ",1011:"URL: {0}",1012:" {0}  Class",1013:"NaN",1014:" {0}  {1} ",1015:"xml not found!",1016:"{0}",1017:"JSON: {0}\ndata: {1}",1018:"9",1019:":{0}",1020:"",1021:"webgl",1022:"{0} ArgumentError",1023:"ScrollView!",1025:"",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:":{0} ",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"toDataURLbase64",1034:'"{0}"mp3',1035:"Native ",1036:" Sound.play() ",1037:"blob",1038:"XML !",1039:"!",1040:"hitTestPoint ! ",1041:"{0} , {1} ",1042:"drawToTexture,",1043:"{0}  : {1} : {2}",1044:" runtime ,",1045:"",1046:"BitmapText :{0}",1047:"egret.localStorage.setItem,key={0}&value={1}",1048:"",1049:"",1050:"ExternalInterfacejs: {0}",1051:"runtime  webgl ",1052:":{0}",3e3:": {0}",3001:": {0}",3002:':"{0}"',3003:"",3004:"addChild(){0}addElement()",3005:"addChildAt(){0}addElementAt()",3006:"removeChild(){0}removeElement()",3007:"removeChildAt(){0}removeElementAt()",3008:"setChildIndex(){0}setElementIndex()",3009:"swapChildren(){0}swapElements()",3010:"swapChildrenAt(){0}swapElementsAt()",3011:':"{0}"',3012:"Scroller!",3013:"UIStageGUI",3014:"",3100:"WebSocket",3101:"WebSocket",3102:"type",3200:"getResByUrl  loadConfig ",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:" {0}  {1} "}}e.Get_zh_TW=t}(t=e.Voice||(e.Voice={}))}(test||(test={}));