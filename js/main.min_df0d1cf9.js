var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i["throw"](t))}catch(e){s(e)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(r,a)}l((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,s=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){l.label=n[1];break}if(6===n[0]&&l.label<r[1]){l.label=r[1],r=n;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(n);break}r[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(i){n=[6,i],s=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,s,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},game;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.Clear=function(){this.GameMsgBox.Clear(),this.Info.Clear()},t}();t.Display=e,__reflect(e.prototype,"game.Base.Display")}(e=t.Base||(t.Base={}))}(game||(game={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prototype.LoadResource=function(e,n,i){return __awaiter(this,void 0,void 0,function(){var o,s,r,a,l=this;return __generator(this,function(h){switch(h.label){case 0:o=[],Array.prototype.push.apply(o,this.ResGroupName),this.LoadingUI.CodePage=n,this.LoadingUI.ResCount=o.length,e.addChild(this.LoadingUI),s=0,r=o,h.label=1;case 1:return s<r.length?(a=r[s],[4,RES.loadGroup(a,0,this.LoadingUI)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return this.LoadingUI.Finished(),this.LoadingUI.once(t.Event.Loading.CLICK,function(){l.LoadingUI.Clear(),e.removeChild(l.LoadingUI),i()},this),[2]}})})},n}(eui.Component);e.GameUI=n,__reflect(n.prototype,"bfcl.Controls.GameUI",["eui.UIComponent","egret.DisplayObject","bfcl.Interface.IGame"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e=function(){function t(){}return t.Assert=function(t,e){if(void 0===e&&(e=""),0==t){var n=new Error(e);throw console.error(n),n}},t}();t.Debug=e,__reflect(e.prototype,"bfcl.Debug")}(bfcl||(bfcl={}));var game;!function(t){var e;!function(t){var e=function(){function t(){this.Worker=new slot.Game.Worker,this.Dc=new slot.Game.Display}return t}();t.Context=e,__reflect(e.prototype,"game.Base.Context")}(e=t.Base||(t.Base={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.Status=e,__reflect(e.prototype,"game.Base.Status")}(e=t.Base||(t.Base={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.Clear=function(){this.LocalizationManager.Dispose(),this.LocalizationManager=null,this.AudioManager.Dispose(),this.AudioManager=null},t}();t.Worker=e,__reflect(e.prototype,"game.Base.Worker")}(e=t.Base||(t.Base={}))}(game||(game={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.m_Group=new eui.Group,n.m_Layout=new eui.HorizontalLayout,n.m_CurValue=-1,n.m_LabelText="",n.m_LabelWidth=0,n.m_Group.width=1600,n.m_Label=new eui.BitmapLabel,n.m_LabelFont=RES.getRes(e),n.m_Label.font=n.m_LabelFont,n.m_Group.addChild(n.m_Label),n.addChild(n.m_Group),n.touchEnabled=!1,n}return __extends(e,t),Object.defineProperty(e.prototype,"Number",{get:function(){return this.m_CurValue},set:function(t){this.SetNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GroupWidth",{set:function(t){this.m_Group.width=t},enumerable:!0,configurable:!0}),e.prototype.SetNumber=function(t){this.m_CurValue!=t&&(this.m_CurValue=Math.ceil(t),this.m_Label.text=this.m_CurValue.toString())},Object.defineProperty(e.prototype,"TextAlign",{get:function(){return this.m_Layout.horizontalAlign},set:function(t){t!=this.m_Layout.horizontalAlign&&(this.m_Layout.horizontalAlign=t,this.m_Group.layout=this.m_Layout)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LabelWidth",{get:function(){if(this.m_LabelText!=this.m_Label.text){this.m_LabelWidth=0;for(var t=0,e=this.m_Label.text;t<e.length;t++){var n=e[t];this.m_LabelWidth+=this.m_LabelFont.charList[n].w}this.m_LabelText=this.m_Label.text}return this.m_LabelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LabelX",{get:function(){return this.m_Label.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LabelY",{get:function(){return this.m_Label.y},enumerable:!0,configurable:!0}),e.prototype.Clear=function(){this.SetNumber(0)},e.prototype.Dispose=function(){this.m_Group.removeChild(this.m_Label),this.removeChild(this.m_Group),this.m_Group=null,this.m_Label=null},e}(eui.Component);t.NormalDigits=e,__reflect(e.prototype,"bfcl.Controls.Digits.NormalDigits",["eui.UIComponent","egret.DisplayObject"])}(e=t.Digits||(t.Digits={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"Number",{get:function(){return this.m_Number},set:function(t){this.m_Number=t},enumerable:!0,configurable:!0}),e}(eui.Component);t.Page=e,__reflect(e.prototype,"bfcl.Controls.Info.Page",["eui.UIComponent","egret.DisplayObject"])}(e=t.Info||(t.Info={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(n,i,o){var s=e.call(this)||this;return s.m_IsSend=!1,s.m_Request=new i,s.m_Response=new o,s.m_Task=new t.Http.Task,t.Event.Tracker.Instance.dispatchEvent(new t.Event.Monitor(t.Event.Monitor.HttpService,n,s)),s}return __extends(n,e),Object.defineProperty(n.prototype,"Request",{get:function(){return this.m_Request},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Params",{get:function(){switch(this.Method){case egret.HttpMethod.POST:return[this.m_Request.Serialize()];case egret.HttpMethod.GET:for(var e=[],n=Object.keys(this.m_Request),i=0,o=n;i<o.length;i++){var s=o[i];e.push(s+"="+this.m_Request[s])}return e;default:t.Debug.Assert(!1)}},enumerable:!0,configurable:!0}),n.prototype.Send=function(){var e=this;this.m_IsSend||(this.m_IsSend=!0,this.m_Task.Url=this.ServerUrl+this.Api,this.m_Task.Method=this.Method,this.m_Task.JwToken=this.JwToken,this.m_Task.Params=this.Params,this.m_Task.SuccessCallback=function(n){e.RemoveTask(),e.m_Response=t.Http.Data.Response.Deserialize(n),egret.log(n),e.m_Response.status_code==t.Http.Data.Response.SUCCESS?null!=e.OnSuccessCallback&&e.OnSuccessCallback(e.m_Response):null!=e.OnFailureCallback&&e.OnFailureCallback(e.m_Response.status_code)},this.m_Task.FailureCallback=function(t){e.RemoveTask(),console.error(t)},this.m_Task.Send())},n.prototype.RemoveTask=function(){null!=this.m_Task&&(this.m_Task.Dispose(),this.m_Task=null)},n.prototype.Dispose=function(){this.RemoveTask(),this.OnSuccessCallback=null,this.OnFailureCallback=null},n}(egret.EventDispatcher);e.Service=n,__reflect(n.prototype,"bfcl.Http.Service",["bfcl.Interface.IMonitor"])}(e=t.Http||(t.Http={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.Serialize=function(){return JSON.stringify(this)},t}();t.Request=e,__reflect(e.prototype,"bfcl.Http.Data.Request")}(e=t.Data||(t.Data={}))}(e=t.Http||(t.Http={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(e){var n=function(){function e(){this.status_code=t.Http.Data.Response.SUCCESS}return e.Deserialize=function(t){return t.trim().length>0?JSON.parse(t):new e},e.SUCCESS="SUCCESS",e.IO_ERROR="IO_ERROR",e}();e.Response=n,__reflect(n.prototype,"bfcl.Http.Data.Response")}(n=e.Data||(e.Data={}))}(e=t.Http||(t.Http={}))}(bfcl||(bfcl={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Clear=function(){t.prototype.Clear.call(this)},e}(game.Base.Worker);t.Worker=e,__reflect(e.prototype,"slot.Game.Worker")}(e=t.Game||(t.Game={}))}(slot||(slot={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.Serialize=function(){return JSON.stringify(this)},t.Deserialize=function(t){return t.trim().length>0?JSON.parse(t):void 0},t}();t.BaseProperty=e,__reflect(e.prototype,"bfcl.Property.BaseProperty")}(e=t.Property||(t.Property={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ResIndex=0,e.m_ResValues=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"ResCurValue",{get:function(){return this.m_ResValues[this.m_ResIndex]},set:function(t){this.m_ResValues[this.m_ResIndex]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ResCount",{set:function(t){this.m_ResIndex=0,this.m_ResValues=[];for(var e=0;t>e;e++)this.m_ResValues.push(0)},enumerable:!0,configurable:!0}),e.prototype.TotalPercent=function(){for(var t=0,e=0,n=this.m_ResValues;e<n.length;e++){var i=n[e];t+=i}return 100*t/this.m_ResValues.length},e.prototype.SetPreccess=function(t){this.ResCurValue=t,this.ResCurValue>=1&&(this.ResCurValue=1,this.m_ResIndex++)},e.prototype.Clear=function(){this.m_ResIndex=0,this.m_ResValues=[]},e}(egret.Sprite);t.LoadingPanelUI=e,__reflect(e.prototype,"bfcl.Controls.LoadingPanelUI",["RES.PromiseTaskReporter"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(){function e(e){if(this.m_Pairs=[],null!=e){t.Debug.Assert(e.length>0);for(var n=0,i=e;n<i.length;n++){var o=i[n];this.Add(o.Key,o.Value)}}}return Object.defineProperty(e.prototype,"Count",{get:function(){return this.m_Pairs.length},enumerable:!0,configurable:!0}),e.prototype.GetKeyIndex=function(t){for(var e=0;e<this.m_Pairs.length;e++)if(this.m_Pairs[e].Key===t)return e;return-1},e.prototype.ContainsKey=function(t){return-1!=this.GetKeyIndex(t)},e.prototype.Add=function(t,e){var n=this.GetKeyIndex(t);-1==n?this.m_Pairs.push({Key:t,Value:e}):this.m_Pairs[n].Value=e},e.prototype.Remove=function(e){var n=this.GetKeyIndex(e);return t.Debug.Assert(-1!=n,"Dictionary[Remove] find not this key"),this.m_Pairs.splice(n,1)[0]},e.prototype.RemoveAt=function(e){return t.Debug.Assert(e>=0&&e<this.Count,"Dictionary[RemoveAt] index Error"),this.m_Pairs.splice(e,1)[0]},e.prototype.GetValuePair=function(e){return t.Debug.Assert(e>=0&&e<this.Count,"Dictionary[GetValuePair] index Error"),this.m_Pairs[e]},e.prototype.GetKey=function(e){return t.Debug.Assert(e>=0&&e<this.Count,"Dictionary[GetKey] index Error"),this.m_Pairs[e].Key},e.prototype.GetValue=function(e){var n=this.GetKeyIndex(e);return t.Debug.Assert(-1!=n,"Dictionary[GetValue] find not this key"),this.m_Pairs[n].Value},e.prototype.SetValue=function(e,n){var i=this.GetKeyIndex(e);t.Debug.Assert(-1!=i,"Dictionary[SetValue] find not this key"),this.m_Pairs[i].Value},e.prototype.Clear=function(){this.m_Pairs=[]},e}();e.Dictionary=n,__reflect(n.prototype,"bfcl.Collections.Dictionary")}(e=t.Collections||(t.Collections={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Normal=null,e.m_Shine=null,e.m_Mask=new egret.Shape,e.m_Loop=!1,e.m_DistanceX=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"NormalPoint",{set:function(t){this.m_Normal.x=t.x,this.m_Normal.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShinePoint",{set:function(t){this.m_Shine.x=t.x,this.m_Shine.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaskRotation",{set:function(t){this.m_Mask.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DistanceX",{set:function(t){this.m_DistanceX=t},enumerable:!0,configurable:!0}),e.prototype.Init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.m_Shine.mask=this.m_Mask,this.addChild(this.m_Normal),this.addChild(this.m_Shine),this.addChild(this.m_Mask),this.m_Mask.scaleX=this.m_Mask.scaleY=0},e.prototype.Shine=function(t){void 0===t&&(t=1),this.visible&&(egret.Tween.removeTweens(this.m_Mask),egret.Tween.get(this.m_Mask,{loop:this.m_Loop}).set({x:this.m_Mask.x-2*this.m_Mask.width,scaleX:1,scaleY:1}).to({x:this.m_Mask.x+this.m_DistanceX},1e3*t))},e.prototype.Dispose=function(){this.removeChild(this.m_Mask),this.removeChild(this.m_Normal),this.removeChild(this.m_Shine),this.m_Normal=null,this.m_Shine=null,this.m_Mask=null},e}(eui.Component);t.ShineUI=e,__reflect(e.prototype,"bfcl.Controls.Base.ShineUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Base||(t.Base={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_MaskImage=new eui.Image,t.m_UpImage=new eui.Image,t.m_DownImage=new eui.Image,t.m_DisabledImage=new eui.Image,t.Label=null,t.m_IsTouching=!1,t}return __extends(n,e),Object.defineProperty(n.prototype,"Serial",{get:function(){return this.m_Serial},set:function(t){this.m_Serial=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Enable",{get:function(){return this.m_Enable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsTouching",{set:function(t){this.m_IsTouching=t,this.m_DownImage.visible=t,this.m_UpImage.visible=!t},enumerable:!0,configurable:!0}),n.prototype.SetEnable=function(t){this.m_Enable!=t&&(this.m_Enable=t,this.m_DisabledImage.visible=!t,this.m_Enable?(this.m_MaskImage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnDown,this),this.m_MaskImage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.OnCancel,this),this.m_MaskImage.addEventListener(egret.TouchEvent.TOUCH_END,this.OnUp,this)):(this.m_MaskImage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnDown,this),this.m_MaskImage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.OnCancel,this),this.m_MaskImage.removeEventListener(egret.TouchEvent.TOUCH_END,this.OnUp,this)))},n.prototype.OnDown=function(t){this.IsTouching=!0},n.prototype.OnUp=function(t){this.IsTouching=!1},n.prototype.OnCancel=function(t){this.IsTouching=!1},Object.defineProperty(n.prototype,"Width",{get:function(){return this.m_Width||0},set:function(t){this.m_Width!=t&&(this.m_Width=this.width=t,this.m_UpImage.width=t,this.m_DownImage.width=t,this.m_DisabledImage.width=t,this.m_MaskImage.width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Height",{get:function(){return this.m_Height||0},set:function(t){this.m_Height!=t&&(this.m_Height=this.height=t,this.m_UpImage.height=t,this.m_DownImage.height=t,this.m_DisabledImage.height=t,this.m_MaskImage.height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Scale9Grid",{get:function(){return this.m_Scale9Grid},set:function(t){this.m_Scale9Grid=t,this.m_UpImage.scale9Grid=t,this.m_DownImage.scale9Grid=t,this.m_DisabledImage.scale9Grid=t},enumerable:!0,configurable:!0}),n.prototype.Init=function(t,e,n){void 0===n&&(n=""),this.Skin(t,e,n),this.m_UpImage.touchEnabled=!1,this.m_DownImage.touchEnabled=!1,this.m_DisabledImage.touchEnabled=!1,this.addChild(this.m_DownImage),this.addChild(this.m_UpImage),this.addChild(this.m_DisabledImage),this.addChild(this.m_MaskImage),this.IsTouching=!1},n.prototype.Skin=function(t,e,n){void 0===n&&(n="");var i=RES.getRes(t);this.m_UpImage.texture=i,this.m_DownImage.texture=RES.getRes(e),n.length>0&&(this.m_DisabledImage.texture=RES.getRes(n)),this.m_MaskImage.texture=i,this.m_MaskImage.alpha=0,null!=this.m_Scale9Grid&&(this.Scale9Grid=this.m_Scale9Grid),null==this.m_Width&&(this.width=i.bitmapData.width),null==this.m_Height&&(this.height=i.bitmapData.height),this.Width=this.width,this.Height=this.height},n.prototype.AddLabel=function(e){void 0===e&&(e=null),t.Debug.Assert(null!=e),t.Debug.Assert(null==this.Label),this.Label=e,this.Label.touchEnabled=!1,this.addChild(this.Label),this.Label.verticalCenter=0,this.Label.horizontalCenter=0},n.prototype.Clear=function(){this.SetEnable(!1)},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_UpImage),this.removeChild(this.m_DownImage),this.removeChild(this.m_DisabledImage),this.removeChild(this.m_MaskImage),this.m_UpImage=null,this.m_DownImage=null,this.m_DisabledImage=null,this.m_MaskImage=null,null!=this.Label&&(this.removeChild(this.Label),this.Label=null)},n}(eui.Component);e.ButtonUI=n,__reflect(n.prototype,"bfcl.Controls.ButtonUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t[t.None=0]="None",t[t.GameMaintenance=1]="GameMaintenance",t[t.SystemMaintenance=2]="SystemMaintenance",t[t.Version=3]="Version",t[t.UserOffline=4]="UserOffline"}(e=t.GameStatus||(t.GameStatus={}));var n;!function(t){t[t.BET=0]="BET",t[t.MAIN_SPIN=1]="MAIN_SPIN",t[t.MAIN_RESULT=2]="MAIN_RESULT",t[t.INTERLUDE_ENTRANCE=3]="INTERLUDE_ENTRANCE",t[t.FREE_SPIN=4]="FREE_SPIN",t[t.FREE_RESULT=5]="FREE_RESULT",t[t.INTERLUDE_EXIT=6]="INTERLUDE_EXIT",t[t.COMMIT=7]="COMMIT",t[t.UNKOWN=999]="UNKOWN"}(n=t.StageTypes||(t.StageTypes={}));var i;!function(t){t[t.Miner=65]="Miner",t[t.Supervisor=66]="Supervisor",t[t.Diamond_Red=67]="Diamond_Red",t[t.Diamond_Yellow=68]="Diamond_Yellow",t[t.Diamond_Blue=69]="Diamond_Blue",t[t.Word_Q=73]="Word_Q",t[t.Word_K=72]="Word_K",t[t.Word_A=71]="Word_A",t[t.Wild=90]="Wild",t[t.FreeGame=89]="FreeGame"}(i=t.SymbolCodes||(t.SymbolCodes={}));var o;!function(t){t[t.UNKNOW=-1]="UNKNOW",t[t.FREE_BGM=0]="FREE_BGM",t[t.MINER_CAR=1]="MINER_CAR",t[t.SPIN_START=2]="SPIN_START",t[t.MAIN_BGM=3]="MAIN_BGM",t[t.BOMB=4]="BOMB",t[t.DRAW=5]="DRAW",t[t.SCATTER_SHOW=6]="SCATTER_SHOW",t[t.SCATTER_WIN=7]="SCATTER_WIN",t[t.REEL_SPIN=8]="REEL_SPIN",t[t.REEL_STOP=9]="REEL_STOP",t[t.SYMBOL_WIN=10]="SYMBOL_WIN",t[t.INTERLUDE_ENTRANCE=11]="INTERLUDE_ENTRANCE",t[t.INTERLUDE_EXIT=12]="INTERLUDE_EXIT"}(o=t.SoundIds||(t.SoundIds={}))}(e=t.Enum||(t.Enum={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var kernel;!function(t){function e(){return n.Num+" ["+n.Time+"]"}var n=function(){function t(){}return t.Num="GeGame Ver:1.0.2",t.Time="2020/09/30",t}();t.Version=n,__reflect(n.prototype,"kernel.Version"),t.GetVersion=e}(kernel||(kernel={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Controls.GameUI);t.GameUI=e,__reflect(e.prototype,"slot.Controls.GameUI")}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(eui.Component);t.StatusActioner=e,__reflect(e.prototype,"slot.Controls.StatusActioner",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n;!function(e){var n=function(){function t(){this.m_FrameRatePerSec=3,this.m_RollBackFactor=.2,this.m_RollOscillationFactor=.75,this.m_AccelerationInterval=1,this.m_FrameRate=30,this.m_NormalSymbolState="",this.m_MoveSymbolState="",this.m_ExcludeSymbolCodes=[],this.m_MotionBlurSpeed=-1}return Object.defineProperty(t.prototype,"NormalSymbolState",{get:function(){return this.m_NormalSymbolState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MoveSymbolState",{get:function(){return this.m_MoveSymbolState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ExcludeSymbolCodes",{get:function(){return this.m_ExcludeSymbolCodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MotionBlurSpeed",{get:function(){return this.m_MotionBlurSpeed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MotionBlur",{get:function(){return this.m_MotionBlurSpeed>0},enumerable:!0,configurable:!0}),t.prototype.SetMotionBlur=function(t,e,n,i){bfcl.Debug.Assert(t>0),bfcl.Debug.Assert(""!=e&&""!=n),this.m_MotionBlurSpeed=t,this.m_NormalSymbolState=e,this.m_MoveSymbolState=n,this.m_ExcludeSymbolCodes=bfcl.Utils.Array.Clone(i)},Object.defineProperty(t.prototype,"FrameRatePerSec",{set:function(t){bfcl.Debug.Assert(!isNaN(t)&&t>0),this.m_FrameRatePerSec=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxSpeed",{get:function(){return this.m_FrameRatePerSec*this.m_FrameRate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RollBackFactor",{get:function(){return this.m_RollBackFactor},set:function(t){bfcl.Debug.Assert(!isNaN(t)&&.3>=t&&t>=0),this.m_RollBackFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RollOscillationFactor",{get:function(){return this.m_RollOscillationFactor},set:function(t){bfcl.Debug.Assert(!isNaN(t)&&1>=t&&t>=.1),this.m_RollOscillationFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AccelerationInterval",{get:function(){return this.m_AccelerationInterval},set:function(t){bfcl.Debug.Assert(!isNaN(t)&&2>=t&&t>0),this.m_AccelerationInterval=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Acceleration",{get:function(){return this.MaxSpeed/this.m_FrameRate/this.m_AccelerationInterval},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FrameRate",{get:function(){return this.m_FrameRate},set:function(t){bfcl.Debug.Assert(!isNaN(t)&&t>0),this.m_FrameRate=t},enumerable:!0,configurable:!0}),t}();e.Parameter=n,__reflect(n.prototype,"slot.Controls.Reel.Parameter");var i=function(i){function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.m_ReelNum=0,t.m_ReelWidth=0,t.m_State=o.STATUS_NONE,t.m_Speed=0,t.m_OnStopSpeed=0,t.m_BackFillSpeed=0,t.m_Ts=0,t.m_StartGapBetweenReel=0,t.m_StopGapBetweenReel=0,t.m_Containers=new bfcl.Collections.Dictionary,t.m_StopPosList=[],t.m_CurContainerType=e.Containers.Types.Roll,t.m_Parameter=new n,t}return __extends(o,i),Object.defineProperty(o.prototype,"DisplayRowCount",{get:function(){return null==this.ReelContainer?0:this.ReelContainer.DisplayRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"DefaultContainerType",{set:function(t){this.m_CurContainerType=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"StartGapBetweenReel",{set:function(t){bfcl.Debug.Assert(!isNaN(t)&&t>=0),this.m_StartGapBetweenReel=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"StopGapBetweenReel",{set:function(t){bfcl.Debug.Assert(!isNaN(t)&&t>=0),this.m_StopGapBetweenReel=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ReelNum",{get:function(){return this.m_ReelNum},set:function(t){bfcl.Debug.Assert(!isNaN(t)&&t>=0),this.m_ReelNum=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ReelWidth",{get:function(){return this.m_ReelWidth},set:function(t){bfcl.Debug.Assert(!isNaN(t)&&t>=0),this.m_ReelWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"StopPosList",{set:function(t){this.m_StopPosList=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ReelContainer",{get:function(){return 0==this.m_Containers.Count?null:this.m_Containers.GetValue(this.m_CurContainerType)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Parameter",{get:function(){return null==this.ReelContainer?this.m_Parameter:this.ReelContainer.Parameter},enumerable:!0,configurable:!0}),o.prototype.Perload=function(t){this.StopPosList=t,this.StopImmediatly(!0)},o.prototype.RegisterContainer=function(t){bfcl.Debug.Assert(!this.m_Containers.ContainsKey(t.Type)),this.m_Containers.Add(t.Type,t)},o.prototype.SetToTopLayer=function(t){bfcl.Debug.Assert(this.m_State==o.STATUS_STOP),this.ReelContainer.SetToTopLayer(t)},o.prototype.SetToNormalLayer=function(){bfcl.Debug.Assert(this.m_State==o.STATUS_STOP),this.ReelContainer.SetToNormalLayer()},o.prototype.GetSymbolByRow=function(t){return this.ReelContainer.GetSymbolByRow(t)},o.prototype.Run=function(t,n,i){this.m_State==o.STATUS_STOP&&(bfcl.Debug.Assert(this.m_Containers.ContainsKey(t)),void 0!=n&&(bfcl.Debug.Assert(n.length>0),this.StopPosList=n),t==e.Containers.Types.Drop&&(bfcl.Debug.Assert(n.length==i.length),this.RemoveAt(i)),this.m_State=o.STATUS_ROLL_BACK,this.m_CurContainerType=t,this.m_BackFillSpeed=this.Parameter.MaxSpeed*this.Parameter.RollBackFactor,egret.Tween.get(this).wait(this.m_StartGapBetweenReel).call(this.OnCallRun))},o.prototype.OnCallRun=function(){this.m_Ts=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this),this.dispatchEvent(new t.Event.Reel(t.Event.Reel.ROLL_BACK,this.m_ReelNum))},o.prototype.OnEnterFrame=function(n){var i=egret.getTimer(),s=Math.abs(i-this.m_Ts);this.m_Ts=i;var r=Math.floor(s/(1e3/this.Parameter.FrameRate));0>=r&&(r=1);for(var a=0;r>a;a++){if(this.Governor(),this.ReelContainer.Move(this.m_Speed),this.m_State==o.STATUS_STOP_OSCILLATION&&this.m_BackFillSpeed<=0)return this.m_StopPosList=this.ReelContainer.GetInPlacePosList(),this.StopImmediatly(),void this.dispatchEvent(new t.Event.Reel(t.Event.Reel.STOPPED,this.m_ReelNum));if(this.m_State==o.STATUS_STOP_WATTING_IN_PLACE&&this.ReelContainer.IsInPlace)return this.m_State=o.STATUS_STOP_OSCILLATION,void(this.m_BackFillSpeed=this.ReelContainer.OverflowY);if(this.m_State==o.STATUS_ROLL_BACK&&this.m_BackFillSpeed<0){if(this.m_CurContainerType==e.Containers.Types.Roll&&this.m_Speed<this.ReelContainer.Parameter.MaxSpeed)return;return this.m_State=o.STATUS_ROLLING,this.dispatchEvent(new t.Event.Reel(t.Event.Reel.ROLLING,this.m_ReelNum)),void(this.m_CurContainerType==e.Containers.Types.Drop&&this.Stop())}}},o.prototype.Governor=function(){switch(this.m_State){case o.STATUS_ROLLING:case o.STATUS_STOP_DELAYING:case o.STATUS_STOP_WATTING_IN_PLACE:this.m_Speed+=this.Parameter.Acceleration;break;case o.STATUS_ROLL_BACK:var t=this.Parameter.Acceleration;this.m_BackFillSpeed-=t,this.m_BackFillSpeed>0?this.m_Speed-=this.Parameter.Acceleration:this.m_Speed+=this.Parameter.Acceleration;break;case o.STATUS_STOP_OSCILLATION:var t=this.m_OnStopSpeed*this.Parameter.RollOscillationFactor;t<=this.Parameter.Acceleration&&(t=this.Parameter.Acceleration),this.m_Speed-=t,this.m_BackFillSpeed+=this.m_Speed,this.m_Speed<0&&this.m_BackFillSpeed<0&&(this.m_Speed-=this.m_BackFillSpeed,this.m_BackFillSpeed=0);break;default:bfcl.Debug.Assert(!1)}this.m_Speed>this.Parameter.MaxSpeed&&(this.m_Speed=this.Parameter.MaxSpeed),this.m_Speed<-this.Parameter.MaxSpeed&&(this.m_Speed=-this.Parameter.MaxSpeed)},o.prototype.Stop=function(t){this.m_State==o.STATUS_ROLLING&&(this.m_State=o.STATUS_STOP_DELAYING,egret.Tween.get(this).wait(this.m_StopGapBetweenReel).call(this.OnCallStop))},o.prototype.OnCallStop=function(){this.m_State=o.STATUS_STOP_WATTING_IN_PLACE,this.ReelContainer.SetFinallyList(this.m_StopPosList),this.m_OnStopSpeed=this.m_Speed,this.dispatchEvent(new t.Event.Reel(t.Event.Reel.STOPPING,this.m_ReelNum))},o.prototype.StopImmediatly=function(t){if(void 0===t&&(t=!1),this.m_State!=o.STATUS_STOP||0!=t){this.RemoveEnterFrameEvent();for(var n=0;n<this.m_Containers.Count;n++)this.m_Containers.GetValuePair(n).Value.Clear();this.m_CurContainerType==e.Containers.Types.Drop&&(this.m_CurContainerType=e.Containers.Types.Roll),this.ReelContainer.Perload(this.m_StopPosList),this.m_State=o.STATUS_STOP,this.m_Speed=0}},o.prototype.RemoveAt=function(t){bfcl.Debug.Assert(this.m_State==o.STATUS_STOP),this.m_CurContainerType=e.Containers.Types.Drop,this.ReelContainer.RemoveAt(t)},o.prototype.RemoveEnterFrameEvent=function(){this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this)},o.prototype.Dispose=function(){for(egret.Tween.removeTweens(this),this.RemoveEnterFrameEvent();this.m_Containers.Count>0;){var t=this.m_Containers.RemoveAt(0).Value;null!=t&&(t.Dispose(),t=null)}},o.STATUS_NONE=0,o.STATUS_STOP=1,o.STATUS_ROLL_BACK=2,o.STATUS_ROLLING=3,o.STATUS_STOP_DELAYING=4,o.STATUS_STOP_WATTING_IN_PLACE=5,o.STATUS_STOP_OSCILLATION=6,o}(eui.Component);e.BaseReel=i,__reflect(i.prototype,"slot.Controls.Reel.BaseReel",["eui.UIComponent","egret.DisplayObject","slot.Interface.IReel"])}(n=e.Reel||(e.Reel={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(i){var o=e.call(this)||this;o.m_Reels=[],o.m_RunningReelNums=[],o.m_StoppingReelNums=[],o.m_State=n.STATUS_NONE,o.m_ActionScript=[];for(var s=0;i>s;s++)o.m_ActionScript.push(new t.Property.ActionScript(t.Controls.Reel.Containers.Types.Roll,s));return o}return __extends(n,e),n.prototype.Push=function(e,n,i){bfcl.Debug.Assert(null!=e&&!isNaN(n)&&!isNaN(i));var o=0==this.m_Reels.length?n:this.m_Reels[this.m_Reels.length-1].x+e.ReelWidth;this.m_Reels.push(e),e.x=o,e.y=i,e.addEventListener(t.Event.Reel.ROLLING,this.OnReelRolling,this),e.addEventListener(t.Event.Reel.STOPPED,this.OnReelStopped,this),e.addEventListener(t.Event.Reel.STOPPING,this.OnReelStopping,this),this.addChild(e)},n.prototype.GetReel=function(t){return bfcl.Debug.Assert(t>=0&&t<this.m_Reels.length),this.m_Reels[t]},n.prototype.SetStartGapBetweenReel=function(t){if(t instanceof Array){bfcl.Debug.Assert(t.length==this.m_Reels.length);for(var e=0;e<this.m_Reels.length;e++)this.m_Reels[e].StartGapBetweenReel=t[e]}else if("number"==typeof t){bfcl.Debug.Assert(t>=0);for(var e=0;e<this.m_Reels.length;e++)this.m_Reels[e].StartGapBetweenReel=e*t}},n.prototype.SetStopGapBetweenReel=function(t){if(t instanceof Array){bfcl.Debug.Assert(t.length==this.m_Reels.length);for(var e=0;e<this.m_Reels.length;e++)this.m_Reels[e].StopGapBetweenReel=t[e]}else if("number"==typeof t){bfcl.Debug.Assert(t>=0);for(var e=0;e<this.m_Reels.length;e++)this.m_Reels[e].StopGapBetweenReel=e*t}},n.prototype.SetToTopLayer=function(t,e){bfcl.Debug.Assert(t<this.m_Reels.length),bfcl.Debug.Assert(e.length<=this.m_Reels[t].DisplayRowCount),0!=e.length&&this.m_Reels[t].SetToTopLayer(e)},n.prototype.SetToNormalLayer=function(t){bfcl.Debug.Assert(t<this.m_Reels.length),this.m_Reels[t].SetToNormalLayer()},n.prototype.SetToStatus=function(t,e,n){bfcl.Debug.Assert(t<this.m_Reels.length),bfcl.Debug.Assert(e<this.m_Reels[t].DisplayRowCount),this.m_Reels[t].GetSymbolByRow(e).State=n},n.prototype.GetSymbol=function(t,e){return bfcl.Debug.Assert(t<this.m_Reels.length),bfcl.Debug.Assert(e<this.m_Reels[t].DisplayRowCount),this.m_Reels[t].GetSymbolByRow(e)},n.prototype.UpdateStopPosList=function(){for(var t=0,e=this.m_ActionScript;t<e.length;t++){var n=e[t];this.m_Reels[n.ReelNum].StopPosList=n.StopPosList}},n.prototype.Roll=function(){if(this.m_State==n.STATUS_NONE||this.m_State==n.STATUS_STOPPED){this.m_State=n.STATUS_ROLLING,this.m_RunningReelNums=[],this.m_StoppingReelNums=[];for(var t=0,e=this.m_ActionScript;t<e.length;t++){var i=e[t];
this.m_RunningReelNums.push(i.ReelNum),this.m_StoppingReelNums.push(i.ReelNum),this.m_Reels[i.ReelNum].Run(i.Type,i.StopPosList,i.RemovePosList)}}},n.prototype.OnReelRolling=function(e){var i=e.ReelNum,o=this.m_RunningReelNums.indexOf(i);bfcl.Debug.Assert(-1!=o),this.m_RunningReelNums.splice(o,1),this.dispatchEvent(new t.Event.Reel(t.Event.Reel.ROLLING,i)),0==this.m_RunningReelNums.length&&(this.m_State=n.STATUS_ROLLED,this.dispatchEvent(new t.Event.Reel(t.Event.Reel.ALL_ROLLING,i)))},n.prototype.StopAt=function(t){this.m_State==n.STATUS_ROLLED&&this.m_Reels[t].Stop()},n.prototype.StopAll=function(){if(this.m_State==n.STATUS_ROLLED){this.m_State=n.STATUS_STOPPING;for(var t=0,e=this.m_ActionScript;t<e.length;t++){var i=e[t];this.m_Reels[i.ReelNum].Stop()}}},n.prototype.StopImmediatly=function(){if(this.m_State!=n.STATUS_STOPPED){this.m_State=n.STATUS_STOPPED;for(var t=0,e=this.m_Reels;t<e.length;t++){var i=e[t];i.StopImmediatly()}}},n.prototype.OnReelStopping=function(e){var n=this.m_StoppingReelNums.indexOf(e.ReelNum);bfcl.Debug.Assert(-1!=n),this.dispatchEvent(new t.Event.Reel(t.Event.Reel.STOPPING,e.ReelNum))},n.prototype.OnReelStopped=function(e){var i=e.ReelNum,o=this.m_StoppingReelNums.indexOf(i);bfcl.Debug.Assert(-1!=o),this.dispatchEvent(new t.Event.Reel(t.Event.Reel.STOPPED,i)),this.m_StoppingReelNums.splice(o,1),this.m_StoppingReelNums.length<=0&&(this.m_State=n.STATUS_STOPPED,this.dispatchEvent(new t.Event.Reel(t.Event.Reel.ALL_STOPPED,i)))},n.prototype.Clear=function(){this.StopImmediatly()},n.prototype.Dispose=function(){for(var e=0,n=this.m_Reels;e<n.length;e++){var i=n[e];i.hasEventListener(t.Event.Reel.STOPPED)&&i.removeEventListener(t.Event.Reel.STOPPED,this.OnReelStopped,this),i.hasEventListener(t.Event.Reel.STOPPING)&&i.removeEventListener(t.Event.Reel.STOPPING,this.OnReelStopping,this),this.removeChild(i),i.Dispose()}},n.STATUS_NONE=0,n.STATUS_ROLLING=1,n.STATUS_ROLLED=2,n.STATUS_STOPPING=3,n.STATUS_STOPPED=4,n}(eui.Component);e.Machine=n,__reflect(n.prototype,"slot.Controls.Reel.Machine",["eui.UIComponent","egret.DisplayObject"])}(n=e.Reel||(e.Reel={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var n;!function(t){t[t.Roll=0]="Roll",t[t.Drop=1]="Drop"}(n=e.Types||(e.Types={}));var i=function(){function e(e,i,o,s,r,a,l){this.m_Container=null,this.m_ContainerClone=null,this.m_RowCount=0,this.m_RowHeight=0,this.m_Leftover=[],this.m_FinallyList=[],this.m_OverflowY=0,this.m_Factory=null,this.m_Parameter=new t.Parameter,this.m_Type=n.Roll,this.m_Type=e,this.m_Container=i,this.m_Container.mask=s,this.m_ContainerClone=o,this.m_RowCount=r,this.m_RowHeight=this.m_Container.height/r,this.m_Parameter=a,this.m_Factory=l}return Object.defineProperty(e.prototype,"Type",{get:function(){return this.m_Type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Parameter",{get:function(){return this.m_Parameter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RowCount",{get:function(){return this.m_RowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DisplayRowCount",{get:function(){return this.RowCount+2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this.m_Container.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Leftover",{get:function(){return this.m_Leftover},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FinallyList",{get:function(){return this.m_FinallyList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OverflowY",{get:function(){return this.m_OverflowY},enumerable:!0,configurable:!0}),e.prototype.Perload=function(t){if(null==t){t=[];for(var e=0;e<this.DisplayRowCount;e++)t.push(this.GetRandSymbolCode())}bfcl.Debug.Assert(t.length==this.DisplayRowCount),this.Clear();for(var n=0,i=t;n<i.length;n++){var o=i[n];this.Push(o)}},e.prototype.SetFinallyList=function(t){switch(this.Type){case n.Roll:bfcl.Debug.Assert(t.length==this.DisplayRowCount);break;case n.Drop:bfcl.Debug.Assert(t.length>0&&t.length<=this.DisplayRowCount)}this.m_FinallyList=bfcl.Utils.Array.Clone(t),this.m_Leftover=bfcl.Utils.Array.Clone(t)},e.prototype.MotionBlurModeIfNecessary=function(t){if(this.Parameter.MotionBlur)for(var e=0;e<this.m_Container.numChildren;e++){var n=this.m_Container.getChildAt(e);t>=this.Parameter.MotionBlurSpeed?n.State==this.Parameter.NormalSymbolState&&-1==this.Parameter.ExcludeSymbolCodes.indexOf(n.Code)&&(n.State=this.Parameter.MoveSymbolState):n.State==this.Parameter.MoveSymbolState&&(n.State=this.Parameter.NormalSymbolState)}},e.prototype.GetRowHeight=function(t){return-1==t?this.m_RowHeight:t},e.prototype.SetToTopLayer=function(t){bfcl.Debug.Assert(0==this.m_ContainerClone.numChildren);for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];bfcl.Debug.Assert(o>=0&&o<this.m_Container.numChildren),e.push(this.GetSymbolByRow(o))}for(;e.length>0;)this.m_ContainerClone.addChild(e.splice(0,1)[0])},e.prototype.SetToNormalLayer=function(){if(0!=this.m_ContainerClone.numChildren){for(var t=[];this.m_Container.numChildren>0;)t.push(this.m_Container.removeChildAt(0));for(;this.m_ContainerClone.numChildren>0;)t.push(this.m_ContainerClone.removeChildAt(0));for(t=t.sort(function(t,e){return t.y>e.y?1:t.y<e.y?-1:0});t.length>0;)this.m_Container.addChild(t.splice(0,1)[0])}},e.prototype.GetSymbolByRow=function(t){return bfcl.Debug.Assert(t>=0&&t<this.m_Container.numChildren),this.m_Container.getChildAt(this.RowToIndex(t))},e.prototype.GetInPlacePosList=function(){for(var t=[],e=[],n=0;n<this.m_Container.numChildren;n++){var i=this.GetSymbolByRow(n);i.y<=this.m_Container.height&&(e.push(i.Code),t.push(i))}return bfcl.Debug.Assert(e.length==this.DisplayRowCount),e},e.prototype.GetRandSymbolCode=function(){var t=Math.floor(Math.random()*this.m_Factory.Lib.Count);return this.m_Factory.Lib.SymbolCode(t)},e.prototype.RemoveAt=function(t){bfcl.Debug.Assert(t.length>0),bfcl.Debug.Assert(this.m_Type==n.Drop),bfcl.Debug.Assert(this.m_Container.numChildren>0);for(var e=this.RowsToIndexs(t),i=0,o=e;i<o.length;i++){var s=o[i];this.m_Factory.Recycle(this.m_Container.removeChildAt(s))}},e.prototype.RowToIndex=function(t){return this.m_Container.numChildren-1-t},e.prototype.RowsToIndexs=function(t){var e=[];t.forEach(function(t){-1==e.indexOf(t)&&e.push(t)});for(var n=0;n<e.length;n++)e[n]=this.RowToIndex(e[n]);return e.sort(function(t,e){return e-t})},e.prototype.Clear=function(){for(this.m_Leftover=[],this.m_FinallyList=[];this.m_Container.numChildren>0;)this.m_Factory.Recycle(this.m_Container.removeChildAt(0))},e.prototype.Dispose=function(){this.Clear(),this.m_Factory.Dispose(),this.m_Factory=null,this.m_Container=null},e}();e.BaseContainer=i,__reflect(i.prototype,"slot.Controls.Reel.Containers.BaseContainer",["slot.Interface.IContainer"])}(e=t.Containers||(t.Containers={}))}(e=t.Reel||(t.Reel={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Status=new bfcl.Collections.Dictionary,e.m_Current="",e}return __extends(e,t),Object.defineProperty(e.prototype,"RowHeight",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"State",{get:function(){return this.m_Current},set:function(t){if(this.m_Current!=t){this.m_Current=t;for(var e=0;e<this.m_Status.Count;e++){var n=this.m_Status.GetValuePair(e);n.Key!=this.m_Current?n.Value.Stop():n.Value.Play()}}},enumerable:!0,configurable:!0}),e.prototype.RegisterStatus=function(t,e){this.m_Status.ContainsKey(t)||this.m_Status.Add(t,e)},e.prototype.GetSwitcher=function(t){return bfcl.Debug.Assert(this.m_Status.ContainsKey(t)),this.m_Status.GetValue(t)},e.prototype.Dispose=function(){this.m_Status.Clear(),this.m_Status=null},e}(eui.Component);t.BaseSymbol=e,__reflect(e.prototype,"slot.Controls.Symbol.BaseSymbol",["eui.UIComponent","egret.DisplayObject","slot.Interface.ISymbolUI"])}(e=t.Symbol||(t.Symbol={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(game.Base.Context);t.Context=e,__reflect(e.prototype,"slot.Game.Context")}(e=t.Game||(t.Game={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Clear=function(){t.prototype.Clear.call(this),this.ScoreBar.Clear(),this.BigWin.Clear(),this.Blackboard.Clear()},e}(game.Base.Display);t.Display=e,__reflect(e.prototype,"slot.Game.Display")}(e=t.Game||(t.Game={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(game.Base.Status);t.Status=e,__reflect(e.prototype,"slot.Game.Status")}(e=t.Game||(t.Game={}))}(slot||(slot={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Label=new eui.BitmapLabel,e}return __extends(e,t),e.prototype.Init=function(t){this.m_Label.font=RES.getRes(t),this.addChild(this.m_Label),this.Clear(),this.touchEnabled=!1,this.touchChildren=!1,this.m_Label.text=""},e.prototype.Show=function(t){this.Clear(),this.visible=!0,this.m_Label.alpha=0,this.m_Label.text="x"+t.toString(),egret.Tween.removeTweens(this.m_Label),egret.Tween.get(this.m_Label).to({alpha:1},350)},e.prototype.Hide=function(){this.visible&&(egret.Tween.removeTweens(this.m_Label),egret.Tween.get(this.m_Label).to({alpha:0},350))},e.prototype.Jump=function(){this.visible&&(egret.Tween.removeTweens(this.m_Label),egret.Tween.get(this.m_Label,{loop:!0}).to({scaleX:1.1,scaleY:1.1},350).to({scaleX:1,scaleY:1},350))},e.prototype.Clear=function(){this.visible=!1,this.m_Label.alpha=this.m_Label.scaleX=this.m_Label.scaleY=1,egret.Tween.removeTweens(this.m_Label)},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Label),this.m_Label=null},e}(eui.Component);t.LabelUI=e,__reflect(e.prototype,"game.MineSlot.Controls.Combo.LabelUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Combo||(t.Combo={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var bfcl;!function(t){var e;!function(e){var n;!function(n){var i=function(n){function i(){var i=null!==n&&n.apply(this,arguments)||this;return i.m_BG=new eui.Image,i.m_Scroller=new eui.Scroller,i.m_Bar=new e.VScrollBarUI,i.m_Group=new eui.Group,i.m_Pages=[],i.m_BtnOK=new t.Controls.ButtonUI,i}return __extends(i,n),Object.defineProperty(i.prototype,"LocalizationManager",{set:function(e){t.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(e){t.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Bar.ListenEvent=e,this.m_BtnOK.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?(this.m_BtnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_Scroller.addEventListener(egret.Event.CHANGE,this.OnScrollChanged,this),this.m_Bar.addEventListener(t.Event.VScrollBar.POSITION_CHANGED,this.OnPositionChanged,this)):(this.m_BtnOK.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_Scroller.removeEventListener(egret.Event.CHANGE,this.OnScrollChanged,this),this.m_Bar.removeEventListener(t.Event.VScrollBar.POSITION_CHANGED,this.OnPositionChanged,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_BG.texture=RES.getRes("msg_ui_png"),this.m_Scroller.y=25,this.m_Scroller.width=1570,this.m_Scroller.scrollPolicyH=eui.ScrollPolicy.OFF,this.m_Scroller.viewport=this.m_Group,this.m_Bar.Init({x:-20,width:70}),this.m_Bar.y=this.m_Scroller.y-5,this.m_Bar.x=this.m_Scroller.width-this.m_Bar.width/2,this.m_Scroller.height=this.m_Bar.height,this.m_BtnOK.Init("msg_bestgames_btn00_png","msg_bestgames_btn00_png"),this.m_BtnOK.x=800-this.m_BtnOK.Width/2,this.m_BtnOK.y=760;var t=new eui.Label;t.fontFamily="Bahnschrift",t.text="OK",t.bold=!0,t.size=33,this.m_BtnOK.AddLabel(t),this.addChild(this.m_BG),this.addChild(this.m_Scroller),this.addChild(this.m_Bar),this.addChild(this.m_BtnOK),this.Clear()},i.prototype.AddPage=function(t){if(t.Number=this.m_Pages.length,0==this.m_Group.numChildren)t.y=0;else{var e=this.m_Pages[this.m_Pages.length-1];t.y=e.y+e.Height}t.LocalizationManager=this.m_LocalizationManager,this.m_Pages.push(t),this.m_Group.addChild(t)},i.prototype.Show=function(){this.m_Bar.Weight=1/this.m_Pages.length,this.visible=this.ListenEvent=!0},i.prototype.Hide=function(){this.visible=this.ListenEvent=!1},i.prototype.OnBtnOkClick=function(t){this.m_AudioManager.PlaySound("button01_mp3"),this.Hide()},i.prototype.OnScrollChanged=function(t){this.m_Bar.Position=this.m_Scroller.viewport.scrollV/(this.m_Scroller.viewport.contentHeight-this.m_Pages[0].Height)},i.prototype.OnPositionChanged=function(t){this.m_Scroller.viewport.scrollV=(this.m_Scroller.viewport.contentHeight-this.m_Pages[0].Height)*t.Value},i.prototype.Clear=function(){this.Hide();for(var t=0,e=this.m_Pages;t<e.length;t++){var n=e[t];n.Clear()}},i.prototype.Dispose=function(){for(;this.m_Pages.length>0;){var t=this.m_Pages.splice(0,1)[0];this.m_Group.removeChild(t),t.Dispose(),t=null}this.removeChild(this.m_Scroller),this.removeChild(this.m_Bar),this.removeChild(this.m_BtnOK),this.m_Group=null,this.m_Scroller=null,this.m_Bar.Dispose(),this.m_Bar=null,this.m_BtnOK.Dispose(),this.m_BtnOK=null,this.m_Scroller=null},i}(eui.Component);n.PanelUI=i,__reflect(i.prototype,"bfcl.Controls.Info.PanelUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Info||(e.Info={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Init=function(e,n,i,o){void 0===o&&(o=!1),this.m_Normal=new eui.Image,this.m_Normal.source=RES.getRes(e),this.m_Shine=new eui.Image;var s=RES.getRes(n);this.m_Shine.source=s,this.m_Mask=i,this.m_Loop=o,t.prototype.Init.call(this),this.DistanceX=s.bitmapData.width},e}(t.Base.ShineUI);e.ShineLabelUI=n,__reflect(n.prototype,"bfcl.Controls.Label.ShineLabelUI")}(e=t.Label||(t.Label={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(n){var i=function(n){function i(t){void 0===t&&(t=!0);var i=n.call(this)||this;return i.m_BG=new e.Mask.RectShape(200,50,16777215),i.m_TxtField=new egret.TextField,i.m_NowStr="",i.m_PlzLogin=!1,i.m_PlzLogin=t,i.m_TxtField.type=egret.TextFieldType.INPUT,i.m_TxtField.inputType=egret.TextFieldInputType.TEXT,i.m_TxtField.fontFamily="Bahnschrift",i.m_TxtField.textColor=16756224,i.m_TxtField.width=i.m_BG.Width,i.m_TxtField.height=i.m_BG.Height,i.m_TxtField.bold=!0,i.m_TxtField.size=35,i.m_TxtField.restrict="0-9",i.m_TxtField.textAlign=egret.HorizontalAlign.CENTER,i.m_TxtField.verticalAlign=egret.VerticalAlign.MIDDLE,i.m_TxtField.addEventListener(egret.Event.CHANGE,i.OnTextChanged,i),i.addChild(i.m_BG),i.addChild(i.m_TxtField),i.m_NowStr=i.GetNowStr(),i.x=800-i.m_BG.Width/2,i.y=450-i.m_BG.Height/2,i}return __extends(i,n),i.prototype.createChildren=function(){this.m_PlzLogin||this.dispatchEvent(new t.Event.Login(t.Event.Login.SUCCESS))},i.prototype.GetNowStr=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=e.toString()+n.toString()+i.toString();return egret.log(o),o},i.prototype.OnTextChanged=function(e){e.currentTarget.text==this.m_NowStr&&(egret.log("Login!!"),this.m_TxtField.removeEventListener(egret.Event.CHANGE,this.OnTextChanged,this),this.dispatchEvent(new t.Event.Login(t.Event.Login.SUCCESS)))},i.prototype.Dispose=function(){this.removeChild(this.m_TxtField),this.m_TxtField=null},i}(eui.Component);n.PanelUI=i,__reflect(i.prototype,"bfcl.Controls.Login.PanelUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Login||(e.Login={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.graphics.beginFill(16711680),n.graphics.drawCircle(0,0,e),n.graphics.endFill(),n}return __extends(e,t),e}(egret.Shape);t.CircleShape=e,__reflect(e.prototype,"bfcl.Controls.Mask.CircleShape")}(e=t.Mask||(t.Mask={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=16711680),void 0===o&&(o=1);var s=t.call(this)||this;return s.m_Width=0,s.m_Height=0,s.m_Width=e,s.m_Height=n,s.graphics.beginFill(i,o),s.graphics.drawRect(0,0,s.m_Width,s.m_Height),s.graphics.endFill(),s}return __extends(e,t),Object.defineProperty(e.prototype,"Width",{get:function(){return this.m_Width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this.m_Height},enumerable:!0,configurable:!0}),e}(egret.Shape);t.RectShape=e,__reflect(e.prototype,"bfcl.Controls.Mask.RectShape")}(e=t.Mask||(t.Mask={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t[t.NONE=-1]="NONE",t[t.CONFIRM=0]="CONFIRM",t[t.CANCEL=1]="CANCEL"}(e=t.Buttons||(t.Buttons={}))}(e=t.MessageBoxUI||(t.MessageBoxUI={}))}(e=t.Enum||(t.Enum={}))}(bfcl||(bfcl={})),function(t){var e;!function(e){var n=function(n){function i(){var i=n.call(this)||this;i.m_BG=new eui.Image,i.m_Text=new eui.Label,i.m_BtnGroup=new eui.Group,i.m_Buttons=new t.Collections.Dictionary,i.m_ButtonCodes=new t.Collections.Dictionary,i.m_BG.texture=RES.getRes("msg_bestgames_ui_png"),i.addChild(i.m_BG),i.m_Text.width=i.m_BG.width,i.m_Text.height=150,i.m_Text.y=20,i.m_Text.fontFamily="Bahnschrift",i.m_Text.size=45,i.m_Text.bold=!0,i.m_Text.textAlign=egret.HorizontalAlign.CENTER,i.m_Text.verticalAlign=egret.VerticalAlign.MIDDLE,i.addChild(i.m_Text),i.m_Buttons.Add(t.Enum.MessageBoxUI.Buttons.CONFIRM,new e.ButtonUI),i.m_Buttons.Add(t.Enum.MessageBoxUI.Buttons.CANCEL,new e.ButtonUI),i.m_ButtonCodes.Add(t.Enum.MessageBoxUI.Buttons.CONFIRM,"BUTTON_OK"),i.m_ButtonCodes.Add(t.Enum.MessageBoxUI.Buttons.CANCEL,"BUTTON_CANCEL");var o=new eui.HorizontalLayout;o.horizontalAlign=egret.HorizontalAlign.CENTER,o.gap=40,i.m_BtnGroup.layout=o,i.m_BtnGroup.y=240,i.m_BtnGroup.width=i.m_BG.width;for(var s=0;s<i.m_Buttons.Count;s++){var r=i.m_Buttons.GetValuePair(s),a=r.Value;a.Serial=r.Key,a.Init("msg_bestgames_btn0"+s.toString()+"_png","msg_bestgames_btn0"+s.toString()+"_png");var l=new eui.Label;l.fontFamily="Bahnschrift",l.bold=!0,l.size=33,a.AddLabel(l),a.addEventListener(egret.TouchEvent.TOUCH_TAP,i.OnBtnClick,i)}return i.addChild(i.m_BtnGroup),i.Clear(),i}return __extends(i,n),Object.defineProperty(i.prototype,"LocalizationManager",{set:function(e){t.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=e;for(var n=0;n<this.m_Buttons.Count;n++){var i=this.m_Buttons.GetValuePair(n);this.m_LocalizationManager.Bind(i.Value.Label,t.Constants.Propertys.Text,this.m_ButtonCodes.GetValue(i.Key))}},enumerable:!0,configurable:!0}),i.prototype.OnBtnClick=function(t){for(var e=0,n=this.m_Content.btns;e<n.length;e++){var i=n[e];if(i.id==t.currentTarget.Serial)return i.func(i.id),void(this.visible=!1)}},i.prototype.Show1=function(t,e){this.Clear(),this.m_Content.text.code=t,this.m_Content.text.color=e,this.Refresh()},i.prototype.Show2=function(t,e,n){this.Clear(),this.m_Content.text.code=t,this.m_Content.text.params=e,this.m_Content.text.color=n,this.m_Content.text.isBindLocalization=!0,this.Refresh()},i.prototype.Show3=function(t,e,n){this.Clear(),this.m_Content.text.code=t,this.m_Content.text.color=n,this.m_Content.btns=e,this.Refresh()},i.prototype.Show4=function(t,e,n,i){this.Clear(),this.m_Content.text.code=t,this.m_Content.text.params=n,this.m_Content.text.color=i,this.m_Content.text.isBindLocalization=!0,this.m_Content.btns=e,this.Refresh()},i.prototype.Show99=function(t){this.Clear(),this.m_Content=t,this.Refresh()},i.prototype.Refresh=function(){this.m_Content.text.color&&(this.m_Text.textColor=this.m_Content.text.color),this.m_Content.text.isBindLocalization?this.m_LocalizationManager.Bind(this.m_Text,t.Constants.Propertys.Text,this.m_Content.text.code,this.m_Content.text.params):this.m_Text.text=this.m_Content.text.code.toString();for(var e=0,n=this.m_Content.btns;e<n.length;e++){var i=n[e];this.m_BtnGroup.addChild(this.m_Buttons.GetValue(i.id))}this.visible=!0},i.prototype.Hide=function(){this.Clear()},i.prototype.Clear=function(){for(this.m_Content={text:{code:""}},this.visible=!1,this.m_Text.textColor=16777215,null!=this.m_LocalizationManager&&this.m_LocalizationManager.UnBind(this.m_Text);this.m_BtnGroup.numChildren>0;)this.m_BtnGroup.removeChildAt(0)},i.prototype.Dispose=function(){this.m_Content=null;for(var t=0;t<this.m_Buttons.Count;t++){var e=this.m_Buttons.GetValuePair(t).Value;this.m_BtnGroup.removeChild(e),e.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClick,this),e.Dispose(),e=null}this.m_Buttons.Clear(),this.m_Buttons=null,this.m_ButtonCodes.Clear(),this.m_ButtonCodes=null,this.removeChild(this.m_BtnGroup),this.m_BtnGroup=null,this.removeChild(this.m_BG),this.m_BG=null,this.removeChild(this.m_Text),this.m_Text=null},i}(eui.Component);e.MessageBoxUI=n,__reflect(n.prototype,"bfcl.Controls.MessageBoxUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(e){var n=function(n){function i(){var i=null!==n&&n.apply(this,arguments)||this;return i.m_BG=new eui.Image,i.m_Title=new eui.Label,i.m_BgmBar=new e.SlideBarUI({enabled:"msg_sound_icon00_png",disabled:"msg_sound_icon01_png"},{res:"msg_sound_bar01_png"},{res:"msg_sound_bar02_png"},{res:"msg_sound_bar00_png",x:-18,y:-8}),i.m_SoundBar=new e.SlideBarUI({enabled:"msg_sound_icon02_png",disabled:"msg_sound_icon03_png"},{res:"msg_sound_bar01_png"},{res:"msg_sound_bar02_png"},{res:"msg_sound_bar00_png",x:-18,y:-8}),i.m_BtnOK=new t.Controls.ButtonUI,i}return __extends(i,n),Object.defineProperty(i.prototype,"AudioManager",{set:function(e){t.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"IsMute",{get:function(){return null==this.m_BgmBar||null==this.m_SoundBar?!1:this.m_BgmBar.IsMute&&this.m_SoundBar.IsMute},enumerable:!0,configurable:!0}),i.prototype.SetMuteMode=function(t){this.m_BgmBar.SetMuteMode(t),this.m_SoundBar.SetMuteMode(t),this.Synchronize()},Object.defineProperty(i.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_BgmBar.ListenEvent=this.m_ListenEvent,this.m_SoundBar.ListenEvent=this.m_ListenEvent,this.m_ListenEvent?(this.m_BtnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_BgmBar.addEventListener(t.Event.SlideBar.VALUE_CHANGED,this.OnBgmValueChanged,this),this.m_SoundBar.addEventListener(t.Event.SlideBar.VALUE_CHANGED,this.OnSoundValueChanged,this)):(this.m_BtnOK.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnBtnOkClick,this),this.m_BgmBar.removeEventListener(t.Event.SlideBar.VALUE_CHANGED,this.OnBgmValueChanged,this),this.m_SoundBar.removeEventListener(t.Event.SlideBar.VALUE_CHANGED,this.OnSoundValueChanged,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_BG.texture=RES.getRes("msg_ui_png"),this.m_Title.width=700,this.m_Title.fontFamily="Tahoma",this.m_Title.textColor=16756224,this.m_Title.size=70,this.m_Title.bold=!0,this.m_Title.textAlign=egret.HorizontalAlign.CENTER,this.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,this.m_Title.x=800-this.m_Title.width/2,this.m_Title.y=80,this.m_Title.text="Sound Setting",this.m_BgmBar.x=330,this.m_BgmBar.y=310,this.m_SoundBar.x=330,this.m_SoundBar.y=560,this.m_BtnOK.Init("msg_bestgames_btn00_png","msg_bestgames_btn00_png"),this.m_BtnOK.x=800-this.m_BtnOK.width/2,this.m_BtnOK.y=760;var t=new eui.Label;t.fontFamily="Bahnschrift",t.text="OK",t.bold=!0,t.size=33,this.m_BtnOK.AddLabel(t),this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_BgmBar),this.addChild(this.m_SoundBar),this.addChild(this.m_BtnOK),this.Clear()},i.prototype.Show=function(){this.visible=this.ListenEvent=!0},i.prototype.Synchronize=function(){this.dispatchEvent(new t.Event.Volume(t.Event.Volume.CHANGED,t.Volume.Type.Bgm,this.m_BgmBar.Percent)),this.dispatchEvent(new t.Event.Volume(t.Event.Volume.CHANGED,t.Volume.Type.Sound,this.m_SoundBar.Percent)),this.dispatchEvent(new t.Event.Volume(t.Event.Volume.CHANGED,t.Volume.Type.Voice,this.m_SoundBar.Percent))},i.prototype.Hide=function(){this.visible=this.ListenEvent=!1},i.prototype.OnBtnOkClick=function(e){this.dispatchEvent(new t.Event.SoundSetting(t.Event.SoundSetting.COMFIRM,this.IsMute)),this.m_AudioManager.PlaySound("button01_mp3"),this.Hide()},i.prototype.OnBgmValueChanged=function(e){this.dispatchEvent(new t.Event.Volume(t.Event.Volume.CHANGED,t.Volume.Type.Bgm,e.Value))},i.prototype.OnSoundValueChanged=function(e){this.dispatchEvent(new t.Event.Volume(t.Event.Volume.CHANGED,t.Volume.Type.Sound,e.Value)),this.dispatchEvent(new t.Event.Volume(t.Event.Volume.CHANGED,t.Volume.Type.Voice,e.Value))},i.prototype.Clear=function(){this.m_BgmBar.Percent=1,this.m_SoundBar.Percent=1,this.Hide()},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_BgmBar),this.removeChild(this.m_SoundBar),this.removeChild(this.m_BtnOK),this.m_BG=null,this.m_Title=null,this.m_BgmBar.Dispose(),this.m_BgmBar=null,this.m_SoundBar.Dispose(),this.m_SoundBar=null,this.m_BtnOK.Dispose(),this.m_BtnOK=null},i}(eui.Component);e.SettingPanelUI=n,__reflect(n.prototype,"bfcl.Controls.Sound.SettingPanelUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Sound||(e.Sound={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(n){var i=function(n){function i(t,i,o,s){var r=n.call(this)||this;return r.m_Image=new eui.Image,r.m_IconRes={enabled:RES.getRes(t.enabled),disabled:RES.getRes(t.disabled)},r.m_Image.texture=r.m_IconRes.enabled,r.m_Bar=new e.SlideBarUI(i,o,s),r.m_Bar.x=r.m_Image.width+15,r.m_Bar.y=r.m_Image.height/2-r.m_Bar.height/2,r.m_Bar.Percent=1,r.addChild(r.m_Bar),r.addChild(r.m_Image),r.Clear(),r}return __extends(i,n),Object.defineProperty(i.prototype,"IsMute",{get:function(){return null==this.m_Bar?!1:0==this.m_Bar.Percent},enumerable:!0,configurable:!0}),i.prototype.SetMuteMode=function(t){this.m_Bar.IsMute=t,this.m_Image.texture=t||0==this.m_Bar.Percent?this.m_IconRes.disabled:this.m_IconRes.enabled},Object.defineProperty(i.prototype,"Percent",{get:function(){return this.m_Bar.Percent},set:function(t){this.m_Bar.Percent=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_Bar.ListenEvent=e,this.m_ListenEvent?this.m_Bar.addEventListener(t.Event.SlideBar.VALUE_CHANGED,this.OnValueChanged,this):this.m_Bar.removeEventListener(t.Event.SlideBar.VALUE_CHANGED,this.OnValueChanged,this))},enumerable:!0,configurable:!0}),i.prototype.OnValueChanged=function(e){this.m_Image.texture=0==e.Value?this.m_IconRes.disabled:this.m_IconRes.enabled,this.dispatchEvent(new t.Event.SlideBar(e.type,e.Value))},i.prototype.Clear=function(){this.ListenEvent=!1,this.Percent=0},i.prototype.Dispose=function(){this.removeChild(this.m_Bar),this.removeChild(this.m_Image),this.m_Bar.Dispose(),this.m_Bar=null,this.m_Image=null},i}(eui.Component);n.SlideBarUI=i,__reflect(i.prototype,"bfcl.Controls.Sound.SlideBarUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Sound||(e.Sound={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){function e(t){return new egret.MovieClip(n(t))}function n(t){return i(t).generateMovieClipData()}function i(t){return new egret.MovieClipDataFactory(RES.getRes(t+"_json"),RES.getRes(t+"_png"))}t.MovieClip=e,t.MovieClipData=n,t.MovieClipDataFactory=i}(e=t.Decorator||(t.Decorator={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)||this}return __extends(e,t),e.CLICK="BounceMenu_CLICK",e}(egret.Event);t.BounceMenu=e,__reflect(e.prototype,"bfcl.Event.BounceMenu")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Checked=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Checked",{get:function(){return this.m_Checked},enumerable:!0,configurable:!0}),e.VALUE_CHANGED="CheckBox_VALUE_CHANGED",e}(egret.Event);t.CheckBox=e,__reflect(e.prototype,"bfcl.Event.CheckBox")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Codepage=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Codepage",{get:function(){return this.m_Codepage},enumerable:!0,configurable:!0}),e.CHANGED="CodePage_CHANGED",e}(egret.Event);t.CodePage=e,__reflect(e.prototype,"bfcl.Event.CodePage")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===n&&(n=-1),void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Serial=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),e.UPGRADE="Digits_UPGRADE",e.FINISHED="Digits_FINISHED",e}(egret.Event);t.Digits=e,__reflect(e.prototype,"bfcl.Event.Digits")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Response=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Response",{get:function(){return this.m_Response},enumerable:!0,configurable:!0}),e.COMPLETE="HttpRequest_COMPLETE",e.ERROR="HttpRequest_ERROR",e}(egret.Event);t.HttpRequest=e,__reflect(e.prototype,"bfcl.Event.HttpRequest")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)||this}return __extends(e,t),e.CLICK="Loading_CLICK",e}(egret.Event);t.Loading=e,__reflect(e.prototype,"bfcl.Event.Loading")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)||this}return __extends(e,t),e.SUCCESS="Login_SUCCESS",e}(egret.Event);t.Login=e,__reflect(e.prototype,"bfcl.Event.Login")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var r=t.call(this,e,o,s)||this;return r.m_GameId=n,r.m_Monitorer=i,r}return __extends(e,t),Object.defineProperty(e.prototype,"GameId",{get:function(){return this.m_GameId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Monitorer",{get:function(){return this.m_Monitorer},enumerable:!0,configurable:!0}),e.HttpService="Monitor_HttpService",e}(egret.Event);t.Monitor=e,__reflect(e.prototype,"bfcl.Event.Monitor")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));
var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Value=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),e.VALUE_CHANGED="SlideBar_VALUE_CHANGED",e}(egret.Event);t.SlideBar=e,__reflect(e.prototype,"bfcl.Event.SlideBar")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_IsMute=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"IsMute",{get:function(){return this.m_IsMute},enumerable:!0,configurable:!0}),e.COMFIRM="SoundSetting_COMFIRM",e}(egret.Event);t.SoundSetting=e,__reflect(e.prototype,"bfcl.Event.SoundSetting")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===n&&(n=-1),void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Pass=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Pass",{get:function(){return this.m_Pass},enumerable:!0,configurable:!0}),e.FINISHED="Timer_FINISHED",e.UPDATE="Timer_UPDATE",e}(egret.Event);t.Timer=e,__reflect(e.prototype,"bfcl.Event.Timer")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o,s){void 0===i&&(i=null),void 0===o&&(o=!1),void 0===s&&(s=!1);var r=t.call(this,e,o,s)||this;return r.m_Button=n,r.m_Value=i,r}return __extends(e,t),Object.defineProperty(e.prototype,"Button",{get:function(){return this.m_Button},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),e.BUTTON_CLICK="TopTool_BUTTON_CLICK",e}(egret.Event);t.TopTool=e,__reflect(e.prototype,"bfcl.Event.TopTool")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(){var n=e.call(this)||this;return n.m_HttpServices=new t.Collections.Dictionary,n.addEventListener(t.Event.Monitor.HttpService,n.OnBindAMonitorer,n),n}return __extends(n,e),Object.defineProperty(n,"Instance",{get:function(){return null==this.m_Instance&&(this.m_Instance=new n),this.m_Instance},enumerable:!0,configurable:!0}),n.prototype.OnBindAMonitorer=function(t){this.m_HttpServices.ContainsKey(t.GameId)?this.m_HttpServices.GetValue(t.GameId).push(t.Monitorer):this.m_HttpServices.Add(t.GameId,[t.Monitorer])},n.prototype.Remove=function(t){if(this.m_HttpServices.ContainsKey(t))for(var e=this.m_HttpServices.Remove(t).Value;e.length>0;){var n=e.splice(0,1)[0];null!=n&&(n.Dispose(),n=null)}},n.prototype.Dispose=function(){for(;this.m_HttpServices.Count>0;)this.Remove(this.m_HttpServices.RemoveAt(this.m_HttpServices.Count-1).Key)},n}(egret.EventDispatcher);e.Tracker=n,__reflect(n.prototype,"bfcl.Event.Tracker")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var r=t.call(this,e,o,s)||this;return r.m_Params={},r.m_Params.type=n,r.m_Params.volume=i,r}return __extends(e,t),Object.defineProperty(e.prototype,"Params",{get:function(){return this.m_Params},enumerable:!0,configurable:!0}),e.CHANGED="Volume_CHANGED",e}(egret.Event);t.Volume=e,__reflect(e.prototype,"bfcl.Event.Volume")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Value=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),e.POSITION_CHANGED="VScrollBar_VALUE_CHANGED",e}(egret.Event);t.VScrollBar=e,__reflect(e.prototype,"bfcl.Event.VScrollBar")}(e=t.Event||(t.Event={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(t){t[t.None=0]="None",t[t.Working=1]="Working",t[t.Idle=2]="Idle"}(n||(n={}));var i=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.m_State=n.None,i.m_Sound=new t.Audio.Sound,i.m_ResIndex=-1,i.m_LoopCount=1,i.m_LoopIndex=-1,i.m_Volume=1,i}return __extends(i,e),Object.defineProperty(i.prototype,"IsLoopMode",{get:function(){return this.m_LoopCount<=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Volume",{get:function(){return this.m_Volume},set:function(t){t>this.m_Volume&&t>1&&(t=1),t<this.m_Volume&&0>t&&(t=0),this.m_Volume!=t&&(this.m_Volume=t,this.m_Sound.Volume=t)},enumerable:!0,configurable:!0}),i.prototype.Play=function(t,e){void 0===e&&(e=1),null!=t&&0!=t.length&&(this.Clear(),this.m_Res=t,this.m_LoopCount=e,this.PlayOnce())},i.prototype.PlayOnce=function(){this.RemoveSound(),this.m_ResIndex=(this.m_ResIndex+1)%this.m_Res.length,0==this.m_ResIndex&&this.m_LoopIndex++,this.m_Sound.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.m_Sound.Load(this.m_Res[this.m_ResIndex]),this.m_Sound.Play(),this.m_Sound.Volume=this.m_Volume,this.m_State=n.Working},i.prototype.onSoundComplete=function(t){return this.IsLastResIndex()&&!this.CanNextRound()?(this.RemoveSound(),void this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))):void this.PlayOnce()},i.prototype.IsLastResIndex=function(){return this.m_ResIndex>=this.m_Res.length-1},i.prototype.CanNextRound=function(){return this.IsLoopMode?!0:this.m_LoopIndex<this.m_LoopCount-1},i.prototype.RemoveSound=function(){this.m_Sound.hasEventListener(egret.Event.COMPLETE)&&(this.m_Sound.removeEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.m_Sound.Clear()),this.m_State=n.Idle},i.prototype.Clear=function(){this.RemoveSound(),this.m_State=n.None,this.m_LoopCount=1,this.m_LoopIndex=-1,this.m_ResIndex=-1},i.prototype.Dispose=function(){this.Clear(),this.m_Sound.Dispose(),this.m_Sound=null},i}(egret.EventDispatcher);e.SoundQueue=i,__reflect(i.prototype,"bfcl.Audio.SoundQueue")}(e=t.Audio||(t.Audio={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(n){void 0===n&&(n=1);var i=e.call(this)||this;return i.m_Params=[],i.m_TryCount=1,i.m_IsSending=!1,i.m_ListenEvent=!1,i.m_TryCount=n,i.m_Serial=t.Random.Guid.NewGuid(),i}return __extends(n,e),Object.defineProperty(n.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"JwToken",{set:function(t){this.m_JwToken=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Url",{set:function(e){t.Debug.Assert(e.length>0),this.m_Url=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Params",{set:function(t){this.m_Params=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{set:function(e){t.Debug.Assert(e==egret.HttpMethod.POST||e==egret.HttpMethod.GET),this.m_Method=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SuccessCallback",{set:function(e){t.Debug.Assert(null!=e),this.m_SuccessCallback=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FailureCallback",{set:function(e){t.Debug.Assert(null!=e),this.m_FailureCallback=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_ListenEvent?(this.m_Request.addEventListener(egret.Event.COMPLETE,this.OnComplete,this),this.m_Request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.OnIOError,this),this.m_Request.addEventListener(egret.ProgressEvent.PROGRESS,this.OnProgress,this)):(this.m_Request.removeEventListener(egret.Event.COMPLETE,this.OnComplete,this),this.m_Request.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.OnIOError,this),this.m_Request.removeEventListener(egret.ProgressEvent.PROGRESS,this.OnProgress,this)))},enumerable:!0,configurable:!0}),n.prototype.Send=function(){this.m_IsSending||this.m_TryCount<0||(this.m_TryCount--,null!=this.m_Request&&(this.ListenEvent=!1,this.m_Request=null),this.m_Request=new egret.HttpRequest,this.ListenEvent=!0,this.m_Request.responseType=egret.HttpResponseType.TEXT,this.m_JwToken.trim().length>0&&this.m_Request.setRequestHeader("Authorization","bearer "+this.m_JwToken),this.m_Request.setRequestHeader("Content-Type","application/json"),this.m_Request.open(this.GetUrlStr(),this.m_Method),this.m_Request.send(this.GetSendData()))},n.prototype.GetUrlStr=function(){return this.m_Method==egret.HttpMethod.POST?this.m_Url:this.m_Method==egret.HttpMethod.GET?0==this.m_Params.length?this.m_Url:this.m_Url+"?"+this.m_Params.join("&"):void t.Debug.Assert(!1)},n.prototype.GetSendData=function(){return this.m_Method==egret.HttpMethod.POST?0==this.m_Params.length?"":this.m_Params[0]:this.m_Method==egret.HttpMethod.GET?"":void t.Debug.Assert(!1)},n.prototype.OnComplete=function(t){var e=t.currentTarget;this.m_Request===e&&(this.m_IsSending=!1,this.ListenEvent=!1,this.m_SuccessCallback(e.response))},n.prototype.OnIOError=function(t){var e=t.currentTarget;this.m_Request===e&&(this.m_IsSending=!1,this.ListenEvent=!1,this.m_FailureCallback(t))},n.prototype.OnProgress=function(t){var e=t.currentTarget;this.m_Request!==e},n.prototype.Dispose=function(){null!=this.m_Request&&(this.ListenEvent=!1,this.m_Request=null,this.m_SuccessCallback=null,this.m_FailureCallback=null)},n}(egret.EventDispatcher);e.Task=n,__reflect(n.prototype,"bfcl.Http.Task")}(e=t.Http||(t.Http={}))}(bfcl||(bfcl={}));var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),console.log(kernel.GetVersion()),egret.registerImplementation("eui.IAssetAdapter",new Adapter.AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new Adapter.ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,10,,11]),[3,3];case 1:return n.sent(),[4,new Promise(function(t){return new eui.Theme(kernel.Constants.AssetBundleUrl+"resource/default.thm.json",e.stage).once(eui.UIEvent.COMPLETE,t,e)})];case 2:return n.sent(),[3,6];case 3:return[4,RES.loadConfig("default.res.json","resource/")];case 4:return n.sent(),[4,new Promise(function(t){return new eui.Theme("resource/default.thm.json",e.stage).once(eui.UIEvent.COMPLETE,t,e)})];case 5:n.sent(),n.label=6;case 6:return[4,RES.loadGroup("preload",0)];case 7:return n.sent(),[4,RES.loadGroup("Common",0)];case 8:return n.sent(),[4,RES.loadGroup("Loading",0)];case 9:return n.sent(),[3,11];case 10:return t=n.sent(),console.error(t),[3,11];case 11:return[2]}})})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n=this;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),t=!0,[4,RES.getResByUrl("test.txt")["catch"](function(e){t=!1})];case 2:return i.sent(),e=new bfcl.Controls.Login.PanelUI(t),e.once(bfcl.Event.Login.SUCCESS,function(t){n.stage.removeChild(e),e.Dispose(),e=null,new kernel.Main(n.stage)},this),this.stage.addChild(e),[2]}})})},e}(eui.UILayer);__reflect(Main.prototype,"Main");var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t.UNKOWN=-1,t.EN=437,t.TW=950,t.VN=1258,t.Current=t.TW,t}();t.Codepages=e,__reflect(e.prototype,"bfcl.Constants.Codepages")}(e=t.Constants||(t.Constants={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(t){if(null!=t)for(var e=0,n=t;e<n.length;e++){var i=n[e];this.Register(i.codepage,i.text)}}return t.prototype.Register=function(t,e){this.m_packs=this.m_packs||{},this.m_packs[t]=this.m_packs[t]||{},this.m_packs[t]=e},t.prototype.Search=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=this.m_packs[t][e];if(!o)return"{"+e+"}";if(n.length>0)for(var s=n[0],r=s.length,a=0;r>a;a++)o=o.replace("{"+a+"}",s[a]);return o},t.prototype.Dispose=function(){this.m_packs=null},t}();t.Library=e,__reflect(e.prototype,"bfcl.Localization.Library",["bfcl.Interface.ILibrary"])}(e=t.Localization||(t.Localization={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(n){var i=e.call(this)||this;return i.m_Codepage=t.Constants.Codepages.UNKOWN,i.m_DataBindings=new t.Collections.Dictionary,i.m_Libs=n,t.Event.Tracker.Instance.addEventListener(t.Event.CodePage.CHANGED,i.OnCodepageChanged,i),i}return __extends(n,e),Object.defineProperty(n,"Common",{get:function(){return null==this.m_Common,this.m_Common},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CodePage",{set:function(t){if(this.m_Codepage!=t){this.m_Codepage=t;for(var e=0;e<this.m_DataBindings.Count;e++){var n=this.m_DataBindings.GetValuePair(e);this.SetValue(n.Key,n.Value)}}},enumerable:!0,configurable:!0}),n.prototype.OnCodepageChanged=function(t){this.CodePage=t.Codepage},n.prototype.Bind=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=this.CreateAKeys(t,e),r=this.CreateAParams(n,i);this.m_DataBindings.Add(s,r),this.SetValue(s,r)},n.prototype.CreateAKeys=function(t,e){var n={};return n.ui=t,n.property=e,n},n.prototype.CreateAParams=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i={};i.code=t;var o=e[0];i.arg=[];for(var s=0,r=o;s<r.length;s++){var a=r[s];i.arg.push(a)}return i},n.prototype.UnBind=function(t){for(var e=[],n=0;n<this.m_DataBindings.Count;n++)this.m_DataBindings.GetKey(n).ui===t&&e.push(n);for(var n=e.length-1;n>=0;n--)this.m_DataBindings.RemoveAt(n)},n.prototype.SetValue=function(e,n){if(this.m_Codepage!=t.Constants.Codepages.UNKOWN)if(e.ui instanceof eui.BitmapLabel)e.property==t.Constants.Propertys.Text&&(e.ui.text=this.m_Libs.Search(this.m_Codepage,n.code,n.arg));else if(e.ui instanceof eui.Label)e.property==t.Constants.Propertys.Text&&(e.ui.text=this.m_Libs.Search(this.m_Codepage,n.code,n.arg));else if(e.ui instanceof t.Controls.ButtonUI){var i=this.m_Libs.Search(this.m_Codepage,n.code,n.arg);if(e.property==t.Constants.Propertys.States){var o=i.split(",");e.ui.Skin(o[0],o[1],o[2])}}else if(e.ui instanceof eui.Button){var i=this.m_Libs.Search(this.m_Codepage,n.code,n.arg);if(e.property==t.Constants.Propertys.Label)e.ui.label=i;else if(e.property==t.Constants.Propertys.States){var o=i.split(",");e.ui.getChildAt(0).source=o[0],e.ui.skin.$stateValues.statesMap.down.overrides[0].value=o[1],e.ui.skin.$stateValues.statesMap.disabled.overrides[0].value=o[2]}}else if(e.ui instanceof eui.Image&&e.property==t.Constants.Propertys.Texture){var s=e.ui;s.texture=RES.getRes(this.m_Libs.Search(this.m_Codepage,n.code,n.arg));var r=s.texture;s.height=r.textureHeight,s.width=r.textureWidth}},n.prototype.Dispose=function(){null!=this.m_Libs&&(this.m_Libs.Dispose(),this.m_Libs=null),null!=this.m_DataBindings&&(this.m_DataBindings.Clear(),this.m_DataBindings=null)},n}(egret.EventDispatcher);e.Manager=n,__reflect(n.prototype,"bfcl.Localization.Manager")}(e=t.Localization||(t.Localization={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},t}();t.Guid=e,__reflect(e.prototype,"bfcl.Random.Guid")}(e=t.Random||(t.Random={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t.Roulette=2,t.Texas=3,t.MineSlot=4,t.GetRichSlot=5,t.ChuckySlot=6,t.DiceGame=7,t.Baccarat=8,t.NiuNiu=9,t.BlackJack=10,t.Suibao=11,t.Wild=12,t.DragonZone=13,t.GemWorkshop=14,t.BigBanker=15,t.TexasCompetition=16,t.CroodsSlot=17,t.LaTaiMeiSlot=20,t.Mahjong=22,t.JPFruitsSlot=23,t.FarmSlot=24,t.HaydnBar=25,t.MermaidSlot=26,t.RagnarokSlot=27,t.Crazy7Slot=28,t.Common=999,t}();t.GameIds=e,__reflect(e.prototype,"bfcl.Constants.GameIds")}(e=t.Constants||(t.Constants={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t.Label="label",t.Text="text",t.States="states",t.Texture="texture",t}();t.Propertys=e,__reflect(e.prototype,"bfcl.Constants.Propertys")}(e=t.Constants||(t.Constants={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(e,n){var i=t.call(this)||this;return i.BtnUpRes=e,i.BtnDownRes=n,i}return __extends(e,t),e}(t.BaseProperty);t.BounceProperty=e,__reflect(e.prototype,"bfcl.Property.BounceProperty")}(e=t.Property||(t.Property={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.LoadGroup=e,__reflect(e.prototype,"bfcl.RESS.LoadGroup")}(e=t.RESS||(t.RESS={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(t){var e=function(){function t(){}return t.StrToNumberArray=function(t){for(var e=[],n=t.split(","),i=0,o=n;i<o.length;i++){var s=o[i];e.push(+s)}return e},t.Clone=function(t){var e=[];return t.forEach(function(t){e.push(t)}),e},t.Clone2=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.Clone(t))}),n},t.Copy=function(t){var e=this;t.forEach(function(t){e.push(t)})},t}();t.Array=e,__reflect(e.prototype,"bfcl.Utils.Array")}(e=t.Utils||(t.Utils={}))}(bfcl||(bfcl={}));var demo;!function(t){var e;!function(t){t[t.Loading=0]="Loading",t[t.ReelMachine=1]="ReelMachine",t[t.BigWin=2]="BigWin",t[t.Test=3]="Test",t[t.Button=4]="Button",t[t.ScoreBar=5]="ScoreBar",t[t.SlideBar=6]="SlideBar",t[t.TopTool=7]="TopTool",t[t.Blackboard=8]="Blackboard",t[t.BounceMenu=9]="BounceMenu",t[t.AutoPlay=10]="AutoPlay",t[t.Info=11]="Info",t[t.AudioManager=12]="AudioManager",t[t.SoundSetting=13]="SoundSetting",t[t.VScrollBar=14]="VScrollBar",t[t.MineSlot=15]="MineSlot",t[t.MessageBox=16]="MessageBox"}(e=t.Project||(t.Project={}));var n=function(){function n(t,e){this.runGame(t,e)}return n.prototype.runGame=function(n,i){return __awaiter(this,void 0,void 0,function(){var o,s,r,a,l,h,u,m,c,_,p,d,f,g,S,C,b,v,y,r,a,b,E,b,T,b,I,B,L,L,b,A,h,R,P;return __generator(this,function(D){switch(D.label){case 0:switch(o=i){case e.MessageBox:return[3,1];case e.Button:return[3,2];case e.AudioManager:return[3,4];case e.SoundSetting:return[3,6];case e.VScrollBar:return[3,7];case e.Info:return[3,8];case e.AutoPlay:return[3,10];case e.SlideBar:return[3,11];case e.BounceMenu:return[3,12];case e.Loading:return[3,13];case e.MineSlot:return[3,15];case e.ScoreBar:return[3,17];case e.TopTool:return[3,19];case e.Blackboard:return[3,21];case e.Test:return[3,23];case e.BigWin:return[3,25];case e.ReelMachine:return[3,27]}return[3,29];case 1:return s=new bfcl.Localization.Library,s.Register(bfcl.Constants.Codepages.TW,kernel.Localization.Text.zh_TW()),s.Register(bfcl.Constants.Codepages.VN,kernel.Localization.Text.vi_VN()),s.Register(bfcl.Constants.Codepages.EN,kernel.Localization.Text.en_US()),r=new bfcl.Controls.MessageBoxUI,a=new bfcl.Localization.Manager(s),a.CodePage=bfcl.Constants.Codepages.TW,r.LocalizationManager=a,n.addChild(r),r.x=800-r.width/2,r.y=450-r.height/2,r.Show3("abc測試一下",[{id:bfcl.Enum.MessageBoxUI.Buttons.CONFIRM,func:function(t){egret.log("Click:"+t.toString())}},{id:bfcl.Enum.MessageBoxUI.Buttons.CANCEL,func:function(t){egret.log("Click:"+t.toString())}}]),[2];case 2:return[4,RES.loadGroup("MineSlot_1")];case 3:return D.sent(),l=new bfcl.Controls.LoopButtonUI,l.Init("msg_button_png","msg_button_glow_png","msg_button_start_"),l.SetEnable(!0),l.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){return egret.log(egret.getTimer())},this),n.addChild(l),[2];case 4:return[4,RES.loadGroup("MineSlot_1")];case 5:return D.sent(),h=new bfcl.Audio.Manager,h.PlaySound("ngRoll_mp3",-1),[3,29];case 6:return u=new bfcl.Controls.Sound.SettingPanelUI,u.Init(),u.Show(),n.addChild(u),[3,29];case 7:return m=new bfcl.Controls.VScrollBarUI,m.Init(),m.ListenEvent=!0,n.addChild(m),[3,29];case 8:return[4,RES.loadGroup("MineSlot_1",0,C)];case 9:return D.sent(),c=new bfcl.Controls.Info.PanelUI,c.Init(),c.AddPage(new game.MineSlot.Controls.Info.Page("遊戲說明 1","info_1_png")),c.AddPage(new game.MineSlot.Controls.Info.Page("遊戲說明 2","info_2_png")),n.addChild(c),c.Show(),[3,29];case 10:return _=new slot.Controls.AutoPlay.Panel,_.Init(),_.Show(123456),n.addChild(_),[3,29];case 11:return p=new bfcl.Controls.SlideBarUI({res:"msg_sound_bar01_png"},{res:"msg_sound_bar02_png"},{res:"msg_sound_bar00_png",x:-18,y:-8}),p.x=500,p.y=450,p.ListenEvent=!0,n.addChild(p),[3,29];case 12:return d=[],d.push(new bfcl.Property.BounceProperty("btn_info_png","btn_info_black_png")),d.push(new bfcl.Property.BounceProperty("btn_setting_png","btn_setting_black_png")),f=[],f.push(function(){egret.log("btn info click")}),f.push(function(){egret.log("btn setting click")}),g=new bfcl.Controls.BounceMenuUI,g.Init(d,"bg_01_png"),g.Bind(f),g.x=800,g.y=450,egret.Tween.get(g).wait(1500).call(function(){g.Show()}),egret.Tween.get(g).wait(3e3).call(function(){g.Hide()}),n.addChild(g),[3,29];case 13:return S=new bfcl.Controls.WaittingUI,S.Init(),S.Show(),n.addChild(S),[3,29];case 14:return D.sent(),C.Finished(),C.once(egret.TouchEvent.TOUCH_TAP,function(){C.Clear(),n.removeChild(C);var t=new eui.Image;t.width=n.stageWidth,t.height=n.stageHeight,t.source=RES.getRes("ng_bg_01_png"),n.addChild(t)},this),[3,29];case 15:return[4,RES.loadGroup("MineSlot_1")];case 16:return D.sent(),n.addChild(new t.MineSlot),[3,29];case 17:return[4,RES.loadGroup("MineSlot_1")];case 18:return D.sent(),b=new eui.Image,b.width=n.stageWidth,b.height=n.stageHeight,b.source=RES.getRes("ng_bg_01_png"),v=new slot.Controls.ScoreBarUI,n.addChild(b),n.addChild(v),v.Init(100,1e3,100),v.BtnEnables=slot.Enum.ScoreBarUI.Buttons.MENU|slot.Enum.ScoreBarUI.Buttons.MINUS_BET|slot.Enum.ScoreBarUI.Buttons.PLUS_BET,y=new bfcl.Localization.Library,y.Register(bfcl.Constants.Codepages.TW,kernel.Localization.Text.zh_TW()),y.Register(bfcl.Constants.Codepages.VN,kernel.Localization.Text.vi_VN()),y.Register(bfcl.Constants.Codepages.EN,kernel.Localization.Text.en_US()),r=new bfcl.Controls.MessageBoxUI,a=new bfcl.Localization.Manager(y),a.CodePage=bfcl.Constants.Codepages.VN,v.LocalizationManager=a,[3,29];case 19:return[4,RES.loadGroup("MineSlot_1")];case 20:return D.sent(),b=new eui.Image,b.width=n.stageWidth,b.height=n.stageHeight,b.source=RES.getRes("ng_bg_01_png"),E=new bfcl.Controls.TopToolUI,n.addChild(b),n.addChild(E),[3,29];case 21:return[4,RES.loadGroup("MineSlot_1")];case 22:return D.sent(),b=new eui.Image,b.width=n.stageWidth,b.height=n.stageHeight,b.source=RES.getRes("ng_bg_01_png"),T=new slot.Controls.BlackboardSwitcherUI,T.Init(new slot.Property.BlackboardSwitcherProperty),T.addEventListener(bfcl.Event.Digits.FINISHED,function(){egret.log("bfcl.Event.Digits.FINISHED")},this),T.addEventListener(slot.Event.Blackboard.CLICK,function(){egret.log("slot.Event.Blackboard.CLICK"),T.Hide()},this),T.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,function(t){switch(t.State){case slot.Event.Blackboard.STATE_SHOW:T.CurMode==slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT&&T.SetNumber(123456789);break;case slot.Event.Blackboard.STATE_HIDE:T.CurMode==slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE?(T.Clear(),T.ListenEvent=!0,T.Show(slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT)):(T.Clear(),T.ListenEvent=!0,T.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),T.SetNumber(5,!0))}},this),egret.Tween.get(this).wait(1e3).call(function(){T.ListenEvent=!0,T.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),T.CurMode==slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE&&T.SetNumber(5,!0)}),n.addChild(b),n.addChild(T),[3,29];case 23:return[4,RES.loadGroup("MineSlot_1")];case 24:return D.sent(),b=new eui.Image,b.width=n.stageWidth,b.height=n.stageHeight,b.source=RES.getRes("ng_bg_01_png"),I=new dragonBones.EgretFactory,I.parseDragonBonesData(RES.getRes("Public_MSG_ske_json")),I.parseTextureAtlasData(RES.getRes("Public_MSG_tex_json"),RES.getRes("Public_MSG_tex_png")),B=I.buildArmatureDisplay("Armature"),B.x=n.stageWidth/2,B.y=n.stageHeight/2,B.addEventListener(dragonBones.EventObject.START,function(t){console.log("armature START")},this),B.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,function(t){console.log("armature LOOP_COMPLETE")},this),egret.Tween.get(this).wait(1500).call(function(){console.log("armature Superwin_Start"),B.animation.gotoAndPlayByFrame("Superwin_Start")}),n.addChild(B),L=new particle.GravityParticleSystem(RES.getRes("BG_PtsLight_Green_png"),RES.getRes("BG_PtsLight_Green_json")),L.start(),L.emitterX=n.stageWidth/2,L.emitterY=n.stageHeight/2,[3,29];case 25:return[4,RES.loadGroup("MineSlot_1")];case 26:return D.sent(),b=new eui.Image,b.width=n.stageWidth,b.height=n.stageHeight,b.source=RES.getRes("ng_bg_01_png"),A=new bfcl.Localization.Library,A.Register(bfcl.Constants.Codepages.TW,kernel.localization.Sound.zh_TW()),A.Register(bfcl.Constants.Codepages.EN,kernel.localization.Sound.en_US()),A.Register(bfcl.Constants.Codepages.VN,kernel.localization.Sound.vi_VN()),h=new bfcl.Audio.Manager(A),R=new slot.Controls.BigWinUI,R.once(slot.Event.BigWin.TRAN_FINISHED,function(t){egret.log("TRAN_FINISHED")},this),R.once(slot.Event.BigWin.SHOW_FINISHED,function(t){egret.log("TRAN_FINISHED")},this),R.Init(),R.AudioManager=h,P=new eui.Button,P.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){R.Show(100,1e4)},this),n.addChild(b),n.addChild(R),n.addChild(P),bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,bfcl.Constants.Codepages.TW)),[3,29];case 27:return[4,RES.loadGroup("MineSlot_1")];case 28:return D.sent(),n.addChild(new t.ReelMachine.Main),[3,29];case 29:return[2]}})})},n}();t.Main=n,__reflect(n.prototype,"demo.Main")}(demo||(demo={}));var demo;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/haydn_skins/mineSlot/MainSkin.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.m_GpFreeSpin.visible=!1,this.m_ReelMachine=new game.MineSlot.Controls.ReelMachineUI(280,220),this.m_GpMainSpin.addChild(this.m_ReelMachine);var e=new game.MineSlot.Controls.Combo.ScoreUI;e.Init(),e.Show(11111,1),egret.Tween.get(e).wait(2100).call(function(){e.Show(22222,1)}),this.addChild(e)},e.prototype.GetSymbolParams=function(){for(var t=3,e=[],n=0;t>n;n++){var i={};i.reelNum=Math.floor(5*Math.random()),i.rowNum=Math.floor(4*Math.random()),i.point=new egret.Point(200+200*i.reelNum,200+100*i.rowNum),e.push(i)}return e},e}(eui.Component);t.MineSlot=e,__reflect(e.prototype,"demo.MineSlot",["eui.UIComponent","egret.DisplayObject"])}(demo||(demo={}));var demo;!function(t){var e;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.skinName="resource/haydn_skins/mineSlot/MainSkin.exml",t}return __extends(n,e),n.prototype.childrenCreated=function(){var n=this;e.prototype.childrenCreated.call(this),this.m_GpFreeSpin.visible=!1,this.m_ReelMachine=new t.ReelMachineUI(280,220),this.m_ReelMachine.addEventListener(slot.Event.Reel.ALL_ROLLING,function(){egret.Tween.get(n).wait(0).call(n.OnCallStop)},this),this.m_ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,function(){egret.Tween.get(n).wait(0).call(n.OnCallRoll)},this),this.m_GpMainSpin.addChild(this.m_ReelMachine),this.OnCallRoll()},n.prototype.OnCallStop=function(){this.m_ReelMachine.StopAll()},n.prototype.OnCallRoll=function(){this.m_ReelMachine.Roll()},n}(eui.Component);t.Main=e,__reflect(e.prototype,"demo.ReelMachine.Main",["eui.UIComponent","egret.DisplayObject"])}(e=t.ReelMachine||(t.ReelMachine={}))}(demo||(demo={}));var demo;!function(t){var e;!function(e){var n=function(e){function n(t,n){for(var i=e.call(this,game.MineSlot.Config.Reel.ReelCount)||this,o=0;o<game.MineSlot.Config.Reel.ReelCount;o++)i.Push(i.GenerateAReel(o),t,n);return i.SetStartGapBetweenReel(100),i.SetStopGapBetweenReel(0),i}return __extends(n,e),Object.defineProperty(n.prototype,"IsSpinning",{get:function(){return this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLING||this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLED},enumerable:!0,configurable:!0}),n.prototype.Init=function(t,e){for(var n=t.split(","),i=e.split(","),o=0;o<game.MineSlot.Config.Reel.ReelCount;o++){var s=[];s.push(+i[o]);for(var r=0;r<game.MineSlot.Config.Reel.RowCount;r++)s.push(+n[r*game.MineSlot.Config.Reel.ReelCount+o]);s.push(+i[o+game.MineSlot.Config.Reel.ReelCount]),this.GetReel(o).Perload(s)}},n.prototype.GenerateAReel=function(e){var n=new t.ReelMachine.ReelUI,i=new slot.Library.SymbolLibrary;return i.Register(game.MineSlot.Enum.SymbolCodes.Miner,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Miner,"Icon_01_png","icon_01_blur_png","Icon_01_Sequence",2.5,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Supervisor,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Supervisor,"Icon_02_png","icon_02_blur_png","Icon_02_Sequence",2.5,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Diamond_Red,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Diamond_Red,"Icon_03_png","icon_03_blur_png","Icon_03_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Diamond_Yellow,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Diamond_Yellow,"Icon_04_png","icon_04_blur_png","Icon_04_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Diamond_Blue,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Diamond_Blue,"Icon_05_png","icon_05_blur_png","Icon_05_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Word_A,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Word_A,"Icon_07_png","icon_07_blur_png","Icon_07_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Word_K,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Word_K,"Icon_08_png","icon_08_blur_png","Icon_08_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Word_Q,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Word_Q,"Icon_09_png","icon_09_blur_png","Icon_09_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.Wild,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.Wild,"Icon_12_png","icon_12_blur_png","Icon_12_Sequence",3,24,195)),i.Register(game.MineSlot.Enum.SymbolCodes.FreeGame,new game.MineSlot.Property.SymbolProperty(game.MineSlot.Enum.SymbolCodes.FreeGame,"icon_13_png","icon_13_blur_png","Icon_13_Sequence",3,24,195)),n.Init(e,4,i),n},n.prototype.Roll=function(){for(var t=Math.floor(5*Math.random())+1,n=[],i=[],o=0;t>o;o++){for(var s=-1;;)if(s=Math.floor(5*Math.random()),-1==i.indexOf(s))break;i.push(s);var r=new slot.Property.ActionScript;r.Type=0==Math.floor(2*Math.random())?slot.Controls.Reel.Containers.Types.Roll:slot.Controls.Reel.Containers.Types.Drop;var a=r.Type==slot.Controls.Reel.Containers.Types.Roll?6:Math.floor(5*Math.random())+1;if(r.ReelNum=s,r.StopPosList=this.GetDemoSymbolCodes(a),r.Type==slot.Controls.Reel.Containers.Types.Drop){for(var l=[],h=0;a>h;h++)for(;;){var u=Math.floor(6*Math.random());if(-1==l.indexOf(u)){l.push(u);break}}r.RemovePosList=l}n.push(r)}this.m_ActionScript=n,e.prototype.Roll.call(this)},n.prototype.GetDemoSymbolCodes=function(t){void 0===t&&(t=6);for(var e=[game.MineSlot.Enum.SymbolCodes.Miner,game.MineSlot.Enum.SymbolCodes.Supervisor,game.MineSlot.Enum.SymbolCodes.Diamond_Red,game.MineSlot.Enum.SymbolCodes.Diamond_Yellow,game.MineSlot.Enum.SymbolCodes.Diamond_Blue,game.MineSlot.Enum.SymbolCodes.Word_Q,game.MineSlot.Enum.SymbolCodes.Word_K,game.MineSlot.Enum.SymbolCodes.Word_A,game.MineSlot.Enum.SymbolCodes.Wild,game.MineSlot.Enum.SymbolCodes.FreeGame],n=[],i=0;t>i;i++){var o=Math.floor(Math.random()*e.length);
n.push(e[o])}return n},n.prototype.ShowWin=function(t){},n}(slot.Controls.Reel.Machine);e.ReelMachineUI=n,__reflect(n.prototype,"demo.ReelMachine.ReelMachineUI")}(e=t.ReelMachine||(t.ReelMachine={}))}(demo||(demo={}));var demo;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/haydn_skins/mineSlot/ReelSkin.exml",e}return __extends(e,t),e.prototype.Init=function(t,e,n){this.DefaultContainerType=slot.Controls.Reel.Containers.Types.Roll,this.ReelNum=t,this.ReelWidth=this.m_BgGroup.width,this.touchEnabled=!1,this.touchChildren=!1,this.RegisterContainer(new slot.Controls.Reel.Containers.RollContainer(slot.Controls.Reel.Containers.Types.Roll,this.m_BgGroup,this.m_FgGroup,this.m_Mask,e,this.RollParameter(),new slot.Controls.SymbolUIFactory(n,game.MineSlot.Controls.SymbolUI))),this.RegisterContainer(new slot.Controls.Reel.Containers.DropContainer(slot.Controls.Reel.Containers.Types.Drop,this.m_BgGroup,this.m_FgGroup,this.m_Mask,e,this.RollParameter(),new slot.Controls.SymbolUIFactory(n,game.MineSlot.Controls.SymbolUI))),this.Perload()},e.prototype.RollParameter=function(){var t=new slot.Controls.Reel.Parameter;return t.SetMotionBlur(t.MaxSpeed,game.MineSlot.Controls.SymbolUI.STATUS_NORMAL,game.MineSlot.Controls.SymbolUI.STATUS_BLUR,[game.MineSlot.Enum.SymbolCodes.FreeGame]),t},e.prototype.DropParameter=function(){var t=new slot.Controls.Reel.Parameter;return t.RollBackFactor=0,t.RollOscillationFactor=1,t.FrameRatePerSec=3.5,t.AccelerationInterval=.25,t},e.prototype.Dispose=function(){t.prototype.Dispose.call(this),this.removeChild(this.m_BgGroup),this.removeChild(this.m_FgGroup),this.m_BgGroup=null,this.m_FgGroup=null},e}(slot.Controls.Reel.BaseReel);t.ReelUI=e,__reflect(e.prototype,"demo.ReelMachine.ReelUI")}(e=t.ReelMachine||(t.ReelMachine={}))}(demo||(demo={}));var bfcl;!function(t){var e;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.STATE_HIDE=0,t.STATE_SHOW=1,t.m_Group=new eui.Group,t.m_BG=new eui.Image,t.m_ContainerWidth=0,t.m_ContainerHeight=0,t.m_Buttons=[],t.m_Propertys=[],t.m_BtnFuncs=[],t.m_State=t.STATE_HIDE,t}return __extends(i,n),Object.defineProperty(i.prototype,"IsShow",{get:function(){return this.m_State==this.STATE_SHOW},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(e){t.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){if(this.m_ListenEvent!=t){this.m_ListenEvent=t;for(var e=0,n=this.m_Buttons;e<n.length;e++){var i=n[e];this.m_ListenEvent?i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClick,this):i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClick,this)}}},enumerable:!0,configurable:!0}),i.prototype.Init=function(t,n,i){void 0===i&&(i=5),this.m_Propertys=t,this.m_ContainerHeight+=i;for(var o=0;o<t.length;o++){var s=t[o],r=new e.ButtonUI;r.name=o.toString(),r.Init(s.BtnUpRes,s.BtnDownRes),r.y=this.m_ContainerHeight,r.touchEnabled=!0,this.m_Buttons.push(r),this.m_Group.addChild(r);var a=RES.getRes(s.BtnUpRes);this.m_ContainerHeight+=a.bitmapData.height+i,a.bitmapData.width>this.m_ContainerWidth&&(this.m_ContainerWidth=a.bitmapData.width)}this.m_Mask=new e.Mask.RectShape(this.m_ContainerWidth,this.m_ContainerHeight+100),this.m_Mask.y=-this.m_Mask.Height,this.m_Group.mask=this.m_Mask,this.m_BG.texture=RES.getRes(n),this.m_Group.addChildAt(this.m_BG,0),this.m_BG.touchEnabled=!1,this.m_Group.touchEnabled=!1,this.m_Mask.touchEnabled=!1,this.addChild(this.m_Mask),this.addChild(this.m_Group),this.Clear()},i.prototype.Bind=function(t){this.m_BtnFuncs=t},i.prototype.Show=function(t){return void 0===t&&(t=!1),this.m_State!=this.STATE_SHOW?(this.m_State=this.STATE_SHOW,this.ListenEvent=!0,this.RemoveTween(),t?void(this.m_Group.y=-this.m_ContainerHeight):void egret.Tween.get(this.m_Group).set({y:0}).to({y:-this.m_ContainerHeight},500,egret.Ease.backOut)):void 0},i.prototype.Hide=function(t){return void 0===t&&(t=!1),this.m_State!=this.STATE_HIDE?(this.m_State=this.STATE_HIDE,this.ListenEvent=!1,this.RemoveTween(),t?void(this.m_Group.y=0):void egret.Tween.get(this.m_Group).set({y:-this.m_ContainerHeight}).to({y:0},250)):void 0},i.prototype.RemoveTween=function(){egret.Tween.removeTweens(this.m_Group)},i.prototype.PlaySound=function(t){null!=this.m_AudioManager&&this.m_AudioManager.PlaySound(t)},i.prototype.OnBtnClick=function(e){this.dispatchEvent(new t.Event.BounceMenu(t.Event.BounceMenu.CLICK)),this.PlaySound("button01_mp3"),this.Hide(),this.m_BtnFuncs[+e.currentTarget.name]()},i.prototype.Clear=function(){this.ListenEvent=!1,this.Hide(!1)},i.prototype.Dispose=function(){for(this.Clear();this.m_Buttons.length>0;){var e=this.m_Buttons.splice(0,1)[0];this.m_Group.removeChild(e)}this.m_Buttons=null,this.m_Group.removeChild(this.m_BG),this.m_BG=null,t.Debug.Assert(0==this.m_Group.numChildren),this.removeChild(this.m_Group),this.removeChild(this.m_Mask),this.m_Group=null,this.m_Mask=null},i}(eui.Component);e.BounceMenuUI=n,__reflect(n.prototype,"bfcl.Controls.BounceMenuUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(t,n){void 0===t&&(t="msg_autoplay_selectframe_png"),void 0===n&&(n="msg_autoplay_check_png");var i=e.call(this)||this;i.Label=new eui.Label,i.m_BG=new eui.Image,i.m_Tick=new eui.Image,i.m_Checked=!1;var o=RES.getRes(t);return i.m_BG.texture=RES.getRes(t),i.m_Tick.texture=RES.getRes(n),i.m_Tick.touchEnabled=!1,i.Label.x=o.bitmapData.width+15,i.Label.fontFamily="Tahoma",i.Label.textColor=16756224,i.Label.size=35,i.Label.textAlign=egret.HorizontalAlign.LEFT,i.Label.verticalAlign=egret.VerticalAlign.MIDDLE,i.Label.text="",i.Label.touchEnabled=!1,i.addChild(i.m_BG),i.addChild(i.m_Tick),i.addChild(i.Label),i}return __extends(n,e),Object.defineProperty(n.prototype,"Checked",{get:function(){return this.m_Checked},set:function(t){this.m_Checked=t,this.m_Tick.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_BG.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?this.m_BG.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this):this.m_BG.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this))},enumerable:!0,configurable:!0}),n.prototype.OnItemClick=function(e){this.Checked=!this.Checked,this.dispatchEvent(new t.Event.CheckBox(t.Event.CheckBox.VALUE_CHANGED,this.m_Checked))},n.prototype.Clear=function(){this.Checked=!1},n.prototype.Dispose=function(){this.removeChild(this.m_BG),this.removeChild(this.m_Tick),this.removeChild(this.Label),this.m_BG=null,this.m_Tick=null,this.Label=null},n}(eui.Component);e.CheckBoxUI=n,__reflect(n.prototype,"bfcl.Controls.CheckBoxUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var Adapter;!function(t){var e=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?i(o):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();t.AssetAdapter=e,__reflect(e.prototype,"Adapter.AssetAdapter",["eui.IAssetAdapter"])}(Adapter||(Adapter={}));var Adapter;!function(t){var e=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),n.call(i))}var r=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(i,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var l=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(i,generateJSON.paths[t])},this):RES.getResByUrl(l,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){e.call(i,generateJSON.paths[t])},r)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();t.ThemeAdapter=e,__reflect(e.prototype,"Adapter.ThemeAdapter",["eui.IThemeAdapter"])}(Adapter||(Adapter={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,bfcl.Constants.GameIds.MineSlot,n.Request,n.Response)||this}return __extends(n,e),Object.defineProperty(n.prototype,"JwToken",{get:function(){return t.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/get_last_mine_slot_init"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);e.Init=n,__reflect(n.prototype,"game.MineSlot.API.Init")}(e=t.API||(t.API={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={})),function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game_type=bfcl.Constants.GameIds.MineSlot,e}return __extends(e,t),e}(bfcl.Http.Data.Request);t.Request=e,__reflect(e.prototype,"game.MineSlot.API.Init.Request");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Response);t.Response=n,__reflect(n.prototype,"game.MineSlot.API.Init.Response");var i=function(){function t(){}return t}();t.BetInfo=i,__reflect(i.prototype,"game.MineSlot.API.Init.BetInfo")}(e=t.Init||(t.Init={}))}(e=t.API||(t.API={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.GetGameInfo=function(t,e){var n='{"user_amt":393877261,"slot":"73,67,72,67,71,69,67,67,65,68,72,65,89,72,65,73,65,66,68,73","demo_slot":"69,71,71,72,69,67,67,65,71,67","bonus_slot":"69,67,66,71,72,69,71,65,66,72,68,73,67,90,73,69,66,71,67,73","bonus_demo_slot":"71,73,65,90,73,67,72,72,90,68","odds":"1,1,1,1,7,1,1,1","bonus_odds":"1,11,7,19,1,1,1,1","machine_id":735,"user_level_bet":{"bet_gap":100,"bet_min":100,"bet_max":3000},"fg_round":5,"history":[0,0,0,0,0,0],"round":485,"in_amt":107500,"out_amt":43373262,"status_code":"SUCCESS"}';return void t(bfcl.Http.Data.Response.Deserialize(n))},t.GetSlotDesc=function(t,e){var n='{"all_win_amt":42028,"bonus":[{"Odds":"1,1,1,1,1,1,1,1,17,14,6,18,1,7,8,19,14,1,7,1,1,7,1,1,1,1,1,17,1,1,1,1","Reels":[["584","585","72"],["585","583","579","90"],["580","67","579","67"],["581","602","65"],["66"],["580","72"],["602","65"],["602","65"],["580","65"],["585","585","67"],["578","583","71"],["581","585","68"],["578","585","66"],["585","68"],["581","66"],["584","67","579","69"],["71","583","66"],["578","583","66"],["584","602","69"],["584","68"]],"reels_handle":[["72","73","72"],["73","71","67","90"],["68","67","67"],["69","90","65"],["66"],["68","72"],["90","65"],["90","65"],["68","65"],["73","73","67"],["66","71","71"],["69","73","68"],["66","73","66"],["73","68"],["69","66"],["72","67","69"],["71","66"],["66","71","66"],["72","90","69"],["72","68"]],"WinAmts":"154,768,8,0"},{"Odds":"1,1,1,1,1,1,1,1,1,8,1,1,13,13,13,18,1,1,1,1,1,12,1,1,9,1,1,1,1,10,1,1,10,1,1,1,1,17,1,20,1,1,1,1,1,18,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,14,1,1,13,1,1,15,1,1,1,1,1,11,18,1,1,1,1,1","Reels":[["67","579","583","68","580","65"],["585","72","584","72"],["66","578","69"],["577","65","577","585","602","71"],["579","72"],["585","72","584","67"],["577","602","602","583","602","66","578","580","71"],["577","585","579","583","73","585","73"],["602","585","69"],["579","585","579","578","583","577","585","578","66"],["72","584","67"],["69"],["66","578","583","68","580","602","66"],["66","578","602","577","71"],["577","72"],["68","580","65"],["69"],["602","65","577","66","578","580","68"],["577","585","602","583","73","585","578","69"],["580","71","583","72"]],"reels_handle":[["67","71","68","65"],["73","72","72"],["66","69"],["65","65","73","90","71"],["67","72"],["73","72","67"],["65","90","90","71","90","66","68","71"],["65","73","67","71","73","73"],["90","73","69"],["67","73","67","66","71","65","73","66","66"],["72","67"],["69"],["66","71","68","90","66"],["66","90","65","71"],["65","72"],["68","65"],["69"],["90","65","66","68","68"],["65","73","90","71","73","66","69"],["68","71","72"]],"WinAmts":"170,104,624,440,136,432,40,200,24,6,0"},{"Odds":"1,1,1,1,1,1,1,1,1,1,1,1,1,8,5,14,1,9,1,1,1,16,16,1,1,1,1,8,1,1,1,1","Reels":[["71"],["584","581","69"],["69","581","67"],["69","581","71"],["68"],["69","581","67"],["71"],["584","578","72"],["585","602","72"],["585","578","71"],["65"],["65"],["585","584","580","68"],["585","73"],["584","584","68"],["68","580","72"],["68","580","65"],["67"],["584","67"],["585","68"]],"reels_handle":[["71"],["72","69","69"],["69","67"],["69","71"],["68"],["69","67"],["71"],["72","66","72"],["73","90","72"],["73","66","71"],["65"],["65"],["73","72","68","68"],["73","73"],["72","72","68"],["68","72"],["68","65"],["67"],["72","67"],["73","68"]],"WinAmts":"14,115,6,0"},{"Odds":"1,1,1,1,1,1,1,1,6,12,10,1,9,1,19,1,1,1,1,5,1,1,1,1,9,1,1,1,1,1,1,1,8,15,12,1,1,1,1,1,10,20,19,1,1,1,1,1","Reels":[["578","71","583","579","585","71"],["578","602","67","579","602","68"],["68","580","68"],["581","65","577","580","66"],["581","71"],["578","67","579","580","73"],["65","577","580","90"],["72","584","583","602","585","66"],["72","584","73","585","73"],["71"],["581","65","577","578","65"],["578","602","602","73","585","68"],["602","66","578","66"],["73","585","73"],["581","69"],["72","584","72"],["581","68","580","71"],["581","68","580","69"],["72","584","65","577","71"],["71"]],"reels_handle":[["66","71","67","73","71"],["66","90","67","90","68"],["68","68"],["69","65","68","66"],["69","71"],["66","67","68","73"],["65","68","90"],["72","71","90","73","66"],["72","73","73"],["71"],["69","65","66","65"],["66","90","90","73","68"],["90","66","66"],["73","73"],["69","69"],["72","72"],["69","68","71"],["69","68","69"],["72","65","71"],["71"]],"WinAmts":"280,24,4,128,1328,0"},{"Odds":"1,1,1,1,1,1,1,1,1,1,1,1,9,16,1,15,17,1,16,1,1,1,1,1,14,1,19,14,1,1,13,5,1,1,1,6,20,19,1,6,1,15,10,1,1,7,9,1,16,7,17,12,5,16,10,19","Reels":[["67","579","583","68","580","68"],["71","583","577","602","602","68"],',i='["584","579","67","579","578","72"],["602","66","578","602","67"],["584","67","579","69","581","71"],["73","585","581","66"],["67","579","580","66","578","602","73"],["581","579","602","72"],["581","71","583","69","581","68"],["581","67","579","577","583","69"],["67","579","583","66","578","578","68"],["578","72"],["578","73","585","602","69"],["602","69","581","579","577","65"],["71","583","65","577","579","66"],["68","580","577","67","579","67"],["71","583","66","578","73"],["65","577","577","72"],["578","72"],["578","69","581","579","67","579","67"]],"reels_handle":[["67","71","68","68"],["71","65","90","90","68"],["72","67","67","66","72"],["90","66","90","67"],["72","67","69","71"],["73","69","66"],["67","68","66","90","73"],["69","67","90","72"],["69","71","69","68"],["69","67","65","71","69"],["67","71","66","66","68"],["66","72"],["66","73","90","69"],["90","69","67","65","65"],["71","65","67","66"],["68","65","67","67"],["71","66","73"],["65","65","72"],["66","72"],["66","69","67","67","67"]],"WinAmts":"81,32,1691,224,542,3608,0"},{"Odds":"1,1,1,1,1,1,1,1,18,1,1,1,12,9,16,6,6,1,1,1,10,17,1,18,1,1,1,1,1,14,16,5","Reels":[["585","578","69"],["585","71"],["68","580","71"],["66","578","581","65"],["577","578","67"],["68"],["72","584","68"],["66","578","602","65"],["66","578","585","67"],["579","580","584","66"],["68"],["72","584","68"],["602","65"],["577","602","584","65"],["577","69","581","73"],["67"],["66","578","584","90"],["579","71"],["602","65"],["583","580","585","73"]],"reels_handle":[["73","66","69"],["73","71"],["68","71"],["66","69","65"],["65","66","67"],["68"],["72","68"],["66","90","65"],["66","73","67"],["67","68","72","66"],["68"],["72","68"],["90","65"],["65","90","72","65"],["65","69","73"],["67"],["66","72","90"],["67","71"],["90","65"],["71","68","73","73"]],"WinAmts":"72,5490,347,0"},{"Odds":"1,1,1,1,1,1,1,1,20,1,10,18,1,1,1,1,1,1,1,1,1,1,6,1","Reels":[["579","73"],["580","65"],["71"],["73"],["69"],["73"],["581","66"],["580","68"],["580","584","66"],["65"],["581","72"],["602","68"],["579","584","65"],["579","73"],["72","584","69"],["580","66"],["581","73"],["581","69"],["72","584","72"],["66"]],"reels_handle":[["67","73"],["68","65"],["71"],["73"],["69"],["73"],["69","66"],["68","68"],["68","72","66"],["65"],["69","72"],["90","68"],["67","72","65"],["67","73"],["72","69"],["68","66"],["69","73"],["69","69"],["72","72"],["66"]],"WinAmts":"55,6,0"},{"Odds":"1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,9,1,1,1,1,1,1,14,6,7,6,1,1,7,14,6,16,14,16,1,17,1,1,10,17,1,1,1,1,1,1,14,1,18,11,1,1,1,1,1,1,19,1,1,6,1,10,1,1,14,12,18,1,1,18,1,1,1,1,1,1,10,1,5,15,1,1,1,1,1,1","Reels":[["65","577","578","581","580","67","579","69"],["66","578","585","578","72","584","584","578","66"],["65","577","602","581","584","584","68"],["73","585","68","580","66","578","72"],["67","579","65"],["581","578","577","577","581","67","579","72"],["581","68","580","69","581","68"],["68","580","602","578","581","72"],["602","72","584","66","578","72"],["72","584","73","585","71"],["71","583","577","72","584","584","578","65"],["66","578","577","602","581","69","581","579","67"],["66","578","583","69","581","67","579","68"],["68","580","585","578","581","68"],["71","583","69","581","66"],["73","585","577","72","584","66","578","71"],["71","583","602","72","584","585","71"],["581","73","585","67","579","67","579","65"],["581","71","583","578","65","577","602","581","66"],["71","583","65","577","578","67"]],"reels_handle":[["65","66","69","68","67","69"],["66","73","66","72","72","66","66"],["65","90","69","72","72","68"],["73","68","66","72"],["67","65"],["69","66","65","65","69","67","72"],["69","68","69","68"],["68","90","66","69","72"],["90","72","66","72"],["72","73","71"],["71","65","72","72","66","65"],["66","65","90","69","69","67","67"],["66","71","69","67","68"],["68","73","66","69","68"],["71","69","66"],["73","65","72","66","71"],["71","90","72","73","71"],["69","73","67","67","65"],["69","71","66",',o='"65","90","69","66"],["71","65","66","67"]],"WinAmts":"20,200,220,1308,220,252,124,9616,40,16,0"},{"Odds":"1,1,1,1,1,1,1,1,1,13,1,7,5,16,16,17,1,1,1,17,1,11,1,1,1,1,1,1,1,7,1,1,19,13,16,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,8,8,6,11,9","Reels":[["65","577","67"],["581","584","73","585","585","73"],["72","584","71","583","72"],["580","584","68"],["583","71","583","73"],["578","67","579","69"],["585","66","578","602","72"],["602","584","67","579","585","602","65"],["72","584","73","585","602","65"],["585","579","578","67","579","71"],["65","577","66"],["585","65","577","68"],["583","584","67","579","585","602","69"],["578","66","578","73","585","583","71"],["578","69","581","66"],["581","584","73","585","585","71"],["578","584","72"],["67","579","578","577","72"],["602","602","578","69","581","67"],["580","69","581","69"]],"reels_handle":[["65","67"],["69","72","73","73","73"],["72","71","72"],["68","72","68"],["71","71","73"],["66","67","69"],["73","66","90","72"],["90","72","67","73","90","65"],["72","73","90","65"],["73","67","66","67","71"],["65","66"],["73","65","68"],["71","72","67","73","90","69"],["66","66","73","71","71"],["66","69","66"],["69","72","73","73","71"],["66","72","72"],["67","66","65","72"],["90","90","66","69","67"],["68","69","69"]],"WinAmts":"278,884,440,64,16,120,0"},{"Odds":"1,1,1,1,1,1,1,1,16,1,15,11,13,17,13,16,1,1,10,1,14,1,1,16,1,1,1,1,18,11,1,1,5,7,20,16,1,1,1,18,6,1,1,1,1,1,1,1","Reels":[["580","73","585","584","65"],["580","583","578","602","67"],["602","69","581","602","584","67"],["578","580","602","72","584","90"],["579","583","578","69"],["69","581","73"],["584","72","584","69"],["578","73","585","66"],["584","583","67"],["584","69","581","65"],["580","583","65","577","68"],["578","67"],["584","602","71"],["602","67"],["585","65"],["578","65","577","69"],["579","67"],["584","66","578","66"],["579","580","68","580","584","73"],["585","580","68","580","65"]],"reels_handle":[["68","73","72","65"],["68","71","66","90","67"],["90","69","90","72","67"],["66","68","90","72","90"],["67","71","66","69"],["69","73"],["72","72","69"],["66","73","66"],["72","71","67"],["72","69","65"],["68","71","65","68"],["66","67"],["72","90","71"],["90","67"],["73","65"],["66","65","69"],["67","67"],["72","66","66"],["67","68","68","72","73"],["73","68","68","65"]],"WinAmts":"176,864,285,45,60,0"},{"Odds":"1,1,1,1,1,1,1,1,10,14,10,16,1,1,1,10,9,14,12,15,1,1,1,6,1,16,1,1,1,14,19,1","Reels":[["577","578","65"],["73","585","71"],["583","577","73"],["66","578","71"],["67"],["583","585","579","67"],["73","585","579","69"],["602","69","581","65"],["577","577","581","90"],["69","581","71"],["581","577","68"],["67","579","72"],["602","602","72"],["577","583","68"],["69","581","71"],["583","583","66"],["602","602","72"],["73","585","602","72"],["583","585","66"],["577","583","67"]],"reels_handle":[["65","66","65"],["73","71"],["71","65","73"],["66","71"],["67"],["71","73","67","67"],["73","67","69"],["90","69","65"],["65","65","69","90"],["69","71"],["69","65","68"],["67","72"],["90","90","72"],["65","71","68"],["69","71"],["71","71","66"],["90","90","72"],["73","90","72"],["71","73","66"],["65","71","67"]],"WinAmts":"634,1640,244,0"},{"Odds":"1,1,1,1,1,1,1,1,5,1,1,1,1,1,5,1,1,1,13,1,1,14,15,10","Reels":[["585","69"],["67"],["68","580","65"],["67"],["69"],["72"],["69"],["71"],["585","66"],["72","584","65"],["68","580","66"],["67"],["585","71"],["585","602","66"],["585","584","67"],["65"],["585","580","67"],["585","584","72"],["67"],["72","584","68"]],"reels_handle":[["73","69"],["67"],["68","65"],["67"],["69"],["72"],["69"],["71"],["73","66"],["72","65"],["68","66"],["67"],["73","71"],["73","90","66"],["73","72","67"],["65"],["73","68","67"],["73","72","72"],["67"],["72","68"]],"WinAmts":"96,33,0"},{"Odds":"1,1,1,1,1,1,1,1,1,6,1,15,1,13,1,1,1,1,1,1,1,19,1,1","Reels":[["68"],["602","66"],["584","584","65"],["73"],["68"],["584","69"],["67"],["69"],["583","584","67"],["583","584","68"],["66"],',s='["602","68"],["583","584","72"],["584","67"],["73"],["584","71"],["66"],["69"],["66"],["66"]],"reels_handle":[["68"],["90","66"],["72","72","65"],["73"],["68"],["72","69"],["67"],["69"],["71","72","67"],["71","72","68"],["66"],["90","68"],["71","72","72"],["72","67"],["73"],["72","71"],["66"],["69"],["66"],["66"]],"WinAmts":"40,78,0"},{"Odds":"1,1,1,1,1,1,1,1,13,12,15,12,1,1,12,13,1,6,14,10,1,1,1,6","Reels":[["579","71"],["602","66"],["584","585","65"],["577","72"],["71"],["583","577","71"],["584","577","65"],["580","577","67"],["66"],["69"],["584","577","73"],["66"],["602","577","67"],["580","72"],["580","67"],["584","577","66"],["580","67"],["580","602","67"],["73","585","73"],["577","585","67"]],"reels_handle":[["67","71"],["90","66"],["72","73","65"],["65","72"],["71"],["71","65","71"],["72","65","65"],["68","65","67"],["66"],["69"],["72","65","73"],["66"],["90","65","67"],["68","72"],["68","67"],["72","65","66"],["68","67"],["68","90","67"],["73","73"],["65","73","67"]],"WinAmts":"132,1456,0"},{"Odds":"1,1,1,1,1,1,1,1,15,1,5,1,14,9,10,18,1,1,1,1,1,6,8,5","Reels":[["583","67"],["73"],["602","583","65"],["602","578","66"],["579","69"],["72"],["581","67"],["583","578","68"],["66","578","72"],["583","583","69"],["581","65"],["579","68"],["579","68"],["68"],["581","583","67"],["65"],["583","69"],["65"],["583","602","73"],["584","578","73"]],"reels_handle":[["71","67"],["73"],["90","71","65"],["90","66","66"],["67","69"],["72"],["69","67"],["71","66","68"],["66","72"],["71","71","69"],["69","65"],["67","68"],["67","68"],["68"],["69","71","67"],["65"],["71","69"],["65"],["71","90","73"],["72","66","73"]],"WinAmts":"287,616,0"}],"bonus_demo_slot":"68,67,65,65,71,67,71,72,68,69","demo_slot":"66,90,68,71,71,73,67,66,65,72","slot":{"Odds":"1,1,1,1,1,1,1,1,1,9,7,1,9,7,6,8,1,1,7,5,1,1,1,1,1,9,1,10,1,1,5,6,1,5,7,1,1,1,1,1,1,5,6,10,1,1,1,10,1,1,1,1,1,1,1,1,1,6,1,1,6,6,1,1,9,1,1,8,1,1,1,1,1,6,1,7,1,1,1,1,1,1,6,1,1,6,1,1,1,1,5,1,8,5,8,7,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,9,1,1,1,1,1,1,1,8,1,1,1,1,1,1,1,7,1,1,7,1,7,1,1,7,6,1,1,1,1,1","Reels":[["65","577","65"],["66","578","602","71","583","577","89","601","602","68","580","71"],["73","585","65","577","68","580","66","578","601","71"],["602","67","579","71","583","66","578","602","66"],["579","65","577","71","583","580","71","583","73"],["580","66","578","584","579","71","583","73","585","71","583","578","581","580","73"],["69","581","69","581","72"],["583","68","580","580","71","583","71","583","65"],["73","585","71","583","69","581","602","602","601","89","601","67"],["577","65","577","69","581","579","72"],["580","583","73","585","579","69","581","580","68","580","65"],["579","602","89","601","72","584","66","578","66"],["602","583","72","584","579","65","577","66","578","601","71"],["72","584","578","71","583","69","581","66","578","67"],["579","66","578","72","584","69","581","73"],["72","584","578","67","579","65","577","585","65"],["580","67","579","73","585","68","580","72"],["72","584","578","585","579","601","583","577","585","581","602","580","69","581","602","73"],["89","601","577","577","89","601","68","580","71"],["583","66","578","67","579","67","579","72"]],"reels_handle":[["65","65"],["66","90","71","65","89","90","68","71"],["73","65","68","66","89","71"],["90","67","71","66","90","66"],["67","65","71","68","71","73"],["68","66","72","67","71","73","71","66","69","68","73"],["69","69","72"],["71","68","68","71","71","65"],["73","71","69","90","90","89","89","67"],["65","65","69","67","72"],["68","71","73","67","69","68","68","65"],["67","90","89","72","66","66"],["90","71","72","67","65","66","89","71"],["72","66","71","69","66","67"],["67","66","72","69","73"],["72","66","67","65","73","65"],["68","67","73","68","72"],["72","66","73","67","89","71","65","73","69","90","68","69","90","73"],["89","65","65","89","68","71"],["71","66","67","67","72"]],"WinAmts":"76,34,960,35,1536,0,72,48,18,120,282,96,0,4,720,274,96,0"},"user_amt":399254249,"status_code":"SUCCESS"}';return void e(bfcl.Http.Data.Response.Deserialize(n+i+o+s))},t}();t.Service=e,__reflect(e.prototype,"game.MineSlot.API.Service")}(e=t.API||(t.API={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,bfcl.Constants.GameIds.MineSlot,n.Request,n.Response)||this}return __extends(n,e),Object.defineProperty(n.prototype,"JwToken",{get:function(){return t.Config.User.JwToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/round_result"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);e.SlotDesc=n,__reflect(n.prototype,"game.MineSlot.API.SlotDesc")}(e=t.API||(t.API={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={})),function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game_type=bfcl.Constants.GameIds.MineSlot,e}return __extends(e,t),e}(bfcl.Http.Data.Request);t.Request=e,__reflect(e.prototype,"game.MineSlot.API.SlotDesc.Request");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Response);t.Response=n,__reflect(n.prototype,"game.MineSlot.API.SlotDesc.Response");var i=function(){function t(){}return t}();t.SlotInfo=i,__reflect(i.prototype,"game.MineSlot.API.SlotDesc.SlotInfo")}(e=t.SlotDesc||(t.SlotDesc={}))}(e=t.API||(t.API={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(){}return e.Types=new bfcl.Collections.Dictionary([{Key:t.Enum.StageTypes.BET,Value:"BET"},{Key:t.Enum.StageTypes.MAIN_SPIN,Value:"SPIN"},{Key:t.Enum.StageTypes.MAIN_RESULT,Value:"MAIN_RESULT"},{Key:t.Enum.StageTypes.INTERLUDE_ENTRANCE,Value:"INTERLUDE_ENTRANCE"},{Key:t.Enum.StageTypes.FREE_SPIN,Value:"FREE_SPIN"},{Key:t.Enum.StageTypes.FREE_RESULT,Value:"FREE_RESULT"},{Key:t.Enum.StageTypes.INTERLUDE_EXIT,Value:"INTERLUDE_EXIT"},{Key:t.Enum.StageTypes.COMMIT,Value:"COMMIT"}]),e}();e.Stages=n,__reflect(n.prototype,"game.MineSlot.Config.Stages");var i=function(){function e(){}return e.Res=new bfcl.Collections.Dictionary([{Key:t.Enum.SoundIds.FREE_BGM,Value:"fgBgm_mp3"},{Key:t.Enum.SoundIds.MINER_CAR,Value:"fgMinecar_mp3"},{Key:t.Enum.SoundIds.SPIN_START,Value:"fgSpins_mp3"},{Key:t.Enum.SoundIds.INTERLUDE_ENTRANCE,Value:"fgTransitions1_mp3"},{Key:t.Enum.SoundIds.INTERLUDE_EXIT,Value:"fgTransitions2_mp3"},{Key:t.Enum.SoundIds.MAIN_BGM,Value:"ngBgm_mp3"},{Key:t.Enum.SoundIds.BOMB,Value:"ngBomb_mp3"},{Key:t.Enum.SoundIds.DRAW,Value:"ngframe_mp3"},{Key:t.Enum.SoundIds.SCATTER_SHOW,Value:"ngIconfall_mp3"},{Key:t.Enum.SoundIds.SCATTER_WIN,Value:"ngIconwin_mp3"},{Key:t.Enum.SoundIds.REEL_SPIN,Value:"ngRoll_mp3"},{Key:t.Enum.SoundIds.REEL_STOP,Value:"ngStop_mp3"},{Key:t.Enum.SoundIds.SYMBOL_WIN,Value:"ngWin_mp3"}]),e}();e.Sound=i,__reflect(i.prototype,"game.MineSlot.Config.Sound");var o=function(){function t(){}return t.JwToken="eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiOTY3OTg0MzE0IiwiZXhwIjoxODI5NjIzMTIwfQ.Utv4DXW99inU9smhaX11HpuuA-oBeRvBpeQY-f6L69g7yG81DfsH1F3aC7aEyoP3NLfarvCOKALH0hJ8b9fe3QxDyQlSbT0G1wiLd2HjAXVYDxQ0c7942SL1nfrWxDUW-MAfNMWft-an_fAyshT6gTvJO9QNAS-C27oHVSdd71tmPX8f_sTLndpkfPtz4d4gIAuuGR8NpKduAiK80dmqL214VQsnG_vCnVYH0J5e7hRmHsQmDtwqLqZEgdoQv47QnGeFDn06HX4qo0pYQ8PySEMQkmIeP82BfWd9WacgwTUgnrI5VQ4OlvdJowvlmjBmddKW43buTrwcROgMQpbEog",t}();e.User=o,__reflect(o.prototype,"game.MineSlot.Config.User");var s=function(){function t(){}return t.ReelCount=5,t.RowCount=4,t.SlotReelStartTimeInterval_1=500,t}();e.Reel=s,__reflect(s.prototype,"game.MineSlot.Config.Reel");var r=function(){function t(){}return t.MESSAGE_SWITCH_STATION=1000007,t}();e.TextID=r,__reflect(r.prototype,"game.MineSlot.Config.TextID")}(e=t.Config||(t.Config={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var bfcl;!function(t){var e;!function(e){var n=function(n){function i(t,i,o){var s=n.call(this)||this;s.m_BG=new eui.Image,s.m_Line=new eui.Image,s.m_Mask=new eui.Image,s.m_Btn=new e.ButtonUI,s.m_Sensor=null,s.m_IsDownning=!1,s.m_Distance=new egret.Point,s.m_StartX=0,s.m_IsMute=!1,s.m_BG.texture=RES.getRes(t.res);var r=RES.getRes(i.res);return s.m_BarWidth=r.bitmapData.width,s.m_Line.texture=r,s.m_Mask.texture=r,s.m_Line.mask=s.m_Mask,s.m_BG.touchEnabled=!1,s.m_Line.touchEnabled=!1,s.m_Mask.touchEnabled=!1,s.m_Btn.touchEnabled=!1,s.m_Btn.touchChildren=!1,s.m_Btn.Init(o.res,o.res),null!=t.y&&(s.m_BG.y=t.y),null!=i.y&&(s.m_Line.y=i.y),null!=i.y&&(s.m_Mask.y=i.y),null!=o.y&&(s.m_Btn.y=o.y),null!=o.x&&(s.m_Btn.x=o.x,s.m_StartX=o.x),s.m_Sensor=s.SetRectShape(),s.addChild(s.m_Sensor),s.addChild(s.m_BG),s.addChild(s.m_Mask),s.addChild(s.m_Line),s.addChild(s.m_Btn),s.Clear(),s}return __extends(i,n),Object.defineProperty(i.prototype,"IsMute",{set:function(t){this.m_IsMute=t,this.m_IsMute||0!=this.m_Percent||(this.Percent=i.DEFAULT_VALUE),this.Refresh(this.Percent)
},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Percent",{get:function(){return this.m_IsMute?0:this.m_Percent},set:function(e){t.Debug.Assert(e>=0&&1>=e),(this.m_Percent!=e||this.m_IsMute)&&(this.m_IsMute=!1,this.m_Percent=e,this.Refresh(e))},enumerable:!0,configurable:!0}),i.prototype.Refresh=function(t){this.m_Mask.width=this.m_BarWidth*t,this.m_Btn.x=this.m_StartX+this.m_Mask.width},Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Sensor.touchEnabled=t,this.m_ListenEvent?(this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnMouseDown,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnMouseMove,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_END,this.OnMouseUp,this)):(this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnMouseDown,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnMouseMove,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_END,this.OnMouseUp,this)))},enumerable:!0,configurable:!0}),i.prototype.SetRectShape=function(){var t=this.GetObjRect(this.m_Btn),n=this.GetObjRect(this.m_BG),o=this.m_StartX-i.SLIDE_SPACING,s=this.m_StartX+this.m_BarWidth+this.m_Btn.width+2*i.SLIDE_SPACING,r=t.top<n.top?t.top:n.top;r-=i.SLIDE_SPACING;var a=t.bottom>n.bottom?t.bottom:n.bottom;a+=i.SLIDE_SPACING;var l=new e.Mask.RectShape(s-o,a-r);return l.x=o,l.y=r,l.alpha=0,l},i.prototype.GetObjRect=function(t){return new egret.Rectangle(t.x,t.y,t.width,t.height)},i.prototype.OnMouseDown=function(t){this.m_IsDownning=!0,this.m_Distance.x=t.stageX-this.m_Btn.x},i.prototype.OnMouseMove=function(e){if(0!=this.m_BarWidth&&this.m_IsDownning){var n=e.stageX-this.m_Distance.x,i=(n-this.m_StartX)/this.m_BarWidth;.011>i&&(i=0),i>1&&(i=1),this.m_Percent!=i&&(this.Percent=i,this.dispatchEvent(new t.Event.SlideBar(t.Event.SlideBar.VALUE_CHANGED,this.m_Percent)))}},i.prototype.OnMouseUp=function(t){this.m_IsDownning=!1},i.prototype.Clear=function(){this.ListenEvent=!1,this.Percent=0},i.prototype.Dispose=function(){this.removeChild(this.m_BG),this.removeChild(this.m_Line),this.removeChild(this.m_Mask),this.removeChild(this.m_Btn),this.removeChild(this.m_Sensor),this.m_BG=null,this.m_Line=null,this.m_Mask=null,this.m_Sensor=null,this.m_Btn.Dispose(),this.m_Btn=null},i.DEFAULT_VALUE=1,i.SLIDE_SPACING=5,i}(eui.Component);e.SlideBarUI=n,__reflect(n.prototype,"bfcl.Controls.SlideBarUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_BG=new eui.Image,e.m_FG=new eui.Image,e.m_Title=new eui.Image,e.m_Digits=new bfcl.Controls.Digits.NormalDigits("FreeSpinDigits_fnt"),e.m_Finish=new eui.Image,e}return __extends(e,t),Object.defineProperty(e.prototype,"Spinned",{get:function(){return this.m_Spinned},set:function(t){this.m_Spinned=t,this.RefreshRemain()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Count",{get:function(){return this.m_Count},set:function(t){this.m_Count=t,this.RefreshRemain()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFinished",{get:function(){return this.m_Spinned>=this.m_Count},enumerable:!0,configurable:!0}),e.prototype.RefreshRemain=function(){this.m_Digits.Number=this.m_Count-this.m_Spinned,this.m_Title.visible=this.m_Digits.visible=this.m_Digits.Number>0,this.m_Finish.visible=!this.m_Title.visible},e.prototype.Init=function(){this.m_BG.texture=RES.getRes("fg_bg_06_png"),this.m_FG.texture=RES.getRes("fg_bg_05_png"),this.m_Title.texture=RES.getRes("msg_freespinsX_png"),this.m_Title.x=40,this.m_Title.y=16,this.m_Finish.texture=RES.getRes("msg_freespinscompleted_png"),this.m_Finish.x=30,this.m_Finish.y=16,this.m_Digits.TextAlign=egret.HorizontalAlign.LEFT,this.m_Digits.x=515,this.m_Digits.y=20,this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_Digits),this.addChild(this.m_Finish),this.addChild(this.m_FG),this.touchChildren=!1,this.touchEnabled=!1,this.x=800-this.m_BG.width/2,this.y=62,this.Clear()},e.prototype.Clear=function(){this.m_Spinned=0,this.m_Count=0,this.m_Title.visible=!1,this.m_Finish.visible=!1},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Digits),this.removeChild(this.m_Finish),this.removeChild(this.m_FG),this.m_BG=null,this.m_FG=null,this.m_Title=null,this.m_Finish=null,this.m_Digits.Dispose(),this.m_Digits=null},e}(eui.Component);t.AddSpinFrameUI=e,__reflect(e.prototype,"game.MineSlot.Controls.AddSpinFrameUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Group=new eui.Group,e.m_Value=11,e.m_Duration=2e3,e}return __extends(e,t),e.prototype.Init=function(t,e){this.m_Group.anchorOffsetX=52,this.m_Group.anchorOffsetY=10,this.m_Lamp=new eui.Image,this.m_Lamp.source=RES.getRes(t),this.m_Light=new eui.Image,this.m_Light.alpha=.45,this.m_Light.x=-74,this.m_Light.y=20,this.m_Light.scaleY=this.scaleX=.8,this.m_Light.source=RES.getRes(e),this.m_Effec=new particle.GravityParticleSystem(RES.getRes("Lantern_png"),RES.getRes("Lantern_json")),this.m_Effec.emitterX=40,this.m_Effec.emitterY=105,this.m_Group.addChild(this.m_Lamp),this.m_Group.addChild(this.m_Light),this.m_Group.addChild(this.m_Effec),this.addChild(this.m_Group),this.Clear(),this.x=300,this.y=300},e.prototype.Play=function(){this.m_Group.rotation=this.m_Value,egret.Tween.get(this.m_Group,{loop:!0}).to({rotation:-this.m_Value},this.m_Duration,egret.Ease.quadInOut).to({rotation:this.m_Value},this.m_Duration,egret.Ease.quadInOut),egret.Tween.get(this.m_Light,{loop:!0}).to({alpha:.45},1e3).to({alpha:.1},100).to({alpha:.25},100).to({alpha:.15},100).wait(500),this.m_Effec.start()},e.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Group),egret.Tween.removeTweens(this.m_Light),egret.Tween.removeTweens(this.m_Effec),this.m_Effec.stop(!0)},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Group),this.m_Group.removeChild(this.m_Lamp),this.m_Group.removeChild(this.m_Light),this.m_Group.removeChild(this.m_Effec),this.m_Group=null,this.m_Lamp=null,this.m_Light=null,this.m_Effec=null},e}(eui.Component);t.ChandelierUI=e,__reflect(e.prototype,"game.MineSlot.Controls.ChandelierUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_Serial=-1,e.m_MovieClip=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),e.prototype.Init=function(t){this.m_Serial=t,this.m_MovieClip=bfcl.Decorator.MovieClip("icon_explosion_mc"),this.addChild(this.m_MovieClip),this.Clear()},e.prototype.Play=function(){this.RemoveMcEvent(),this.visible=!0,this.m_MovieClip.addEventListener(egret.Event.COMPLETE,this.OnFinished,this),this.m_MovieClip.gotoAndPlay(0,1)},e.prototype.OnFinished=function(){this.Clear(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE,!1,!1,this.Serial))},e.prototype.Stop=function(){this.m_MovieClip.stop()},e.prototype.RemoveMcEvent=function(){this.m_MovieClip.hasEventListener(egret.Event.COMPLETE)&&this.m_MovieClip.removeEventListener(egret.Event.COMPLETE,this.OnFinished,this)},e.prototype.Clear=function(){this.RemoveMcEvent(),this.visible=!1},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_MovieClip),this.m_MovieClip=null},e}(eui.Component);t.ExplosionUI=e,__reflect(e.prototype,"game.MineSlot.Controls.ExplosionUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(e){function n(){var n=e.call(this)||this;n.m_BG=new eui.Image,n.m_BarBG=new eui.Image,n.m_BarMask=new eui.Image,n.m_BarFG=new eui.Image,n.m_Help=new eui.Image,n.m_BtnEnterGame=new bfcl.Controls.ButtonUI,n.m_Remark=new eui.Label,n.m_ProccessStartX=-1,n.m_ProccessWidth=-1,n.m_BG.texture=RES.getRes("H5_Loading_00_png"),n.m_BarBG.texture=RES.getRes("H5_Loading_03_png"),n.m_BarBG.x=n.m_BG.width/2-n.m_BarBG.width/2,n.m_BarBG.y=.85*n.m_BG.height-n.m_BarBG.height/2,n.m_BarMask.texture=RES.getRes("H5_Loading_Mask_png"),n.m_BarMask.width*=.84,n.m_BarMask.x=n.m_BG.width/2-n.m_BarMask.width/2,n.m_BarMask.y=.85*n.m_BG.height-n.m_BarMask.height/2,n.m_BarFG.texture=RES.getRes("H5_Loading_04_png"),n.m_BarFG.height*=1.15,n.m_BarFG.width*=1.05,n.m_BarFG.y=.85*n.m_BG.height-n.m_BarFG.height/2,n.m_ProccessStartX=n.m_BG.width/2-.75*n.m_BarFG.width,n.m_ProccessWidth=n.m_BG.width/2-.25*n.m_BarFG.width-n.m_ProccessStartX,n.m_BarFG.mask=n.m_BarMask,n.m_Help.texture=RES.getRes("H5_Loading_msg_01_png"),n.m_Help.x=n.m_BG.width/2-n.m_Help.width/2,n.m_Help.y=.73*n.m_BG.height-n.m_Help.height/2,n.m_Remark.width=500,n.m_Remark.height=200,n.m_Remark.textAlign=egret.HorizontalAlign.CENTER,n.m_Remark.x=n.m_BG.width/2-n.m_Remark.width/2,n.m_Remark.y=n.m_BG.height-n.m_Remark.height/2,n.m_BtnEnterGame.Init("H5_Loading_01_png","H5_Loading_01_black_png"),n.m_BtnEnterGame.AddLabel(new eui.Label);var i=new bfcl.Localization.Library;return i.Register(bfcl.Constants.Codepages.TW,t.Localization.Text.zh_TW.Loading()),i.Register(bfcl.Constants.Codepages.EN,t.Localization.Text.en_US.Loading()),i.Register(bfcl.Constants.Codepages.VN,t.Localization.Text.vi_VN.Loading()),n.addChild(n.m_BG),n.addChild(n.m_Help),n.addChild(n.m_Remark),n.addChild(n.m_BarBG),n.addChild(n.m_BarMask),n.addChild(n.m_BarFG),n.addChild(n.m_BtnEnterGame),n.m_LocalizationManager=new bfcl.Localization.Manager(i),n.m_LocalizationManager.Bind(n.m_Help,bfcl.Constants.Propertys.Texture,t.Localization.Text.LOADING_INFO),n.m_LocalizationManager.Bind(n.m_BtnEnterGame.Label,bfcl.Constants.Propertys.Text,t.Localization.Text.LOADING_ENTER_GAME),n.Clear(),n}return __extends(n,e),Object.defineProperty(n.prototype,"Preccess",{set:function(n){e.prototype.SetPreccess.call(this,n);var i=this.TotalPercent();this.m_BarFG.x=this.m_ProccessStartX+this.m_ProccessWidth*(i/100),this.m_LocalizationManager.Bind(this.m_Remark,bfcl.Constants.Propertys.Text,t.Localization.Text.LOADING_LOADING,i.toFixed(0)+"/100")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CodePage",{set:function(t){this.m_LocalizationManager.CodePage=t},enumerable:!0,configurable:!0}),n.prototype.onProgress=function(t,e){this.Preccess=t/e},n.prototype.Finished=function(){this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!1,this.m_BtnEnterGame.visible=!0,this.m_BtnEnterGame.x=this.m_BG.width/2-this.m_BtnEnterGame.width/2,this.m_BtnEnterGame.y=.88*this.m_BG.height-this.m_BtnEnterGame.height/2,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.m_BtnEnterGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.Clear=function(){e.prototype.Clear.call(this),this.Preccess=0,this.m_BarBG.visible=this.m_BarMask.visible=this.m_BarFG.visible=this.m_Remark.visible=!0,this.m_BtnEnterGame.visible=!1,this.m_BtnEnterGame.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.m_BtnEnterGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this)},n.prototype.OnClick=function(t){this.dispatchEvent(new bfcl.Event.Loading(bfcl.Event.Loading.CLICK))},n.prototype.Dispose=function(){this.m_LocalizationManager.Dispose(),this.removeChild(this.m_BG),this.removeChild(this.m_Help),this.removeChild(this.m_Remark),this.removeChild(this.m_BarBG),this.removeChild(this.m_BarMask),this.removeChild(this.m_BarFG),this.removeChild(this.m_BtnEnterGame),this.m_BtnEnterGame.Dispose(),this.m_BtnEnterGame=null,this.m_BG=null,this.m_BarBG=null,this.m_BarMask=null,this.m_BarFG=null,this.m_Help=null,this.m_Remark=null},n}(bfcl.Controls.LoadingPanelUI);e.LoadingPanelUI=n,__reflect(n.prototype,"game.MineSlot.Controls.LoadingPanelUI")}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(n){function i(e,i,o){void 0===o&&(o=!1);var s=n.call(this,t.Config.Reel.ReelCount)||this;s.m_SymbolPropertys=new bfcl.Collections.Dictionary,s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Miner,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Miner,"Icon_01_png","icon_01_blur_png","Icon_01_Sequence",2.5,24,195)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Supervisor,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Supervisor,"Icon_02_png","icon_02_blur_png","Icon_02_Sequence",2.5,24,195,-55,-28)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Diamond_Red,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Diamond_Red,"Icon_03_png","icon_03_blur_png","Icon_03_Sequence",3,18,195,-9,9)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Diamond_Yellow,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Diamond_Yellow,"Icon_04_png","icon_04_blur_png","Icon_04_Sequence",3,18,195,-9,9)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Diamond_Blue,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Diamond_Blue,"Icon_05_png","icon_05_blur_png","Icon_05_Sequence",3,18,195,-9,9)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Word_A,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Word_A,"Icon_07_png","icon_07_blur_png","Icon_07_Sequence",3,20,195,5,15)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Word_K,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Word_K,"Icon_08_png","icon_08_blur_png","Icon_08_Sequence",3,20,195,5,15)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Word_Q,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Word_Q,"Icon_09_png","icon_09_blur_png","Icon_09_Sequence",3,20,195,5,15)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.Wild,new t.Property.SymbolProperty(t.Enum.SymbolCodes.Wild,"Icon_12_png","icon_12_blur_png","Icon_12_Sequence",3,18,195,-55,-28)),s.m_SymbolPropertys.Add(t.Enum.SymbolCodes.FreeGame,new t.Property.SymbolProperty(t.Enum.SymbolCodes.FreeGame,"icon_13_png","icon_13_blur_png","Icon_13_win_Sequence",3,24,195,-115,-94));for(var r=0;r<t.Config.Reel.ReelCount;r++)s.Push(s.GenerateAReel(r,r>0&&r<t.Config.Reel.ReelCount-1&&!o),e,i);return s.SetStartGapBetweenReel(100),s.SetStopGapBetweenReel(0),s}return __extends(i,n),Object.defineProperty(i.prototype,"IsSpinning",{get:function(){return this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLING||this.m_State==slot.Controls.Reel.Machine.STATUS_ROLLED},enumerable:!0,configurable:!0}),i.prototype.Init=function(e,n){for(var i=slot.Utils.Array.StrToPosList(e,n,t.Config.Reel.ReelCount,t.Config.Reel.RowCount),o=0;o<t.Config.Reel.ReelCount;o++)this.GetReel(o).Perload(i[o])},i.prototype.GenerateAReel=function(n,i){void 0===i&&(i=!1);for(var o=new e.ReelUI,s=new slot.Library.SymbolLibrary,r=0,a=this.m_SymbolPropertys.Count;a>r;r++){var l=this.m_SymbolPropertys.GetValuePair(r);(l.Key!=t.Enum.SymbolCodes.FreeGame||i)&&s.Register(l.Key,l.Value)}return o.Init(n,4,s),o},i.prototype.StopPosList=function(e){for(var n=0;n<t.Config.Reel.ReelCount;n++)this.m_ActionScript[n].StopPosList=e[n];this.UpdateStopPosList()},i.prototype.BomboPosList=function(t,n,i){this.GetSymbol(t,n).SetProperty(this.m_SymbolPropertys.GetValue(i)),this.SetToStatus(t,n,e.SymbolUI.STATUS_BOMB)},i.prototype.ShowWin=function(t){for(var n=0,i=t.length;i>n;n++){for(var o=0,s=t[n];o<s.length;o++){var r=s[o];this.SetToStatus(n,r,e.SymbolUI.STATUS_WIN)}this.SetToTopLayer(n,t[n])}},i.prototype.Clear=function(){for(var i=0,o=t.Config.Reel.ReelCount;o>i;i++){this.SetToNormalLayer(i);for(var s=0,r=t.Config.Reel.RowCount;r>s;s++)this.SetToStatus(i,s+1,e.SymbolUI.STATUS_NORMAL)}n.prototype.Clear.call(this)},i}(slot.Controls.Reel.Machine);e.ReelMachineUI=n,__reflect(n.prototype,"game.MineSlot.Controls.ReelMachineUI")}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(n){function i(){var t=n.call(this)||this;return t.skinName="resource/haydn_skins/mineSlot/ReelSkin.exml",t}return __extends(i,n),i.prototype.Init=function(t,n,i){this.DefaultContainerType=slot.Controls.Reel.Containers.Types.Roll,this.ReelNum=t,this.ReelWidth=this.m_BgGroup.width,this.touchEnabled=!1,this.touchChildren=!1,this.RegisterContainer(new slot.Controls.Reel.Containers.RollContainer(slot.Controls.Reel.Containers.Types.Roll,this.m_BgGroup,this.m_FgGroup,this.m_Mask,n,this.RollParameter(),new slot.Controls.SymbolUIFactory(i,e.SymbolUI))),this.Perload()},i.prototype.RollParameter=function(){var n=new slot.Controls.Reel.Parameter;return n.SetMotionBlur(n.MaxSpeed,e.SymbolUI.STATUS_NORMAL,e.SymbolUI.STATUS_BLUR,[t.Enum.SymbolCodes.FreeGame]),n},i.prototype.DropParameter=function(){var t=new slot.Controls.Reel.Parameter;return t.RollBackFactor=0,t.RollOscillationFactor=1,t.FrameRatePerSec=3.5,t.AccelerationInterval=.25,t},i.prototype.Dispose=function(){n.prototype.Dispose.call(this),this.removeChild(this.m_BgGroup),this.removeChild(this.m_FgGroup),this.m_BgGroup=null,this.m_FgGroup=null},i}(slot.Controls.Reel.BaseReel);e.ReelUI=n,__reflect(n.prototype,"game.MineSlot.Controls.ReelUI")}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n;!function(e){var n;!function(t){t[t.Main=0]="Main",t[t.Free=1]="Free"}(n=e.SceneType||(e.SceneType={}));var i=function(i){function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.m_Scenes=new bfcl.Collections.Dictionary,t.m_Duration=1e3,t}return __extends(o,i),Object.defineProperty(o.prototype,"CurSceneType",{set:function(t){if(this.m_CurSceneType!=t){this.m_CurSceneType=t;for(var e=0;e<this.m_Scenes.Count;e++){var n=this.m_Scenes.GetValuePair(e);n.Value.Container.alpha=n.Key==this.m_CurSceneType?1:0}}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Main",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(n.Main):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"Free",{get:function(){return 0!=this.m_Scenes.Count?this.m_Scenes.GetValue(n.Free):void 0},enumerable:!0,configurable:!0}),o.prototype.Init=function(t,i){this.m_Scenes.Add(n.Main,new e.SceneUI(t)),this.m_Scenes.Add(n.Free,new e.SceneUI(i,!0)),this.Clear()},o.prototype.SwitchTo=function(t,e){var n=this;if(void 0===e&&(e=!1),bfcl.Debug.Assert(this.m_Scenes.ContainsKey(t)),e)return void this.OnToFinished(t);this.RemoveTweens();for(var i=0;i<this.m_Scenes.Count;i++){var o=this.m_Scenes.GetValuePair(i),s=o.Key==t?1:0,r=egret.Tween.get(o.Value.Container).to({alpha:s},this.m_Duration);i==this.m_Scenes.Count-1&&r.call(function(){n.OnToFinished(t)})}},o.prototype.OnToFinished=function(e){this.RemoveTweens(),this.CurSceneType=e,this.dispatchEvent(new t.MineSlot.Event.Scene(t.MineSlot.Event.Scene.ACTION_FINISHED))},o.prototype.RemoveTweens=function(){for(var t=0;t<this.m_Scenes.Count;t++)egret.Tween.removeTweens(this.m_Scenes.GetValuePair(t).Value.Container)},o.prototype.Clear=function(){this.RemoveTweens(),this.CurSceneType=n.Main},o.prototype.Dispose=function(){for(var t=0;t<this.m_Scenes.Count;t++){var e=this.m_Scenes.GetValuePair(t).Value;e.Dispose(),e=null}this.m_Scenes.Clear()},o}(eui.Component);e.SceneSwitcherUI=i,__reflect(i.prototype,"game.MineSlot.Controls.SceneSwitcherUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Controls||(e.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n;!function(e){var n=function(n){function i(i,o){void 0===o&&(o=!1);var s=n.call(this)||this;return s.ComboLabel=new t.MineSlot.Controls.Combo.LabelGroupUI,s.Container=i,s.ReelMachine=new e.ReelMachineUI(280,220,o),s.Container.addChild(s.ReelMachine),s}return __extends(i,n),i.prototype.Dispose=function(){this.Container.removeChild(this.ReelMachine),this.ReelMachine.Dispose(),this.ReelMachine=null},i}(eui.Component);e.SceneUI=n,__reflect(n.prototype,"game.MineSlot.Controls.SceneUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Controls||(e.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.m_Mc=null,t.m_Bomb=null,t.m_Code=-1,t.m_RowHeight=-1,t.m_Inited=!1,t.skinName="resource/haydn_skins/mineSlot/SymbolSkin.exml",t}return __extends(n,e),Object.defineProperty(n.prototype,"Code",{get:function(){return this.m_Code},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"RowHeight",{get:function(){return this.m_RowHeight},enumerable:!0,configurable:!0}),n.prototype.Init=function(e){bfcl.Debug.Assert(!this.m_Inited),this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.m_Bomb=new t.Actioner.Bomb,this.m_Group.addChild(this.m_Mc),this.m_Group.addChild(this.m_Bomb),this.RegisterStatus(n.STATUS_NORMAL,new slot.Controls.Symbol.StatusSwitcher(this.m_Normal)),this.RegisterStatus(n.STATUS_BLUR,new slot.Controls.Symbol.StatusSwitcher(this.m_Blur)),this.RegisterStatus(n.STATUS_WIN,new slot.Controls.Symbol.StatusSwitcher(this.m_Mc)),this.RegisterStatus(n.STATUS_BOMB,new slot.Controls.Symbol.StatusSwitcher(this.m_Bomb)),this.SetProperty(e)},n.prototype.SetProperty=function(t){bfcl.Debug.Assert(this.m_Inited),this.m_Code=t.Code,this.m_RowHeight=t.RowHeight,this.anchorOffsetX=t.OffestX||0,this.anchorOffsetY=t.OffestY||0,this.m_Normal.source=RES.getRes(t.Normal),this.m_Blur.source=RES.getRes(t.Blur),this.m_Bomb.Init(t.Normal),this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(t.Win),this.m_Mc.x=t.McX,this.m_Mc.y=t.McY,this.Clear()},n.prototype.Clear=function(){this.m_Group.scaleX=this.m_Group.scaleY=1,this.State=n.STATUS_NORMAL},n.prototype.Dispose=function(){this.Clear(),e.prototype.Dispose.call(this),this.m_Group.removeChild(this.m_Mc),this.m_Group.removeChild(this.m_Bomb),this.m_Mc.stop(),this.m_Mc=null,this.m_Bomb.Dispose(),this.m_Bomb=null,this.m_Blur=null,this.m_Normal=null,this.removeChild(this.m_Group),this.m_Group=null},n.STATUS_NORMAL="STATUS_NORMAL",n.STATUS_BLUR="STATUS_BLUR",n.STATUS_WIN="STATUS_WIN",n.STATUS_BOMB="STATUS_BOMB",n}(slot.Controls.Symbol.BaseSymbol);t.SymbolUI=e,__reflect(e.prototype,"game.MineSlot.Controls.SymbolUI")}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Image=new eui.Image,e.m_Duration=500,e.m_Inited=!1,e}return __extends(e,t),e.prototype.Play=function(){this.Clear(),egret.Tween.get(this.m_Image).to({scaleX:1,scaleY:1},this.m_Duration)},e.prototype.Stop=function(){this.Clear()},e.prototype.Init=function(t){this.m_Inited||(this.m_Inited=!0,this.m_Image=new eui.Image,this.addChild(this.m_Image),this.horizontalCenter=0,this.verticalCenter=0),this.m_Image.source=RES.getRes(t),this.Clear()},e.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Image),this.m_Image.scaleX=this.m_Image.scaleY=0},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Image),this.m_Image=null},e}(slot.Controls.StatusActioner);t.Bomb=e,__reflect(e.prototype,"game.MineSlot.Controls.Actioner.Bomb")}(e=t.Actioner||(t.Actioner={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Group=new eui.Group,e.m_Duration=1e3,e.m_Inited=!1,e}return __extends(e,t),e.prototype.Play=function(){this.Clear(),egret.Tween.get(this.m_Group,{loop:!0}).to({scaleX:1.2,scaleY:1.2},this.m_Duration/2).to({scaleX:1,scaleY:1},this.m_Duration/2),egret.Tween.get(this.m_Mask,{loop:!0}).to({alpha:1},this.m_Duration/2).to({alpha:0},this.m_Duration/2)},e.prototype.Stop=function(){this.Clear()},e.prototype.Init=function(t,e){this.m_Inited||(this.m_Inited=!0,this.m_Target=new eui.Image,this.m_Mask=new eui.Image,this.m_Group.addChild(this.m_Target),this.m_Group.addChild(this.m_Mask),this.addChild(this.m_Group),this.horizontalCenter=0,this.verticalCenter=0),this.m_Target.source=RES.getRes(t),this.m_Mask.source=RES.getRes(e),this.Clear()},e.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Target),egret.Tween.removeTweens(this.m_Mask),this.m_Group.scaleX=this.m_Group.scaleY=1,this.m_Mask.alpha=0},e.prototype.Dispose=function(){this.Clear(),this.m_Group.removeChild(this.m_Target),this.m_Group.removeChild(this.m_Mask),this.removeChild(this.m_Group),this.m_Target=null,this.m_Mask=null,this.m_Group=null},e}(slot.Controls.StatusActioner);t.Bounce=e,__reflect(e.prototype,"game.MineSlot.Controls.Actioner.Bounce")}(e=t.Actioner||(t.Actioner={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Mc=null,e.m_Inited=!1,e}return __extends(e,t),e.prototype.Play=function(){this.m_Mc.gotoAndPlay(0,-1)},e.prototype.Stop=function(){this.m_Mc.stop()},e.prototype.Init=function(t,e,n){this.m_Inited||(this.m_Inited=!0,this.m_Mc=new egret.MovieClip,this.addChild(this.m_Mc)),this.m_Mc.stop(),this.m_Mc.movieClipData=bfcl.Decorator.MovieClipData(t),this.m_Mc.x=e,this.m_Mc.y=n,this.Clear()},e.prototype.Clear=function(){},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Mc),this.m_Mc=null},e}(slot.Controls.StatusActioner);t.MovieClip=e,__reflect(e.prototype,"game.MineSlot.Controls.Actioner.MovieClip")}(e=t.Actioner||(t.Actioner={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Labels=[],t}return __extends(n,e),n.prototype.Init=function(){for(var e=0;8>e;e++){var n=new t.LabelUI;n.Init("ComboNumberDigits_fnt"),n.x=30+1445*Math.floor(e/4),n.y=180+190*Math.floor(e%4),this.m_Labels.push(n),this.addChild(n)}this.Clear()},n.prototype.Show=function(t,e,n){var i=e+4*(0==t?0:1);this.m_Labels[i].Show(n)},n.prototype.Jump=function(t,e){var n=e+4*(0==t?0:1);this.m_Labels[n].Jump()},n.prototype.Hide=function(t,e){var n=e+4*(0==t?0:1);this.m_Labels[n].Hide()},n.prototype.HideAll=function(){for(var t=0,e=this.m_Labels;t<e.length;t++){var n=e[t];n.Hide()}},n.prototype.Clear=function(){for(var t=0,e=this.m_Labels;t<e.length;t++){var n=e[t];n.Clear()}},n.prototype.Dispose=function(){for(this.Clear();this.m_Labels.length>0;){var t=this.m_Labels.splice(0,1)[0];this.removeChild(t),t.Clear(),t=null}bfcl.Debug.Assert(0==this.numChildren)},n}(eui.Component);t.LabelGroupUI=e,__reflect(e.prototype,"game.MineSlot.Controls.Combo.LabelGroupUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Combo||(t.Combo={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var VersionController=function(){function t(){var t=this;this.resourceRoot="resource/",this.versionPath="assets/",this.versionConfigPath="resource/version.json",this.currentVersion=kernel.Version.Num,this.versionCacheWxgame=function(){var e=egret.localStorage.getItem("resVersion");if(e!=t.currentVersion){egret.localStorage.setItem("resVersion",t.currentVersion),console.log("版本更新");var n=wx.getFileSystemManager(),i=wx.env.USER_DATA_PATH+"/cache_crc32/assets";n.readdir({dirPath:i,success:function(e){for(var o=t.getRemoveList(e.files),s=o.length,r=0;s>r;++r)console.log("删除",i+"/"+o[r]),n.unlinkSync(i+"/"+o[r])},fail:function(t){}})}},this.versionCacheWeb=function(){var e=egret.localStorage.getItem("resVersion");e!=t.currentVersion&&(egret.localStorage.setItem("resVersion",t.currentVersion),console.log("Web版本更新"))}}return t.prototype.init=function(){var t=this;return new Promise(function(e,n){var i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT,i.open(t.versionConfigPath,egret.HttpMethod.GET),i.send(),i.addEventListener(egret.Event.COMPLETE,function(n){var i=n.currentTarget;egret.log("post data : ",i.response),t.versionConfig=JSON.parse(i.response),egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME?t.versionCacheWxgame():egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&t.versionCacheWeb(),e()},t),i.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){egret.log("post error : "+event),n()},t)})},t.prototype.getRemoveList=function(t){var e=[],n="";for(var i in this.versionConfig)n+=this.versionConfig[i]+",";for(var o=t.length,s=0;o>s;++s){var r=t[s],a=r.slice(0,r.indexOf("."));-1==n.indexOf(a)&&e.push(r)}return e},t.prototype.getVirtualUrl=function(t){return this.getResUrlByVersion(t)},t.prototype.getResUrlByVersion=function(t){if(-1==t.indexOf(this.resourceRoot))return t;if(t=t.replace(this.resourceRoot,""),this.versionConfig){var e=t.indexOf("?v=");-1!=e&&(t=t.slice(0,e));var n=t.replace(this.versionPath,"");if(this.versionConfig&&this.versionConfig[n]){var i=this.versionConfig[n],o=t.slice(t.lastIndexOf("."));t=this.versionPath+i+o}}return t=this.resourceRoot+t},t}();__reflect(VersionController.prototype,"VersionController",["RES.IVersionController"]),RES.registerVersionController(new VersionController);var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Title=new eui.Image,e.m_Combo=new bfcl.Controls.Digits.NormalDigits("ComboDigits_fnt"),e.m_Digits=new bfcl.Controls.Digits.TransDigits("bigwin_number_fnt"),e.m_HGroup=new eui.Group,e.m_VGroup=new eui.Group,e.m_ComboCount=-1,e}return __extends(e,t),Object.defineProperty(e.prototype,"ComboCount",{get:function(){return this.m_ComboCount},set:function(t){this.m_ComboCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AudioManager",{set:function(t){bfcl.Debug.Assert(null==this.AudioManager),this.m_Digits.AudioManager=t},enumerable:!0,configurable:!0}),e.prototype.Init=function(){this.m_Title.texture=RES.getRes("score_number_comboX_png"),this.m_Combo.GroupWidth=200,this.m_Combo.TextAlign=egret.HorizontalAlign.LEFT,this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER;var t=new eui.HorizontalLayout;t.horizontalAlign=egret.HorizontalAlign.CENTER,t.gap=40,this.m_HGroup.layout=t,this.m_HGroup.width=1600,this.m_HGroup.addChild(this.m_Title),this.m_HGroup.addChild(this.m_Combo);var e=new eui.VerticalLayout;e.gap=20,e.paddingTop=280,e.horizontalAlign=egret.HorizontalAlign.CENTER,this.m_VGroup.layout=e,this.m_VGroup.addChild(this.m_HGroup),this.m_VGroup.addChild(this.m_Digits),this.addChild(this.m_VGroup),this.Clear()},e.prototype.Show=function(t,e){this.visible=!0,this.m_ComboCount++,this.m_Combo.Number=this.m_ComboCount,this.m_HGroup.visible=this.m_ComboCount>=1,this.m_VGroup.y=this.m_HGroup.visible?0:-90,this.m_Digits.Number=0,this.m_Digits.TransTo(t,e)},e.prototype.Clear=function(){this.visible=!1,this.m_ComboCount=-1,this.m_Combo.Clear(),this.m_Digits.Clear()},e.prototype.Dispose=function(){this.Clear(),this.m_HGroup.removeChild(this.m_Title),this.m_HGroup.removeChild(this.m_Combo),this.m_VGroup.removeChild(this.m_HGroup),this.m_VGroup.removeChild(this.m_Digits),this.removeChild(this.m_VGroup),this.m_HGroup=null,this.m_VGroup=null,this.m_Title=null,this.m_Combo.Dispose(),this.m_Combo=null,this.m_Digits.Dispose(),this.m_Digits=null},e}(eui.Component);t.ScoreUI=e,__reflect(e.prototype,"game.MineSlot.Controls.Combo.ScoreUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Combo||(t.Combo={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));
var game;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_List=null,t}return __extends(n,e),n.prototype.Init=function(e,n,i,o){void 0===e&&(e=230),void 0===n&&(n=135),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var s=0;s<t.Config.Reel.ReelCount;s++){var r=bfcl.Decorator.MovieClip("Icon_forcast");r.x=e+s*i,r.y=n,r.scaleX=r.scaleY=2,this.m_List[s]=r,this.addChild(r)}this.Clear()},n.prototype.Show=function(t){this.Clear();for(var e=0,n=t;e<n.length;e++){var i=n[e];this.m_List[i].visible=!0,this.m_List[i].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var e=0;e<t.Config.Reel.ReelCount;e++)this.m_List[e].stop(),this.m_List[e].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;){var t=this.m_List.splice(0,1)[0];this.removeChild(t),t.stop(),t=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);e.DrawUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Frames.DrawUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Frames||(e.Frames={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_List=null,t.m_PlayingCount=0,t}return __extends(n,e),n.prototype.Init=function(e,n,i,o){void 0===e&&(e=185),void 0===n&&(n=755),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var s=0;s<t.Config.Reel.ReelCount;s++){this.m_List[s]=[];for(var r=0;r<t.Config.Reel.RowCount;r++){var a=bfcl.Decorator.MovieClip("Icon_explosion");a.x=e+s*i,a.y=n-r*o,this.m_List[s][r]=a,this.addChild(a)}}this.Clear()},n.prototype.ShowOne=function(e,n){var i=this,o=this.m_List[e][n-1];this.m_PlayingCount++,o.addEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.get(o).call(function(e,n,o){e.visible=!0,e.gotoAndPlay(0),i.dispatchEvent(new t.Event.ExplosionUI(t.Event.ExplosionUI.BOMBING,n,o))},this,[o,e,n])},n.prototype.Show=function(e){var n=this;this.Clear();for(var i=65,o=0,s=e.length;s>o;o++)for(var r=0,a=e[o];r<a.length;r++){var l=a[r],h=this.m_List[o][l-1];this.m_PlayingCount++,h.addEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.get(h).wait(i*o).call(function(e,i,o){e.visible=!0,e.gotoAndPlay(0),n.dispatchEvent(new t.Event.ExplosionUI(t.Event.ExplosionUI.BOMBING,i,o))},this,[h,o,l])}},n.prototype.OnMcComplete=function(e){e.target.visible=!1,this.m_PlayingCount--,this.m_PlayingCount<=0&&this.dispatchEvent(new t.Event.ExplosionUI(t.Event.ExplosionUI.FINISHED))},n.prototype.Clear=function(){this.m_PlayingCount=0;for(var e=0;e<t.Config.Reel.ReelCount;e++)for(var n=0;n<t.Config.Reel.RowCount;n++){var i=this.m_List[e][n];i.stop(),i.visible=!1,i.hasEventListener(egret.Event.COMPLETE)&&i.removeEventListener(egret.Event.COMPLETE,this.OnMcComplete,this),egret.Tween.removeTweens(i)}},n.prototype.Dispose=function(){for(;this.m_List.length>0;)for(var t=this.m_List.splice(0,1)[0];t.length>0;){var e=t.splice(0,1)[0];this.removeChild(e),e.stop(),e=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);e.ExplosionUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Frames.ExplosionUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Frames||(e.Frames={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_List=null,t}return __extends(n,e),n.prototype.Init=function(e,n,i,o){void 0===e&&(e=240),void 0===n&&(n=755),void 0===i&&(i=315),void 0===o&&(o=195),this.m_List=[];for(var s=0;s<t.Config.Reel.ReelCount;s++){this.m_List[s]=[];for(var r=0;r<t.Config.Reel.RowCount;r++){var a=bfcl.Decorator.MovieClip("Icon_prize");a.x=e+s*i,a.y=n-r*o,this.m_List[s][r]=a,this.addChild(a)}}this.Clear()},n.prototype.Show=function(t){this.Clear();for(var e=0,n=t.length;n>e;e++)for(var i=0,o=t[e];i<o.length;i++){var s=o[i];this.m_List[e][s-1].visible=!0,this.m_List[e][s-1].gotoAndPlay(0,-1)}},n.prototype.Clear=function(){for(var e=0;e<t.Config.Reel.ReelCount;e++)for(var n=0;n<t.Config.Reel.RowCount;n++)this.m_List[e][n].stop(),this.m_List[e][n].visible=!1},n.prototype.Dispose=function(){for(;this.m_List.length>0;)for(var t=this.m_List.splice(0,1)[0];t.length>0;){var e=t.splice(0,1)[0];this.removeChild(e),e.stop(),e=null}bfcl.Debug.Assert(0==this.m_List.length&&0==this.numChildren),this.m_List=null},n}(eui.Component);e.WinUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Frames.WinUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Frames||(e.Frames={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e,n){var i=t.call(this)||this;return i.m_Title=new eui.Label,i.m_Image=new eui.Image,i.m_TitleCode="",i.m_TitleCode=e,i.m_Title.width=1600,i.m_Title.height=100,i.m_Title.fontFamily="Tahoma",i.m_Title.textColor=16756224,i.m_Title.size=70,i.m_Title.bold=!0,i.m_Title.textAlign=egret.HorizontalAlign.CENTER,i.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,i.m_Title.x=800-i.m_Title.width/2,i.m_Image.texture=RES.getRes(n),i.m_Image.y=i.m_Title.height,i.addChild(i.m_Image),i.addChild(i.m_Title),i}return __extends(e,t),Object.defineProperty(e.prototype,"Height",{get:function(){return 686},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Width",{get:function(){return this.m_Image.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LocalizationManager",{set:function(t){t.Bind(this.m_Title,bfcl.Constants.Propertys.Text,this.m_TitleCode)},enumerable:!0,configurable:!0}),e.prototype.Clear=function(){},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Image),this.removeChild(this.m_Title),this.m_Title=null,this.m_Image=null},e}(bfcl.Controls.Info.Page);t.Page=e,__reflect(e.prototype,"game.MineSlot.Controls.Info.Page")}(e=t.Info||(t.Info={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Obj=new eui.Image,t.m_Wild=new eui.Image,t.Serial=-1,t}return __extends(n,e),n.prototype.Init=function(){this.m_Obj.texture=RES.getRes("bomb_png"),this.m_Obj.anchorOffsetX=87,this.m_Obj.anchorOffsetY=72,this.m_Wild.texture=RES.getRes("Icon_12_png"),this.addChild(this.m_Obj),this.addChild(this.m_Wild),this.Clear()},n.prototype.Fly=function(e,n,i){var o=this;void 0===n&&(n=3.5),void 0===i&&(i=.4),this.Clear(),this.m_Wild.x=e.x-this.m_Wild.width/2,this.m_Wild.y=e.y-this.m_Wild.height/2,egret.Tween.get(this.m_Obj).set({x:e.x,y:-100,alpha:1}).wait(1e3*n).to({x:e.x,y:e.y},1e3*i).to({alpha:0},120).call(function(e,n){n.visible=!0,o.dispatchEvent(new t.Event.Bomb(t.Event.Bomb.IN_PLACE,e))},this,[this.Serial,this.m_Wild]),egret.Tween.get(this.m_Obj,{loop:!0}).set({rotation:0}).to({rotation:360},600)},n.prototype.Clear=function(){egret.Tween.removeTweens(this.m_Obj),this.m_Obj.alpha=0,this.m_Wild.visible=!1},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Obj),this.removeChild(this.m_Wild),this.m_Obj=null,this.m_Wild=null},n}(eui.Component);e.BombUI=n,__reflect(n.prototype,"game.MineSlot.Controls.Miner.BombUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.Miner||(e.Miner={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Factory=new dragonBones.EgretFactory,e.m_ArmatureDisplay=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_ListenEvent?this.m_ArmatureDisplay.addEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this):this.m_ArmatureDisplay.removeEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this))},enumerable:!0,configurable:!0}),e.prototype.Init=function(){this.m_Factory.parseDragonBonesData(RES.getRes("FG_cart_ske_json")),this.m_Factory.parseTextureAtlasData(RES.getRes("FG_cart_tex_json"),RES.getRes("FG_cart_tex_png")),this.m_ArmatureDisplay=this.m_Factory.buildArmatureDisplay("FG_Cart"),this.m_ArmatureDisplay.x=1060,this.m_ArmatureDisplay.y=620,this.addChild(this.m_ArmatureDisplay),this.Clear()},e.prototype.OnAnimComplete=function(t){this.Clear()},e.prototype.Show=function(){this.ListenEvent=!0,this.m_ArmatureDisplay.animation.gotoAndPlayByFrame("Cart_in",0,1)},e.prototype.Clear=function(){this.ListenEvent=!1,this.m_ArmatureDisplay.animation.gotoAndStopByFrame("Cart_in",this.m_ArmatureDisplay.armature.armatureData.getAnimation("Cart_in").frameCount)},e.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_ArmatureDisplay),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null},e}(eui.Component);t.CartUI=e,__reflect(e.prototype,"game.MineSlot.Controls.Miner.CartUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Miner||(t.Miner={}))}(e=t.Controls||(t.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n;!function(n){var i;!function(n){var i=function(i){function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.m_Cart=new n.CartUI,t.m_Bombs=[],t}return __extends(o,i),Object.defineProperty(o.prototype,"ListenEvent",{set:function(t){if(this.m_ListenEvent!=t){this.m_ListenEvent=t;for(var n=0,i=this.m_Bombs;n<i.length;n++){var o=i[n];this.m_ListenEvent?o.addEventListener(e.Event.Bomb.IN_PLACE,this.OnBomb,this):o.removeEventListener(e.Event.Bomb.IN_PLACE,this.OnBomb,this)}}},enumerable:!0,configurable:!0}),o.prototype.OnBomb=function(t){this.dispatchEvent(new e.Event.Bomb(e.Event.Bomb.IN_PLACE,t.Index))},o.prototype.Init=function(){this.m_Cart.Init(),this.addChild(this.m_Cart);for(var e=0;3>e;e++){var n=new t.MineSlot.Controls.Miner.BombUI;n.Serial=e,n.Init(),this.m_Bombs.push(n),this.addChild(n)}this.touchEnabled=!1,this.touchChildren=!1},o.prototype.Show=function(t){this.Clear(),this.ListenEvent=!0,bfcl.Debug.Assert(t.length<=this.m_Bombs.length);for(var e=0;e<t.length;e++){var n=o.CART_DURATION+3*Math.random()*.15;this.m_Bombs[e].Fly(t[e],n)}this.m_Cart.Show()},o.prototype.Clear=function(){this.ListenEvent=!1,this.m_Cart.Clear();for(var t=0,e=this.m_Bombs;t<e.length;t++){var n=e[t];n.Clear()}},o.prototype.Dispose=function(){for(this.Clear(),this.removeChild(this.m_Cart),this.m_Cart.Dispose(),this.m_Cart=null;this.m_Bombs.length>0;){var t=this.m_Bombs.splice(0,1)[0];this.removeChild(t),t.Dispose(),t=null}bfcl.Debug.Assert(0==this.numChildren)},o.CART_DURATION=3.4,o}(eui.Component);n.MinerUI=i,__reflect(i.prototype,"game.MineSlot.Controls.Miner.MinerUI",["eui.UIComponent","egret.DisplayObject"])}(i=n.Miner||(n.Miner={}))}(n=e.Controls||(e.Controls={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.Context=e,__reflect(e.prototype,"game.MineSlot.Context")}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={})),function(t){var e;!function(t){var e;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.Status=new e.Status,t.Worker=new e.Worker,t.Dc=new e.Display,t}return __extends(i,n),i.prototype.IsImmediatelyMaintenance=function(){return this.Status.CurrentGameStaus!=t.Enum.GameStatus.None&&!this.Status.IsRunning},i.prototype.PlayBgm=function(e){this.Worker.AudioManager.PlayBgm(t.Config.Sound.Res.GetValue(e))},i.prototype.StopBgm=function(){this.Worker.AudioManager.StopBgm()},i.prototype.PlaySound=function(e,n){void 0===n&&(n=1),this.Worker.AudioManager.PlaySound(t.Config.Sound.Res.GetValue(e),n)},i.prototype.StopSound=function(e,n){void 0===n&&(n=1),this.Worker.AudioManager.StopSound(t.Config.Sound.Res.GetValue(e))},i.prototype.GetArrScatterCount=function(t,e,n){for(var i=0,o=e;n>=o;o++)i+=t[o].length;return i},i.prototype.JumpComboLabel=function(t,e){if(0==e.length)return void t.HideAll();for(var n=0;2>n;n++)for(var i=0==n?0:4,o=1;4>=o;o++){var s=4-o;-1==e[i].indexOf(o)?t.Hide(i,s):t.Jump(i,s)}},i}(slot.Game.Context);e.Context=n,__reflect(n.prototype,"game.MineSlot.Core.Context")}(e=t.Core||(t.Core={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n;!function(n){var i=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.Scene=new e.Controls.SceneSwitcherUI,t.WinFrames=new e.Controls.Frames.WinUI,t.DrawFrames=new e.Controls.Frames.DrawUI,t.ExplosionFrames=new e.Controls.Frames.ExplosionUI,t.AddSpinFrame=new e.Controls.AddSpinFrameUI,t.ComboScore=new e.Controls.Combo.ScoreUI,t.Miner=new e.Controls.Miner.MinerUI,t}return __extends(i,n),Object.defineProperty(i.prototype,"MainSpin",{get:function(){return this.Scene.Main},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"FreeSpin",{get:function(){return this.Scene.Free},enumerable:!0,configurable:!0}),i.prototype.Init=function(n,i,o,s,r){i.addChild(this.AddSpinFrame),this.Scene.Init(n,i),this.Scene.Main.ComboLabel.Init(),this.Scene.Free.ComboLabel.Init(),this.Blackboard.Init(new slot.Property.BlackboardSwitcherProperty),this.WinFrames.Init(-30,610),this.DrawFrames.Init(-35,-20),this.ExplosionFrames.Init(-90,610),this.AddSpinFrame.Init(),this.AddSpinFrame.x=735,this.AddSpinFrame.y=157,this.ComboScore.Init(),this.ComboScore.AudioManager=r,this.Miner.Init(),this.Miner.y=-7,this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_1,"info_1_png")),this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_2,"info_2_png")),this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_3,"info_3_png")),this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_4,"info_4_png")),this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_5,"info_5_png")),this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_6,"info_6_png")),this.Info.AddPage(new t.MineSlot.Controls.Info.Page(e.Localization.Text.HELP_TITLE_7,"info_7_png")),i.addChild(this.Miner),o.addChild(this.WinFrames),o.addChild(this.DrawFrames),o.addChild(this.ExplosionFrames),o.addChild(this.ComboScore),o.addChild(this.Scene.Main.ComboLabel),o.addChild(this.Scene.Free.ComboLabel),this.Bind(s)},i.prototype.Bind=function(t){this.GameMsgBox.LocalizationManager=t},i.prototype.Clear=function(){this.Scene.Clear(),this.WinFrames.Clear(),this.DrawFrames.Clear(),this.ExplosionFrames.Clear()},i.prototype.Dispose=function(){this.WinFrames.parent.removeChild(this.WinFrames),this.DrawFrames.parent.removeChild(this.DrawFrames),this.ExplosionFrames.parent.removeChild(this.ExplosionFrames),this.ComboScore.parent.removeChild(this.ComboScore),this.Scene.Main.ComboLabel.parent.removeChild(this.Scene.Main.ComboLabel),this.Scene.Free.ComboLabel.parent.removeChild(this.Scene.Free.ComboLabel),this.AddSpinFrame.parent.removeChild(this.AddSpinFrame),this.Miner.parent.removeChild(this.Miner),this.Scene.Main.ComboLabel.Dispose(),this.Scene.Free.ComboLabel.Dispose(),this.Scene.Dispose(),this.WinFrames.Dispose(),this.DrawFrames.Dispose(),this.ExplosionFrames.Dispose(),this.ComboScore.Dispose(),this.AddSpinFrame.Dispose(),this.Miner.Dispose(),this.Scene.Main.ComboLabel=null,this.Scene.Free.ComboLabel=null,this.Scene=null,this.WinFrames=null,this.DrawFrames=null,this.ExplosionFrames=null,this.ComboScore=null,this.AddSpinFrame=null,this.Miner=null},i}(slot.Game.Display);n.Display=i,__reflect(i.prototype,"game.MineSlot.Core.Display")}(n=e.Core||(e.Core={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.Update=function(t){t.Dc.ScoreBar.BtnEnables!=t.Status.Stage.BtnEnables&&(t.Dc.ScoreBar.BtnEnables=t.Status.Stage.BtnEnables),t.Dc.ScoreBar.BtnHides!=t.Status.Stage.BtnHides&&(t.Dc.ScoreBar.BtnHides=t.Status.Stage.BtnHides)},t}();t.Refresher=e,__reflect(e.prototype,"game.MineSlot.Core.Refresher")}(e=t.Core||(t.Core={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(){}return Object.defineProperty(e.prototype,"m_Context",{get:function(){return t.Context.Instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.UNKOWN},enumerable:!0,configurable:!0}),e.prototype.Timing_100msUP=function(t){},e.prototype.SwitchTo=function(e){bfcl.Debug.Assert(null!=e,"Object.ReferenceEquals(nextStage, null)"),bfcl.Debug.Assert(this.m_Context.Status.Stage==this,"this.m_Context.Status.Stage:"+this.m_Context.Status.Stage.Type+" | this.Stage.Type:"+this.Type),this.LeaveStage(),egret.log("[STAGE]["+t.Config.Stages.Types.GetValue(e.Type)+"]"),this.m_Context.Status.Stage=e,this.m_Context.Status.Stage.EnterStage()},e}();e.Stage=n,__reflect(n.prototype,"game.MineSlot.Core.Stage");var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.UNKOWN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.GetBtnEnables()},enumerable:!0,configurable:!0}),n.prototype.GetBtnEnables=function(){return slot.Enum.ScoreBarUI.Buttons.MENU|slot.Enum.ScoreBarUI.Buttons.TURBO_ON|slot.Enum.ScoreBarUI.Buttons.TURBO_OFF},n.prototype.EnterStage=function(){this.m_Context.Dc.ScoreBar.addEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n.prototype.OnScoreBarClick=function(t){t.Button==slot.Enum.ScoreBarUI.Buttons.MENU},n.prototype.LeaveStage=function(){this.m_Context.Dc.ScoreBar.removeEventListener(slot.Event.ScoreBar.BUTTON_CLICK,this.OnScoreBarClick,this)},n}(n);e.Stage_Base=i,__reflect(i.prototype,"game.MineSlot.Core.Stage_Base");var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.BET},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var t=e.prototype.GetBtnEnables.call(this);return this.m_Context.IsImmediatelyMaintenance()?t=slot.Enum.ScoreBarUI.Buttons.UNKOWN:t|=this.m_Context.Dc.ScoreBar.IsAutoPlay?slot.Enum.ScoreBarUI.Buttons.AUTO:slot.Enum.ScoreBarUI.Buttons.MINUS_BET|slot.Enum.ScoreBarUI.Buttons.PLUS_BET|slot.Enum.ScoreBarUI.Buttons.MAX_BET|slot.Enum.ScoreBarUI.Buttons.AUTO,this.m_Context.Dc.ScoreBar.Bet>0&&(t|=slot.Enum.ScoreBarUI.Buttons.SPIN),t},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){return e.prototype.EnterStage.call(this),this.m_Context.Status.Clear(),this.m_Context.Status.MainComboCount=this.m_Context.Dc.ComboScore.ComboCount,this.m_Context.Dc.ScoreBar.IsSpinning=!1,null!=this.m_Context.Status.UserLevelBet&&(this.m_Context.Dc.ScoreBar.SetBetRange(this.m_Context.Status.UserLevelBet.bet_min,this.m_Context.Status.UserLevelBet.bet_max,this.m_Context.Status.UserLevelBet.bet_gap),this.m_Context.Status.UserLevelBet=null),this.m_Context.IsImmediatelyMaintenance()?void this.m_Context.Dc.ScoreBar.StopAutoPlay():void 0},n.prototype.OnScoreBarClick=function(t){e.prototype.OnScoreBarClick.call(this,t),t.Button==slot.Enum.ScoreBarUI.Buttons.SPIN&&this.OnBtnClickSpin()},n.prototype.Timing_100msUP=function(t){this.m_Context.Dc.ScoreBar.IsAutoPlay&&(this.m_Context.Dc.ScoreBar.Bet<=0||this.OnBtnClickSpin())},n.prototype.OnBtnClickSpin=function(){if(!(this.m_Context.Dc.ScoreBar.Bet<=0)){if(this.m_Context.Dc.ScoreBar.Bet>this.m_Context.Dc.ScoreBar.Credit)return this.m_Context.Dc.ScoreBar.StopAutoPlay(),void this.m_Context.Dc.GameMsgBox.Show2(4001);this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Status.IsRunning=!0,this.SwitchTo(new s)}},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this)},n}(i);e.Stage_Bet=o,__reflect(o.prototype,"game.MineSlot.Core.Stage_Bet");var s=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.STATUS_NONE=0,t.STATUS_SPIN=1,t.m_CurDelayTs=0,t.m_ListenDelayTs=0,t.m_StoppingReelIndex=0,t.m_IsServerResponse=!1,t.m_IsAllReelSpinning=!1,t.m_IsBtnStopClick=!1,t.m_State=t.STATUS_NONE,t.m_IsDrawing=!1,t}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.MAIN_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var t=e.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return this.m_IsAllReelSpinning&&this.m_IsServerResponse&&!this.m_IsBtnStopClick&&this.m_State==this.STATUS_SPIN&&(t|=slot.Enum.ScoreBarUI.Buttons.STOP),t},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){var n=this;e.prototype.EnterStage.call(this),this.m_Context.Dc.MainSpin.ComboLabel.HideAll(),this.m_Context.Dc.ScoreBar.IsSpinning=!0,this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllStarted,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.Roll(),this.m_Context.PlaySound(t.Enum.SoundIds.REEL_SPIN,-1),this.m_State=this.STATUS_SPIN,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?1250:2500,this.m_IsServerResponse=!0,this.m_Context.Dc.ScoreBar.Credit-=this.m_Context.Dc.ScoreBar.Bet,t.API.Service.GetSlotDesc(this.m_Context.Dc.ScoreBar.Bet,function(t){n.m_IsServerResponse=!0,n.m_Context.Status.ActionDesc.SetValue(t),n.m_Context.Dc.ScoreBar.Credit=t.user_amt-t.all_win_amt,n.m_Context.Dc.MainSpin.ReelMachine.StopPosList(n.m_Context.Status.ActionDesc.MainStopPosList())})},n.prototype.Timing_100msUP=function(e){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=t.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.MainSpin.ReelMachine.IsSpinning)return;if(this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs+this.m_ListenDelayTs){if(!this.m_IsServerResponse)return;this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.MainSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<t.Config.Reel.ReelCount-1?t.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.MainSpin.ReelMachine.StopAt(this.m_StoppingReelIndex))}}},n.prototype.OnReelAllStarted=function(t){this.m_IsAllReelSpinning=!0},n.prototype.OnReelStopping=function(e){this.m_Context.StopSound(t.Enum.SoundIds.REEL_SPIN),this.m_Context.PlaySound(t.Enum.SoundIds.REEL_SPIN,-1),this.m_StoppingReelIndex=e.ReelNum+1;var n=this.m_Context.Status.ActionDesc.MainScatterPosList(),i=this.m_Context.GetArrScatterCount(n,0,e.ReelNum);2==i&&this.m_StoppingReelIndex<t.Config.Reel.ReelCount-1&&!this.m_Context.Dc.ScoreBar.IsTurbo?(this.m_IsDrawing=!0,this.m_ListenDelayTs=3e3,this.m_Context.PlaySound(t.Enum.SoundIds.DRAW),this.m_Context.Dc.DrawFrames.Show([this.m_StoppingReelIndex])):this.m_IsDrawing&&(this.m_ListenDelayTs=0,this.m_IsDrawing=!1,this.m_Context.Dc.DrawFrames.Clear()),!this.m_IsDrawing&&n[e.ReelNum].length>0&&this.m_Context.PlaySound(t.Enum.SoundIds.SCATTER_SHOW)},n.prototype.OnReelStopped=function(e){this.m_Context.PlaySound(t.Enum.SoundIds.REEL_STOP)},n.prototype.OnReelAllStopped=function(){this.m_IsAllReelSpinning=!1,this.m_Context.StopSound(t.Enum.SoundIds.REEL_SPIN),this.SwitchTo(new r)},n.prototype.OnScoreBarClick=function(t){e.prototype.OnScoreBarClick.call(this,t),t.Button==slot.Enum.ScoreBarUI.Buttons.STOP&&(this.m_IsBtnStopClick=!0,this.m_Context.Dc.MainSpin.ReelMachine.StopAll())},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_ROLLING,this.OnReelAllStarted,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.MainSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);e.Stage_MainSpin=s,__reflect(s.prototype,"game.MineSlot.Core.Stage_MainSpin");var r=function(e){function n(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.STATUS_NONE=0,n.STATUS_SCATTER=1,n.STATUS_ENTRANCE_BONUS=2,n.STATUS_SHOW_WIN_SYMBOL=3,n.STATUS_SHOW_WIN_SCORE=4,n.STATUS_BOMB=5,n.STATUS_FROM_BONUS_COME_BACK=6,n.STATUS_COMMIT=7,n.m_State=n.STATUS_NONE,n.m_CurDelayTs=0,n.m_ActionDelayTs=0,n.m_IsFromBonusComeBack=!1,n.m_IsFromBonusComeBack=t,n}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.MAIN_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var t=e.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return t},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){e.prototype.EnterStage.call(this),this.m_IsFromBonusComeBack?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_FROM_BONUS_COME_BACK):this.CheckEnterPhase(),this.m_Context.Dc.ExplosionFrames.addEventListener(t.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.addEventListener(t.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},Object.defineProperty(n.prototype,"m_WinPosList",{get:function(){return this.m_Context.Status.ActionDesc.MainWinPosList()},enumerable:!0,configurable:!0}),n.prototype.CheckEnterPhase=function(){this.m_CurDelayTs=0,this.m_Context.Status.ActionDesc.RefreshMainPosList(),this.m_Context.Status.ActionDesc.IsMainComboEndded?(this.m_ActionDelayTs=1e3,this.m_State=this.STATUS_COMMIT):this.m_Context.Status.ActionDesc.CanIntoFreeGame()?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SCATTER):this.m_Context.Status.ActionDesc.MainThisRoundWin>0?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_COMMIT)},n.prototype.Timing_100msUP=function(e){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SCATTER:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_Context.Status.ActionDesc.MainScatterPosList()),this.m_ActionDelayTs=2e3,this.m_IsFromBonusComeBack?(this.m_IsFromBonusComeBack=!1,this.m_State=this.STATUS_BOMB):(this.m_Context.PlaySound(t.Enum.SoundIds.SCATTER_WIN),this.m_State=this.STATUS_ENTRANCE_BONUS));break;case this.STATUS_ENTRANCE_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Status.MainComboCount=this.m_Context.Dc.ComboScore.ComboCount,this.SwitchTo(new a));break;case this.STATUS_FROM_BONUS_COME_BACK:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=1e3,this.m_Context.Status.ActionDesc.MainThisRoundWin>0?(this.m_IsFromBonusComeBack=!1,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):this.m_State=this.STATUS_SCATTER);break;case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(t.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.MainSpin.ReelMachine.ShowWin(this.m_WinPosList),this.m_Context.Dc.WinFrames.Show(this.m_WinPosList),this.m_Context.JumpComboLabel(this.m_Context.Dc.MainSpin.ComboLabel,this.m_WinPosList),this.m_ActionDelayTs=2e3,this.m_State=this.STATUS_SHOW_WIN_SCORE);break;case this.STATUS_SHOW_WIN_SCORE:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ComboScore.Show(this.m_Context.Status.ActionDesc.MainThisRoundWin,1.5),this.m_ActionDelayTs=2300,this.m_State=this.STATUS_BOMB);break;case this.STATUS_BOMB:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Dc.ScoreBar.Win+=this.m_Context.Status.ActionDesc.MainThisRoundWin,this.m_Context.Dc.ComboScore.visible=!1,this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.WinFrames.Clear(),this.m_Context.Dc.ExplosionFrames.Show(this.m_WinPosList));break;case this.STATUS_COMMIT:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new m))}},n.prototype.OnExplosioned=function(t){this.m_Context.Status.ActionDesc.UpdateMainStopPosList(),this.CheckEnterPhase()},n.prototype.OnExplosioning=function(e){var n=this.m_WinPosList[e.Reel].indexOf(e.Row),i=this.m_Context.Status.ActionDesc.MainBombPosList()[e.Reel][n];if(this.m_Context.Dc.MainSpin.ReelMachine.BomboPosList(e.Reel,e.Row,i),this.m_Context.PlaySound(t.Enum.SoundIds.BOMB),0==e.Reel||e.Reel==t.Config.Reel.ReelCount-1){var o=0==e.Reel?0:1,s=this.m_Context.Status.ActionDesc.MainPayoutPosList()[o][4-e.Row];this.m_Context.Dc.MainSpin.ComboLabel.Show(e.Reel,4-e.Row,s)}},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.ExplosionFrames.removeEventListener(t.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.removeEventListener(t.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},n}(i);e.Stage_MainResult=r,__reflect(r.prototype,"game.MineSlot.Core.Stage_MainResult");var a=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_IsBlackboardShowed=!1,t.m_AutoBtnClickTs=5e3,t.m_PlayBonusBgmTs=1e3,t.m_CurTs=0,t}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.INTERLUDE_ENTRANCE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var t=e.prototype.GetBtnEnables.call(this);return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){e.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.AddSpinFrame.Clear(),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_ENTRANCE),this.m_Context.Dc.Blackboard.SetNumber(this.m_Context.Status.InitResponse.fg_round,!0)},n.prototype.OnBlackboardShowed=function(e){e.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_Context.Dc.MainSpin.ReelMachine.Clear(),this.m_Context.Dc.MainSpin.ComboLabel.visible=!1,this.m_Context.Dc.FreeSpin.ComboLabel.visible=!0,this.m_Context.Dc.FreeSpin.ComboLabel.Clear(),this.m_Context.Dc.AddSpinFrame.Count=this.m_Context.Status.InitResponse.fg_round,this.m_Context.PlaySound(t.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_IsBlackboardShowed=!0,this.m_CurTs=0),e.State==slot.Event.Blackboard.STATE_HIDE&&(this.m_Context.Status.ActionDesc.PushNewRound(),this.SwitchTo(new l))
},n.prototype.Timing_100msUP=function(e){this.m_IsBlackboardShowed&&(this.m_CurTs+=100,this.m_CurTs>=this.m_PlayBonusBgmTs&&0!=this.m_PlayBonusBgmTs&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(t.Enum.SoundIds.FREE_BGM)),this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_CurTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){this.m_PlayBonusBgmTs>0&&(this.m_PlayBonusBgmTs=0,this.m_Context.PlayBgm(t.Enum.SoundIds.FREE_BGM)),this.m_Context.Dc.Scene.SwitchTo(t.Controls.SceneType.Free),this.m_Context.Dc.Blackboard.Hide()},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!1},n}(i);e.Stage_InterludeEntrance=a,__reflect(a.prototype,"game.MineSlot.Core.Stage_InterludeEntrance");var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.STATUS_NONE=0,t.STATUS_MINER=1,t.STATUS_SPIN=2,t.m_CurDelayTs=0,t.m_StoppingReelIndex=0,t.m_IsBombing=!1,t.m_IsSpinningStart=!1,t.m_BombPoints=[],t.m_BombPosList=[],t.m_BombCount=0,t.m_WildPosList=[],t.m_State=t.STATUS_NONE,t}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.FREE_SPIN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){e.prototype.EnterStage.call(this),this.m_Context.Dc.FreeSpin.ComboLabel.HideAll(),this.m_Context.Dc.AddSpinFrame.Spinned+=1,this.m_Context.Dc.Miner.addEventListener(t.Event.Bomb.IN_PLACE,this.OnMinerBombInPlace,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.addEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.StopPosList(this.m_Context.Status.ActionDesc.FreeStopPosList(!0)),this.m_Context.Dc.FreeSpin.ReelMachine.Roll(),this.m_Context.PlaySound(t.Enum.SoundIds.SPIN_START),this.m_Context.PlaySound(t.Enum.SoundIds.REEL_SPIN,-1),this.CheckWildBomb()?(this.m_State=this.STATUS_MINER,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?1250:2500):(this.m_State=this.STATUS_SPIN,this.m_ActionDelayTs=this.m_Context.Dc.ScoreBar.IsTurbo?750:1500)},n.prototype.CheckWildBomb=function(){this.m_WildPosList=this.m_Context.Status.ActionDesc.FreeWildPosList(),this.m_BombPoints=[],this.m_BombCount=0;for(var t=5,e=this.m_Context.Status.ActionDesc.FreeWildCount(),n=e>=t?1:e/t,i=.4,o=.8,s=i+(o-i)*n,r=0,a=this.m_WildPosList.length;a>r;r++)if(!(Math.random()>s))for(var l=0,h=this.m_WildPosList[r];l<h.length;l++){var u=h[l],m=this.m_Context.Dc.FreeSpin.ReelMachine.GetSymbol(r,u);if(this.m_BombPoints.push(new egret.Point(430+315*r,m.y+320)),this.m_BombPosList.push(new egret.Point(r,u)),this.m_BombCount++,this.m_BombPoints.length>=3)return!0}return this.m_BombCount>0},n.prototype.Timing_100msUP=function(e){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_MINER:if(this.m_StoppingReelIndex>=t.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.FreeSpin.ReelMachine.IsSpinning)return;if(this.m_CurDelayTs+=100,this.m_CurDelayTs<this.m_ActionDelayTs)return;if(this.m_IsBombing)return;this.m_IsBombing=!0,this.m_Context.Dc.Miner.Show(this.m_BombPoints),this.m_Context.PlaySound(t.Enum.SoundIds.MINER_CAR);break;case this.STATUS_SPIN:if(this.m_StoppingReelIndex>=t.Config.Reel.ReelCount)return;if(!this.m_Context.Dc.FreeSpin.ReelMachine.IsSpinning)return;this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ScoreBar.IsTurbo?this.m_Context.Dc.FreeSpin.ReelMachine.StopAll():(this.m_ActionDelayTs=this.m_StoppingReelIndex<t.Config.Reel.ReelCount-1?t.Config.Reel.SlotReelStartTimeInterval_1:0,this.m_Context.Dc.FreeSpin.ReelMachine.StopAt(this.m_StoppingReelIndex)))}},n.prototype.OnReelRolling=function(t){this.m_IsSpinningStart||(this.m_IsSpinningStart=!0)},n.prototype.OnReelStopping=function(e){this.m_Context.StopSound(t.Enum.SoundIds.REEL_SPIN),this.m_Context.PlaySound(t.Enum.SoundIds.REEL_SPIN,-1),this.m_StoppingReelIndex=e.ReelNum+1},n.prototype.OnReelStopped=function(e){this.m_Context.PlaySound(t.Enum.SoundIds.REEL_STOP)},n.prototype.OnReelAllStopped=function(){this.m_IsSpinningStart=!1,this.m_Context.StopSound(t.Enum.SoundIds.REEL_SPIN),this.SwitchTo(new h)},n.prototype.OnMinerBombInPlace=function(e){var n=this.m_BombPosList[e.Index];this.m_Context.Dc.ExplosionFrames.ShowOne(n.x,n.y),this.m_Context.PlaySound(t.Enum.SoundIds.BOMB),this.m_BombCount--,this.m_BombCount<=0&&(this.m_State=this.STATUS_SPIN)},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.ExplosionFrames.Clear(),this.m_Context.Dc.Miner.Clear(),this.m_Context.Dc.Miner.removeEventListener(t.Event.Bomb.IN_PLACE,this.OnMinerBombInPlace,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ROLLING,this.OnReelRolling,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPING,this.OnReelStopping,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.STOPPED,this.OnReelStopped,this),this.m_Context.Dc.FreeSpin.ReelMachine.removeEventListener(slot.Event.Reel.ALL_STOPPED,this.OnReelAllStopped,this)},n}(i);e.Stage_FreeSpin=l,__reflect(l.prototype,"game.MineSlot.Core.Stage_FreeSpin");var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.STATUS_NONE=0,t.STATUS_SPIN=1,t.STATUS_SHOW_WIN_SYMBOL=2,t.STATUS_SHOW_WIN_SCORE=3,t.STATUS_BOMB=4,t.STATUS_EXIT_BONUS=5,t.m_State=t.STATUS_NONE,t.m_CurDelayTs=0,t.m_ActionDelayTs=0,t.m_ThisRoundWin=0,t}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.FREE_RESULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){e.prototype.EnterStage.call(this),this.CheckEnterPhase(),this.m_Context.Dc.ExplosionFrames.addEventListener(t.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.addEventListener(t.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},Object.defineProperty(n.prototype,"m_WinPosList",{get:function(){return this.m_Context.Status.ActionDesc.FreeWinPosList()},enumerable:!0,configurable:!0}),n.prototype.CheckEnterPhase=function(){this.m_CurDelayTs=0,this.m_Context.Status.ActionDesc.RefreshFreePosList(),this.m_ThisRoundWin=this.m_Context.Status.ActionDesc.FreeThisRoundWin,this.m_Context.Status.ActionDesc.IsFreeComboEndded&&this.m_Context.Dc.AddSpinFrame.IsFinished?(this.m_ActionDelayTs=1e3,this.m_State=this.STATUS_EXIT_BONUS):this.m_ThisRoundWin>0?(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SHOW_WIN_SYMBOL):(this.m_ActionDelayTs=100,this.m_State=this.STATUS_SPIN)},n.prototype.Timing_100msUP=function(e){if(0!=this.m_ActionDelayTs&&this.m_State!=this.STATUS_NONE)switch(this.m_State){case this.STATUS_SHOW_WIN_SYMBOL:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.PlaySound(t.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.FreeSpin.ReelMachine.ShowWin(this.m_WinPosList),this.m_Context.Dc.WinFrames.Show(this.m_WinPosList),this.m_Context.JumpComboLabel(this.m_Context.Dc.FreeSpin.ComboLabel,this.m_WinPosList),this.m_ActionDelayTs=500,this.m_State=this.STATUS_SHOW_WIN_SCORE);break;case this.STATUS_SHOW_WIN_SCORE:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_Context.Dc.ComboScore.Show(this.m_ThisRoundWin,1.5),this.m_ActionDelayTs=2300,this.m_State=this.STATUS_BOMB);case this.STATUS_BOMB:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.m_Context.Status.ActionDesc.SetThisRoundFreeWin(this.m_ThisRoundWin),this.m_Context.Dc.ScoreBar.Win+=this.m_ThisRoundWin,this.m_Context.Dc.ComboScore.visible=!1,this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.m_Context.Dc.WinFrames.Clear(),this.m_Context.Dc.ExplosionFrames.Show(this.m_WinPosList));break;case this.STATUS_SPIN:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new l));break;case this.STATUS_EXIT_BONUS:this.m_CurDelayTs+=100,this.m_CurDelayTs>=this.m_ActionDelayTs&&(this.m_CurDelayTs=0,this.m_ActionDelayTs=0,this.SwitchTo(new u))}},n.prototype.OnExplosioned=function(t){this.m_Context.Status.ActionDesc.UpdateFreeStopPosList(),this.CheckEnterPhase()},n.prototype.OnExplosioning=function(e){var n=this.m_WinPosList[e.Reel].indexOf(e.Row),i=this.m_Context.Status.ActionDesc.FreeBombPosList()[e.Reel][n];if(this.m_Context.Dc.FreeSpin.ReelMachine.BomboPosList(e.Reel,e.Row,i),this.m_Context.PlaySound(t.Enum.SoundIds.BOMB),0==e.Reel||e.Reel==t.Config.Reel.ReelCount-1){var o=0==e.Reel?0:1,s=this.m_Context.Status.ActionDesc.FreePayoutPosList()[o][4-e.Row];this.m_Context.Dc.FreeSpin.ComboLabel.Show(e.Reel,4-e.Row,s)}},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.ComboScore.Clear(),this.m_Context.Dc.ExplosionFrames.removeEventListener(t.Event.ExplosionUI.BOMBING,this.OnExplosioning,this),this.m_Context.Dc.ExplosionFrames.removeEventListener(t.Event.ExplosionUI.FINISHED,this.OnExplosioned,this)},n}(i);e.Stage_FreeResult=h,__reflect(h.prototype,"game.MineSlot.Core.Stage_FreeResult");var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_CurTs=0,t.m_AutoBtnClickTs=5e3,t.m_IsDigitsTransFinished=!1,t.m_IsClickedBlackboard=!1,t}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.INTERLUDE_EXIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var t=e.prototype.GetBtnEnables.call(this);return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return slot.Enum.ScoreBarUI.Buttons.SPIN|slot.Enum.ScoreBarUI.Buttons.STOP|slot.Enum.ScoreBarUI.Buttons.AUTO},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){e.prototype.EnterStage.call(this),this.m_Context.StopBgm(),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.addEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Blackboard.ListenEvent=!0,this.m_Context.Dc.Blackboard.Show(slot.Controls.BlackboardSwitcherUI.STATUS_EXEUNT)},n.prototype.OnBlackboardShowed=function(e){e.State==slot.Event.Blackboard.STATE_SHOW&&(this.m_Context.PlaySound(t.Enum.SoundIds.INTERLUDE_ENTRANCE),this.m_Context.Dc.Blackboard.SetNumber(this.m_Context.Status.ActionDesc.GetThisRoundFreeWin()))},n.prototype.OnDigitsTransFinished=function(){this.m_IsDigitsTransFinished=!0,this.m_CurTs=0},n.prototype.Timing_100msUP=function(){this.m_IsDigitsTransFinished&&0!=this.m_AutoBtnClickTs&&(this.m_CurTs+=100,this.m_CurTs>=this.m_AutoBtnClickTs&&(this.m_AutoBtnClickTs=0,this.OnBlackboardClicked()))},n.prototype.OnBlackboardClicked=function(){!this.m_IsClickedBlackboard&&this.m_IsDigitsTransFinished&&(this.m_IsClickedBlackboard=!0,this.m_Context.PlayBgm(t.Enum.SoundIds.MAIN_BGM),this.m_Context.PlaySound(t.Enum.SoundIds.INTERLUDE_EXIT),this.m_Context.Dc.Scene.addEventListener(t.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this),this.m_Context.Dc.Scene.SwitchTo(t.Controls.SceneType.Main),this.m_Context.Dc.FreeSpin.ComboLabel.visible=!1,this.m_Context.Dc.MainSpin.ComboLabel.visible=!0,this.m_Context.Dc.ComboScore.ComboCount=this.m_Context.Status.MainComboCount,this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.Clear())},n.prototype.OnScenesShowed=function(){this.m_Context.Dc.FreeSpin.ReelMachine.Clear(),this.SwitchTo(new r(!0))},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.Blackboard.ListenEvent=!1,this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.ACTION_FINISHED,this.OnBlackboardShowed,this),this.m_Context.Dc.Blackboard.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Context.Dc.Blackboard.removeEventListener(slot.Event.Blackboard.CLICK,this.OnBlackboardClicked,this),this.m_Context.Dc.Scene.removeEventListener(t.Event.Scene.ACTION_FINISHED,this.OnScenesShowed,this)},n}(i);__reflect(u.prototype,"Stage_InterludeExit");var m=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.STATUS_NONE=0,t.STATUS_SHOW_WIN=1,t.STATUS_ALL_WIN_TRANED=2,t.STATUS_SCORE_BAR_PLUS_WIN=3,t.STATUS_SCORE_BAR_TO_CREDIT=4,t.STATUS_NEXT_ROUND=5,t.m_State=t.STATUS_NONE,t.m_TotalWin=0,t.m_IsBigWinShow=!1,t.m_DelayActionTs=0,t.m_CurTs=0,t}return __extends(n,e),Object.defineProperty(n.prototype,"Type",{get:function(){return t.Enum.StageTypes.COMMIT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){var t=e.prototype.GetBtnEnables.call(this)|slot.Enum.ScoreBarUI.Buttons.AUTO;return t},enumerable:!0,configurable:!0}),n.prototype.EnterStage=function(){e.prototype.EnterStage.call(this),this.m_CurTs=0,this.m_TotalWin=this.m_Context.Status.ActionDesc.TotalAllWin,this.m_TotalWin<=0?(this.m_State=this.STATUS_NEXT_ROUND,this.m_DelayActionTs=400):(this.m_State=this.STATUS_SHOW_WIN,this.m_DelayActionTs=200),this.m_Context.Dc.BigWin.addEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.addEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this)},n.prototype.OnTranFinished=function(){this.m_State=this.STATUS_ALL_WIN_TRANED,this.m_DelayActionTs=1e3},n.prototype.Timing_100msUP=function(e){if(this.m_State!=this.STATUS_NONE&&0!=this.m_DelayActionTs)switch(this.m_State){case this.STATUS_SHOW_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.m_IsBigWinShow=this.m_TotalWin/this.m_Context.Dc.ScoreBar.Bet>=50,this.m_IsBigWinShow?this.m_Context.Dc.BigWin.Show(this.m_Context.Dc.ScoreBar.Bet,this.m_TotalWin):(this.m_Context.PlaySound(t.Enum.SoundIds.SYMBOL_WIN),this.m_Context.Dc.NormalScore.TransTo(this.m_TotalWin,2)));break;case this.STATUS_ALL_WIN_TRANED:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToNextLevel(),this.m_State=this.STATUS_SCORE_BAR_PLUS_WIN);break;case this.STATUS_SCORE_BAR_PLUS_WIN:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.IsAutoPlay&&this.m_IsBigWinShow&&this.m_Context.Dc.BigWin.IsShowing&&this.m_Context.Dc.BigWin.SwitchToLastLevel(),this.m_Context.Dc.ScoreBar.Win=this.m_TotalWin,this.m_State=this.STATUS_SCORE_BAR_TO_CREDIT);break;case this.STATUS_SCORE_BAR_TO_CREDIT:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=500,this.m_Context.Dc.ScoreBar.Commit(this.m_Context.Status.ActionDesc.m_Response.user_amt,this.m_TotalWin,this.m_Context.Status.ActionDesc.GetFreeTotalWin()>0),this.m_State=this.STATUS_NEXT_ROUND);break;case this.STATUS_NEXT_ROUND:this.m_CurTs+=100,this.m_CurTs>=this.m_DelayActionTs&&(this.m_CurTs=0,this.m_DelayActionTs=0,this.SwitchTo(new o))}},n.prototype.LeaveStage=function(){e.prototype.LeaveStage.call(this),this.m_Context.Dc.BigWin.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this),this.m_Context.Dc.NormalScore.removeEventListener(slot.Event.BigWin.TRAN_FINISHED,this.OnTranFinished,this)},n}(i);e.Stage_Commit=m,__reflect(m.prototype,"game.MineSlot.Core.Stage_Commit")}(e=t.Core||(t.Core={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.Stage=null,n.IsRunning=!1,n.CurrentGameStaus=t.Enum.GameStatus.None,n.UserLevelBet=null,n.InitResponse=null,n.MainComboCount=0,n.ActionDesc=new i,n}return __extends(n,e),n.prototype.Clear=function(){this.IsRunning=!1,this.ActionDesc.Clear()},n}(slot.Game.Status);e.Status=n,__reflect(n.prototype,"game.MineSlot.Core.Status");var i=function(){function e(){this.m_Response=null,this.m_Detail=new bfcl.Collections.Dictionary,this.m_FreeWins=[]}return e.prototype.PushNewRound=function(){this.m_FreeWins.push(0)},e.prototype.GetThisRoundFreeWin=function(){return 0==this.m_FreeWins.length?0:this.m_FreeWins[this.m_FreeWins.length-1]},e.prototype.SetThisRoundFreeWin=function(t){this.m_FreeWins[this.m_FreeWins.length-1]+=t},e.prototype.GetFreeTotalWin=function(){for(var t=0,e=0,n=this.m_FreeWins;e<n.length;e++){var i=n[e];t+=i}return t},Object.defineProperty(e.prototype,"IsMainComboEndded",{get:function(){return this.m_Detail.GetValue(e.MAIN).IsComboEndded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFreeComboEndded",{get:function(){return this.m_Detail.GetValue(e.FREE).IsComboEndded},enumerable:!0,configurable:!0}),e.prototype.RefreshMainPosList=function(){this.m_Detail.GetValue(e.MAIN).RefreshPosList()},e.prototype.UpdateMainStopPosList=function(){this.MainStopPosList()},e.prototype.RefreshFreePosList=function(){this.m_Detail.GetValue(e.FREE).RefreshPosList()},e.prototype.UpdateFreeStopPosList=function(){this.FreeStopPosList()},Object.defineProperty(e.prototype,"MainThisRoundWin",{get:function(){return this.m_Detail.GetValue(e.MAIN).ThisRoundWin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FreeThisRoundWin",{get:function(){return this.m_Detail.GetValue(e.FREE).ThisRoundWin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalAllWin",{get:function(){return this.m_Response.all_win_amt},enumerable:!0,configurable:!0}),e.prototype.MainStopPosList=function(){return this.m_Detail.GetValue(e.MAIN).ClacStopPosList(this.m_Response.slot)},e.prototype.FreeStopPosList=function(t){void 0===t&&(t=!1);var n=t?this.m_Response.bonus.splice(0,1)[0]:this.m_Response.bonus[0];return this.m_Detail.GetValue(e.FREE).ClacStopPosList(n,t,this.m_Response.bonus.length>0)},e.prototype.CanIntoFreeGame=function(){return this.m_Detail.GetValue(e.MAIN).CanIntoBonus()},e.prototype.MainScatterPosList=function(){return this.m_Detail.GetValue(e.MAIN).ScatterPosList()},e.prototype.MainWildPosList=function(){return this.m_Detail.GetValue(e.MAIN).WildPosList()},e.prototype.FreeWildPosList=function(){return this.m_Detail.GetValue(e.FREE).WildPosList()},e.prototype.FreeWildCount=function(){return this.m_Detail.GetValue(e.FREE).WildCount()},e.prototype.MainWinPosList=function(){return this.m_Detail.GetValue(e.MAIN).WinPosList()},e.prototype.FreeWinPosList=function(){return this.m_Detail.GetValue(e.FREE).WinPosList()},e.prototype.MainBombPosList=function(){return this.m_Detail.GetValue(e.MAIN).BombPosList()},e.prototype.MainPayoutPosList=function(){return this.m_Detail.GetValue(e.MAIN).PayoutPosList()},e.prototype.FreeBombPosList=function(){return this.m_Detail.GetValue(e.FREE).BombPosList()},e.prototype.FreePayoutPosList=function(){return this.m_Detail.GetValue(e.FREE).PayoutPosList()},e.prototype.SetValue=function(n){this.Clear(),this.m_Response=n,this.m_Detail.Add(e.MAIN,new o),this.m_Detail.Add(e.FREE,new o),this.m_Detail.GetValue(e.MAIN).DemoPosList=t.Utils.Array.StrSlotToDemoPosList(n.demo_slot),this.m_Detail.GetValue(e.FREE).DemoPosList=null==n.bonus_demo_slot?[]:t.Utils.Array.StrSlotToDemoPosList(n.bonus_demo_slot,!0)},e.prototype.Clear=function(){this.m_Response=null;for(var t=0;t<this.m_Detail.Count;t++)this.m_Detail.GetValuePair(t).Value.Clear();this.m_Detail.Clear(),this.m_FreeWins=[]},e.MAIN=0,e.FREE=1,e}();e.ActionDesc=i,__reflect(i.prototype,"game.MineSlot.Core.ActionDesc");var o=function(){function e(){this.m_Info=null,this.m_Odds=[],this.m_WinAmts=[],this.DemoPosList=null,this.m_StopPosList=null,this.m_WildCount=-1,this.m_WildPosList=null,this.m_ScatterCount=-1,this.m_ScatterPosList=null,this.m_WinPosList=null,this.m_BombPosList=null,this.m_PayoutPosList=null,this.m_ThisRoundWin=0}return e.prototype.CanIntoBonus=function(){return this.ScatterCount>=3},e.prototype.WildCount=function(){return-1==this.m_WildCount&&this.WildPosList(),this.m_WildCount},e.prototype.WildPosList=function(){if(null==this.m_WildPosList){this.m_WildPosList=this.GetWildPosList(),this.m_WildCount=0;for(var t=0,e=this.m_WildPosList;t<e.length;t++){var n=e[t];this.m_WildCount+=n.length}}return this.m_WildPosList},Object.defineProperty(e.prototype,"ScatterCount",{get:function(){return-1==this.m_ScatterCount&&this.ScatterPosList(),this.m_ScatterCount},enumerable:!0,configurable:!0}),e.prototype.ScatterPosList=function(){if(null==this.m_ScatterPosList){this.m_ScatterPosList=this.GetScatterPosList(),this.m_ScatterCount=0;for(var t=0,e=this.m_ScatterPosList;t<e.length;t++){var n=e[t];this.m_ScatterCount+=n.length}}return this.m_ScatterPosList},e.prototype.WinPosList=function(){return null==this.m_WinPosList&&(this.m_WinPosList=this.GetWinPosList()),this.m_WinPosList},e.prototype.BombPosList=function(){return null==this.m_BombPosList&&(this.m_BombPosList=this.GetBombPosList()),this.m_BombPosList},e.prototype.PayoutPosList=function(){return null==this.m_PayoutPosList&&(this.m_PayoutPosList=this.GetPayoutPosList()),this.m_PayoutPosList},Object.defineProperty(e.prototype,"IsComboEndded",{get:function(){return 0==this.m_WinAmts.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ThisRoundWin",{get:function(){return this.m_ThisRoundWin},enumerable:!0,configurable:!0}),e.prototype.RefreshPosList=function(){this.m_ThisRoundWin=this.m_WinAmts.splice(0,1)[0],this.m_WinPosList=null,this.m_BombPosList=null,this.m_PayoutPosList=null,this.m_WildPosList=null,this.m_WildCount=-1,this.m_ScatterPosList=null,this.m_ScatterCount=-1},e.prototype.ClacStopPosList=function(e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),null==this.m_Info||n){this.m_Info=e,this.m_WinAmts=bfcl.Utils.Array.StrToNumberArray(this.m_Info.WinAmts);var o=this.m_Info.Odds.split(",");this.m_Odds=[];for(var s=0,r=o;s<r.length;s++){var a=r[s];this.m_Odds.push(+a)}this.m_Odds.splice(0,8)}this.m_StopPosList=[];for(var l=t.Config.Reel.ReelCount,h=t.Config.Reel.RowCount+2,u=i?t.Utils.Array.GetRandDemoPosList():this.DemoPosList,m=0;l>m;m++){this.m_StopPosList.push([]);for(var c=0;h>c;c++)if(0!=c&&c!=h-1)this.m_StopPosList[m].push(void 0);else{var _=0==c?u[m+l]:u[m];this.m_StopPosList[m].push(_)}}for(var p=this.m_Info.reels_handle,m=0;m<p.length;m++){var d=m%t.Config.Reel.ReelCount,f=t.Config.Reel.RowCount-Math.floor(m/t.Config.Reel.ReelCount);this.m_StopPosList[d][f]=+p[m][0]}return this.m_StopPosList},e.prototype.GetWildPosList=function(){for(var e=[],n=0;5>n;n++)if(e.push([]),0!=n&&4!=n)for(var i=1;4>=i;i++)this.m_StopPosList[n][i]==t.Enum.SymbolCodes.Wild&&e[n].push(i);return e},e.prototype.GetScatterPosList=function(){for(var e=[],n=0;5>n;n++)if(e.push([]),0!=n&&4!=n)for(var i=1;4>=i;i++)this.m_StopPosList[n][i]==t.Enum.SymbolCodes.FreeGame&&e[n].push(i);return e},e.prototype.GetWinPosList=function(){for(var e=[],n=0;n<t.Config.Reel.ReelCount;n++)e.push([]);if(e=this.FindMatchReelsAndRows(e),e=this.FindMatchReelsAndRows(e,!0),this.ScatterCount>=3)for(var n=0,i=this.m_ScatterPosList.length;i>n;n++)for(var o=0,s=this.m_ScatterPosList[n];o<s.length;o++){var r=s[o];e[n].push(r)}return e},e.prototype.FindMatchReelsAndRows=function(e,n){function i(e){return e?t.Config.Reel.ReelCount-2:1}function o(t,e,n){return n?t>=e:e>t}function s(e){return e?0:t.Config.Reel.ReelCount}function r(t,e){return e?--t:++t}void 0===n&&(n=!1);for(var a=n?this.m_StopPosList[this.m_StopPosList.length-1]:this.m_StopPosList[0],l=1;4>=l;l++){for(var h=a[l],u=[],m=i(n);o(m,s(n),n);m=r(m,n)){for(var c=[],_=1;4>=_;_++){var p=this.m_StopPosList[m][_];(p==h||p==t.Enum.SymbolCodes.Wild)&&c.push(_)}if(c.length<=0)break;u.push(c)}if(!(u.length<2)){var d=n?t.Config.Reel.ReelCount-1:0;-1==e[d].indexOf(l)&&e[d].push(l);for(var f=0;f<u.length;f++)for(var g=u[f].length,S=0;g>S;S++){var m=n?t.Config.Reel.ReelCount-2-f:f+1,_=u[f][S];-1==e[m].indexOf(_)&&e[m].push(_)}}}return e},e.prototype.GetBombPosList=function(){for(var e=bfcl.Utils.Array.Clone2(this.m_WinPosList),n=!1,i=0;i<t.Config.Reel.ReelCount;i++){for(var o=this.m_WinPosList[i],s=0;s<o.length;s++){var r=o[s],a=(t.Config.Reel.RowCount-r)*t.Config.Reel.ReelCount+i;if(this.m_Info.reels_handle.length<=0){n=!0;break}if(this.m_Info.reels_handle[a].splice(0,1),e[i][s]=+this.m_Info.reels_handle[a][0],isNaN(e[i][s]));}if(n){e=[];break}}return e},e.prototype.GetPayoutPosList=function(){var t=[];return t.push(this.m_Odds.splice(0,4)),t.push(this.m_Odds.splice(0,4)),t},e.prototype.Clear=function(){this.m_Info=null,this.m_Odds=null,this.DemoPosList=null,this.m_StopPosList=null,this.m_ScatterPosList=null,this.m_WinPosList=null,this.m_ScatterCount=-1},e}();__reflect(o.prototype,"Detail")}(e=t.Core||(t.Core={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(slot.Game.Worker);t.Worker=e,__reflect(e.prototype,"game.MineSlot.Core.Worker")}(e=t.Core||(t.Core={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Index=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Index",{get:function(){return this.m_Index},enumerable:!0,configurable:!0}),e.IN_PLACE="Bomb_IN_PLACE",e}(egret.Event);t.Bomb=e,__reflect(e.prototype,"game.MineSlot.Event.Bomb")}(e=t.Event||(t.Event={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o,s){void 0===n&&(n=-1),void 0===i&&(i=-1),void 0===o&&(o=!1),void 0===s&&(s=!1);var r=t.call(this,e,o,s)||this;return r.m_Reel=n,r.m_Row=i,r}return __extends(e,t),Object.defineProperty(e.prototype,"Reel",{get:function(){return this.m_Reel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Row",{get:function(){return this.m_Row},enumerable:!0,configurable:!0}),e.BOMBING="ExplosionUI_BOMBING",e.FINISHED="ExplosionUI_FINISHED",e}(egret.Event);t.ExplosionUI=e,__reflect(e.prototype,"game.MineSlot.Event.ExplosionUI")}(e=t.Event||(t.Event={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)||this}return __extends(e,t),e.ACTION_FINISHED="Scene_ACTION_FINISHED",e}(egret.Event);t.Scene=e,__reflect(e.prototype,"game.MineSlot.Event.Scene")}(e=t.Event||(t.Event={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}。",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton error，singleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list！",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}
}t.Get_en_US=e}(e=t.Sound||(t.Sound={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(){return{1e3:"icon_08_png",1001:"找不到Egret入口类: {0}。",1002:"Egret入口类 {0} 必须继承自egret.DisplayObject。",1003:"参数 {0} 不能为 null。",1004:"无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。",1005:"不能将对象添加为其自身的子对象。",1006:"提供的 DisplayObject 必须是调用者的子级。",1007:"为参数指定的索引不在范围内。",1008:"实例化单例出错，不允许实例化多个 {0} 对象。",1009:"类 {0} 不可以使用属性 {1}",1010:"类 {0} 属性 {1} 是只读的",1011:"流错误。URL: {0}",1012:"参数 {0} 的类型必须为 Class。",1013:"变量赋值为NaN，请查看代码！",1014:"类 {0} 常量 {1} 是只读的",1015:"xml not found!",1016:"{0}已经废弃",1017:"JSON文件格式不正确: {0}\ndata: {1}",1018:"9宫格设置错误",1019:"网络异常:{0}",1020:"无法初始化着色器",1021:"当前浏览器不支持webgl",1022:"{0} ArgumentError",1023:"此方法在ScrollView内不可用!",1025:"遇到文件尾",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:"调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"跨域图片不可以使用toDataURL来转换成base64",1034:'音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。',1035:"Native 下暂未实现此功能！",1036:"声音已停止，请重新调用 Sound.play() 来播放声音！",1037:"非正确的blob加载！",1038:"XML 格式错误!",1039:"跨域图片不能获取像素信息!",1040:"hitTestPoint 不能对跨域图片进行检测! 请检查该显示对象内是否含有跨域元素",1041:"{0} 已废弃,请使用 {1} 代替",1042:"drawToTexture方法传入的区域各个参数需要为整数,否则某些浏览器绘制会出现异常",1043:"{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",1044:"当前的 runtime 版本不支持视频播放,请使用最新的版本",1045:"没有设置要加载的资源地址",1046:"BitmapText 找不到对应字符:{0}，请检查配置文件",1047:"egret.localStorage.setItem保存失败,key={0}&value={1}",1048:"视频加载失败",1049:"声音在没有加载完之前不允许播放",1050:"ExternalInterface调用了js没有注册的方法: {0}",1051:"runtime 只支持 webgl 渲染模式",1052:"网络请求超时:{0}",3e3:"主题配置文件加载失败: {0}",3001:"找不到主题中所配置的皮肤类名: {0}",3002:'索引:"{0}"超出集合元素索引范围',3003:"在此组件中不可用，若此组件为容器类，请使用",3004:"addChild(){0}addElement()代替",3005:"addChildAt(){0}addElementAt()代替",3006:"removeChild(){0}removeElement()代替",3007:"removeChildAt(){0}removeElementAt()代替",3008:"setChildIndex(){0}setElementIndex()代替",3009:"swapChildren(){0}swapElements()代替",3010:"swapChildrenAt(){0}swapElementsAt()代替",3011:'索引:"{0}"超出可视元素索引范围',3012:"此方法在Scroller组件内不可用!",3013:"UIStage是GUI根容器，只能有一个此实例在显示列表中！",3014:"设置全屏模式失败",3100:"当前浏览器不支持WebSocket",3101:"请先连接WebSocket",3102:"请先设置type为二进制类型",3200:"getResByUrl 必须在 loadConfig 之后调用",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"该平台不支持 {0} 适配模式，已经自动替换为 {1} 模式，请修改您的代码适配逻辑"}}t.Get_vi_VN=e}(e=t.Sound||(t.Sound={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(){return{1e3:"icon_07_png",1001:"找不到Egret入口類: {0}。",1002:"Egret入口類 {0} 必須繼承自egret.DisplayObject。",1003:"參數 {0} 不能為 null。",1004:"無法將對象添加為它的一個子對象（或子對象的子對像等）的子對象。",1005:"不能將對象添加為其自身的子對象。",1006:"提供的 DisplayObject 必須是調用者的子級。",1007:"為參數指定的索引不在範圍內。",1008:"實例化單例出錯，不允許實例化多個 {0} 對象。",1009:"類 {0} 不可以使用屬性 {1}",1010:"類 {0} 屬性 {1} 是只讀的",1011:"流錯誤。URL: {0}",1012:"參數 {0} 的類型必須為 Class。",1013:"變量賦值為NaN，請查看代碼！",1014:"類 {0} 常量 {1} 是只讀的",1015:"xml not found!",1016:"{0}已經廢棄",1017:"JSON文件格式不正確: {0}\ndata: {1}",1018:"9宮格設置錯誤",1019:"網絡異常:{0}",1020:"無法初始化著色器",1021:"當前瀏覽器不支持webgl",1022:"{0} ArgumentError",1023:"此方法在ScrollView內不可用!",1025:"遇到文件尾",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:"調用了未配置的注入規則:{0}。 請先在項目初始化里配置指定的注入規則，再調用對應單例。",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"跨域圖片不可以使用toDataURL來轉換成base64",1034:'音樂文件解碼失敗："{0}"，請使用標準的轉換工具重新轉換下mp3。',1035:"Native 下暫未實現此功能！",1036:"聲音已停止，請重新調用 Sound.play() 來播放聲音！",1037:"非正確的blob加載！",1038:"XML 格式錯誤!",1039:"跨域圖片不能獲取像素信息!",1040:"hitTestPoint 不能對跨域圖片進行檢測! 請檢查該顯示對象內是否含有跨域元素",1041:"{0} 已廢棄,請使用 {1} 代替",1042:"drawToTexture方法傳入的區域各個參數需要為整數,否則某些瀏覽器繪製會出現異常",1043:"{0} 中存在編譯錯誤，屬性名 : {1}，屬性值 : {2}",1044:"當前的 runtime 版本不支持視頻播放,請使用最新的版本",1045:"沒有設置要加載的資源地址",1046:"BitmapText 找不到對應字符:{0}，請檢查配置文件",1047:"egret.localStorage.setItem保存失敗,key={0}&value={1}",1048:"視頻加載失敗",1049:"聲音在沒有加載完之前不允許播放",1050:"ExternalInterface調用了js沒有註冊的方法: {0}",1051:"runtime 只支持 webgl 渲染模式",1052:"網絡請求超時:{0}",3e3:"主題配置文件加載失敗: {0}",3001:"找不到主題中所配置的皮膚類名: {0}",3002:'索引:"{0}"超出集合元素索引範圍',3003:"在此組件中不可用，若此組件為容器類，請使用",3004:"addChild(){0}addElement()代替",3005:"addChildAt(){0}addElementAt()代替",3006:"removeChild(){0}removeElement()代替",3007:"removeChildAt(){0}removeElementAt()代替",3008:"setChildIndex(){0}setElementIndex()代替",3009:"swapChildren(){0}swapElements()代替",3010:"swapChildrenAt(){0}swapElementsAt()代替",3011:'索引:"{0}"超出可視元素索引範圍',3012:"此方法在Scroller組件內不可用!",3013:"UIStage是GUI根容器，只能有一個此實例在顯示列表中！",3014:"設置全屏模式失敗",3100:"當前瀏覽器不支持WebSocket",3101:"請先連接WebSocket",3102:"請先設置type為二進制類型",3200:"getResByUrl 必須在 loadConfig 之後調用",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"該平台不支持 {0} 適配模式，已經自動替換為 {1} 模式，請修改您的代碼適配邏輯"}}t.Get_zh_TW=e}(e=t.Sound||(t.Sound={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t.LOADING_INFO="LOADING_INFO",t.LOADING_LOADING="LOADING_LOADING",t.LOADING_ENTER_GAME="LOADING_ENTER_GAME",t.HELP_TITLE_1="HELP_TITLE_1",t.HELP_TITLE_2="HELP_TITLE_2",t.HELP_TITLE_3="HELP_TITLE_3",t.HELP_TITLE_4="HELP_TITLE_4",t.HELP_TITLE_5="HELP_TITLE_5",t.HELP_TITLE_6="HELP_TITLE_6",t.HELP_TITLE_7="HELP_TITLE_7"}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.Loading=function(){return{LOADING_INFO:"H5_Loading_msg_02_png",LOADING_LOADING:"Loading{0}",LOADING_ENTER_GAME:"ENTER GAME"}},t.Main=function(){return{HELP_TITLE_1:"Combo description",HELP_TITLE_2:"Special feature",HELP_TITLE_3:"Scoring rule",HELP_TITLE_4:"Paytable",HELP_TITLE_5:"FREE GAME",HELP_TITLE_6:"FREE GAME-Special feature1",HELP_TITLE_7:"FREE GAME-Special feature2"}},t}();t.en_US=e,__reflect(e.prototype,"game.MineSlot.Localization.Text.en_US")}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.Loading=function(){return{LOADING_INFO:"H5_Loading_msg_03_png",LOADING_LOADING:"載入中{0}",LOADING_ENTER_GAME:"truy cập trò chơi"}},t.Main=function(){return{HELP_TITLE_1:"Cơ chế kết hợp",HELP_TITLE_2:"Cơ chế đặc biệt",HELP_TITLE_3:"Mô tả điểm",HELP_TITLE_4:"Bảng tỷ lệ",HELP_TITLE_5:"FREE GAME",HELP_TITLE_6:"FREE GAME-Cơ chế đặc biệt-1",HELP_TITLE_7:"FREE GAME-Cơ chế đặc biệt-2"}},t}();t.vi_VN=e,__reflect(e.prototype,"game.MineSlot.Localization.Text.vi_VN")}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.Loading=function(){return{LOADING_INFO:"H5_Loading_msg_01_png",LOADING_LOADING:"載入中{0}",LOADING_ENTER_GAME:"進入遊戲"}},t.Main=function(){return{HELP_TITLE_1:"連爆機制",HELP_TITLE_2:"特殊機制",HELP_TITLE_3:"得分說明",HELP_TITLE_4:"賠率表",HELP_TITLE_5:"FREE GAME",HELP_TITLE_6:"FREE GAME-特殊機制-1",HELP_TITLE_7:"FREE GAME-特殊機制-2"}},t}();t.zh_TW=e,__reflect(e.prototype,"game.MineSlot.Localization.Text.zh_TW")}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o,s,r,a,l,h){var u=t.call(this)||this;return u.Code=-1,u.McX=-55,u.McY=-38,u.RowHeight=-1,u.Code=e,u.Normal=n,u.Blur=i,u.Win=o,void 0!=a&&(u.RowHeight=a),void 0!=s&&(u.OffestX=s),void 0!=r&&(u.OffestY=r),void 0!=l&&(u.McX=l),void 0!=h&&(u.McY=h),u}return __extends(e,t),e}(bfcl.Property.BaseProperty);t.SymbolProperty=e,__reflect(e.prototype,"game.MineSlot.Property.SymbolProperty")}(e=t.Property||(t.Property={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(){}return e.GetRandDemoPosList=function(){var e=[],n=[];for(var i in t.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==t.Enum.SymbolCodes.FreeGame)continue;e.push(o)}for(var s=0;s<t.Config.Reel.ReelCount;s++)for(var r=0;2>r;r++){var a=Math.floor(Math.random()*e.length);n.push(e[a])}return n},e.StrSlotToDemoPosList=function(e,n){void 0===n&&(n=!1),bfcl.Debug.Assert(null!=e&&e.length>0);for(var i=[],o=e.split(","),s=0,r=o;s<r.length;s++){var e=r[s],a=+e;n&&a==t.Enum.SymbolCodes.FreeGame&&(a=t.Enum.SymbolCodes.Miner),i.push(a)}return i},e}();e.Array=n,__reflect(n.prototype,"game.MineSlot.Utils.Array")}(e=t.Utils||(t.Utils={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(){}return e.GetRandDemoPosList=function(){var e=[],n=[];for(var i in t.Enum.SymbolCodes)if(!isNaN(Number(i))){var o=Number(i);if(o==t.Enum.SymbolCodes.FreeGame)continue;e.push(o)}for(var s=0;s<t.Config.Reel.ReelCount;s++)for(var s=0;s<t.Config.Reel.RowCount;s++){var r=Math.floor(Math.random()*e.length);n.push(e[r])}return n},e}();e.Slot=n,__reflect(n.prototype,"game.MineSlot.Utils.Slot")}(e=t.Utils||(t.Utils={}))}(e=t.MineSlot||(t.MineSlot={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n=function(e){function n(){var n=e.call(this)||this;return n.m_Context=null,n.m_Timer=new bfcl.Controls.Timer(100,0),n.m_LoadingUI=new t.MineSlot.Controls.LoadingPanelUI,n.skinName="resource/haydn_skins/mineSlot/MainSkin.exml",n}return __extends(n,e),Object.defineProperty(n.prototype,"Id",{get:function(){return bfcl.Constants.GameIds.MineSlot},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ResGroupName",{get:function(){return["MineSlot_1","MineSlot_2"]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogoIconName",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TextLibrary",{get:function(){var e=new bfcl.Localization.Library;return e.Register(bfcl.Constants.Codepages.TW,t.MineSlot.Localization.Text.zh_TW.Main()),e.Register(bfcl.Constants.Codepages.EN,t.MineSlot.Localization.Text.en_US.Main()),e.Register(bfcl.Constants.Codepages.VN,t.MineSlot.Localization.Text.vi_VN.Main()),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SoundLibrary",{get:function(){return new bfcl.Localization.Library},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LoadingUI",{get:function(){return this.m_LoadingUI},enumerable:!0,configurable:!0}),n.prototype.NewContext=function(){return new t.MineSlot.Core.Context},n.prototype.Init=function(e){e.Dc.Init(this.m_GpMainSpin,this.m_GpFreeSpin,this.m_GpEffect,e.Worker.LocalizationManager,e.Worker.AudioManager),t.MineSlot.Context.Instance=this.m_Context=e,this.m_Timer.addEventListener(bfcl.Event.Timer.UPDATE,this.Update,this)},n.prototype.Start=function(){var e=this;this.m_Timer.Start(),t.MineSlot.API.Service.GetGameInfo(function(n){egret.log("GetGameInfo"),e.m_Context.Status.InitResponse=n,e.m_Context.Dc.MainSpin.ReelMachine.Init(n.slot,n.demo_slot),e.m_Context.Dc.ScoreBar.Init(n.user_level_bet.bet_min,n.user_level_bet.bet_max,n.user_level_bet.bet_gap),e.m_Context.Dc.ScoreBar.Credit=n.user_amt,e.m_Context.Status.Stage=new t.MineSlot.Core.Stage_Bet,e.m_Context.Status.Stage.EnterStage(),e.m_Context.PlayBgm(t.MineSlot.Enum.SoundIds.MAIN_BGM)},this.m_Context.Dc.Waitting)},n.prototype.Update=function(e){null!=this.m_Context&&null!=this.m_Context.Status.Stage&&(this.m_Context.Status.Stage.Timing_100msUP(e.Pass),t.MineSlot.Core.Refresher.Update(this.m_Context))},n.prototype.Clear=function(){this.m_Timer.Stop()},n.prototype.Dispose=function(){this.Clear(),this.m_Timer.removeEventListener(bfcl.Event.Timer.UPDATE,this.Update,this),this.m_Timer=null,this.m_Context.Dc.Dispose()},n}(slot.Controls.GameUI);e.MineSlot=n,__reflect(n.prototype,"game.Scene.MineSlot")}(e=t.Scene||(t.Scene={}))}(game||(game={}));var kernel;!function(t){var e=function(){function e(e){var n=this;this.m_Context=new t.Core.Context,this.m_Context.Status=new t.Core.Status,this.m_Context.Worker=new t.Core.Worker,this.m_Context.Display=new t.Core.Display(e,this.m_Context.Worker.LocalizationManager,this.m_Context.Worker.AudioManager),this.m_Context.Display.SoundSettingPanel.addEventListener(bfcl.Event.Volume.CHANGED,function(t){bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.Volume(t.type,t.Params.type,t.Params.volume))},this),this.m_Context.Display.SoundSettingPanel.addEventListener(bfcl.Event.SoundSetting.COMFIRM,function(t){n.m_Context.Display.TopTool.IsVolumeOn=!t.IsMute},this),this.m_Context.Display.TopTool.addEventListener(bfcl.Event.TopTool.BUTTON_CLICK,function(t){if(t.Button==bfcl.Enum.TopToolUI.Buttons.VOLUME_ON&&n.m_Context.Display.SoundSettingPanel.SetMuteMode(!0),t.Button==bfcl.Enum.TopToolUI.Buttons.VOLUME_OFF&&n.m_Context.Display.SoundSettingPanel.SetMuteMode(!1),t.Button==bfcl.Enum.TopToolUI.Buttons.SHOPPING_CART){switch(n.m_Context.Status.Codepage){case bfcl.Constants.Codepages.TW:n.m_Context.Status.Codepage=bfcl.Constants.Codepages.EN;break;case bfcl.Constants.Codepages.EN:n.m_Context.Status.Codepage=bfcl.Constants.Codepages.VN;break;case bfcl.Constants.Codepages.VN:n.m_Context.Status.Codepage=bfcl.Constants.Codepages.TW}bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,n.m_Context.Status.Codepage))}},this),this.m_Context.GameManager=new t.Core.GameManager(this.m_Context.Display),this.m_Context.GameManager.Push([bfcl.Constants.GameIds.MineSlot]),this.m_Context.GameManager.SwtichGame(bfcl.Constants.GameIds.MineSlot,this.m_Context.Status.Codepage,this.m_Context.Display)}return e}();t.Main=e,__reflect(e.prototype,"kernel.Main")}(kernel||(kernel={}));var kernel;!function(t){var e=function(){function t(){}return t.AssetBundleUrl="http://192.168.11.128/EgretRes/",t}();t.Constants=e,__reflect(e.prototype,"kernel.Constants")}(kernel||(kernel={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(t,n){var i=e.call(this)||this;return i.m_Timer=null,i.m_CurTs=0,i.m_Timer=new egret.Timer(t,n),i.Stop(),i}return __extends(n,e),Object.defineProperty(n.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_ListenEvent?(this.m_Timer.addEventListener(egret.TimerEvent.TIMER,this.OnUpdate,this),this.m_Timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.OnFinished,this)):(this.m_Timer.removeEventListener(egret.TimerEvent.TIMER,this.OnUpdate,this),this.m_Timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.OnFinished,this)))},enumerable:!0,configurable:!0}),n.prototype.OnUpdate=function(e){var n=egret.getTimer(),i=n-this.m_CurTs;this.m_CurTs=n,this.dispatchEvent(new t.Event.Timer(t.Event.Timer.UPDATE,i))},n.prototype.OnFinished=function(){this.dispatchEvent(new t.Event.Timer(t.Event.Timer.FINISHED))},n.prototype.Start=function(){this.ListenEvent=!0,this.m_Timer.start(),this.m_CurTs=egret.getTimer()},n.prototype.Stop=function(){this.ListenEvent=!1,this.m_Timer.stop()},n.prototype.Dispose=function(){this.Stop(),this.m_Timer=null},n}(egret.EventDispatcher);e.Timer=n,__reflect(n.prototype,"bfcl.Controls.Timer")}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var kernel;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.Context=e,__reflect(e.prototype,"kernel.Core.Context")}(e=t.Core||(t.Core={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e=function(){function t(t,e,n){var i=this;this.Waitting=new bfcl.Controls.WaittingUI,this.BigWin=new slot.Controls.BigWinUI,this.NormalScore=new slot.Controls.NormalScore,this.ScoreBar=new slot.Controls.ScoreBarUI,this.Info=new bfcl.Controls.Info.PanelUI,this.GameMsgBox=new bfcl.Controls.MessageBoxUI,this.Blackboard=new slot.Controls.BlackboardSwitcherUI,this.SysMsgBox=new bfcl.Controls.MessageBoxUI,this.TopTool=new bfcl.Controls.TopToolUI,this.SoundSettingPanel=new bfcl.Controls.Sound.SettingPanelUI,this.Stage=t,this.SysMsgBox.LocalizationManager=e,this.ScoreBar.LocalizationManager=e,this.Waitting.Init(),this.BigWin.Init(),this.NormalScore.Init(),this.Info.Init(),this.SoundSettingPanel.Init(),this.ScoreBar.MenuBind([function(){return i.Info.Show()},function(){return i.SoundSettingPanel.Show()}]),this.BigWin.AudioManager=n,this.ScoreBar.AudioManager=n,this.NormalScore.AudioManager=n,this.SoundSettingPanel.AudioManager=n,this.Info.AudioManager=n,this.Blackboard.AudioManager=n,this.TopTool.AudioManager=n}return t}();t.Display=e,__reflect(e.prototype,"kernel.Core.Display")}(e=t.Core||(t.Core={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){t[t.GAME=0]="GAME",t[t.GAME_COMMON=1]="GAME_COMMON",t[t.PUBLIC=2]="PUBLIC",t[t.PUBLIC_MESSAGE=3]="PUBLIC_MESSAGE",t[t.LOADING_PANEL=4]="LOADING_PANEL"}(e||(e={}));var n=function(t){function n(n){var i=t.call(this)||this;i.m_Class=new bfcl.Collections.Dictionary,i.m_Games=new bfcl.Collections.Dictionary,i.m_Context=new bfcl.Collections.Dictionary,i.m_Layers=new bfcl.Collections.Dictionary,i.m_CurGame=null;for(var o=Object.keys(e).length/2,s=0;o>s;s++){var r=new egret.Sprite;n.Stage.addChild(r),i.m_Layers.Add(s,r)}return i.m_Layers.GetValue(e.GAME_COMMON).addChild(n.Blackboard),i.m_Layers.GetValue(e.GAME_COMMON).addChild(n.NormalScore),i.m_Layers.GetValue(e.GAME_COMMON).addChild(n.BigWin),i.m_Layers.GetValue(e.GAME_COMMON).addChild(n.ScoreBar),i.m_Layers.GetValue(e.GAME_COMMON).addChild(n.GameMsgBox),i.m_Layers.GetValue(e.PUBLIC).addChild(n.TopTool),i.m_Layers.GetValue(e.PUBLIC).addChild(n.SoundSettingPanel),i.m_Layers.GetValue(e.PUBLIC).addChild(n.Info),i.m_Layers.GetValue(e.PUBLIC).addChild(n.Waitting),i.m_Layers.GetValue(e.PUBLIC_MESSAGE).addChild(n.SysMsgBox),i}return __extends(n,t),Object.defineProperty(n.prototype,"CurGame",{get:function(){return this.m_CurGame},enumerable:!0,configurable:!0}),n.prototype.Push=function(t){for(var e=Object.keys(bfcl.Constants.GameIds),n=0,i=t;n<i.length;n++){for(var o=i[n],s=!1,r=0,a=e;r<a.length;r++){var l=a[r],h=bfcl.Constants.GameIds[l];if(o==h){this.m_Class.Add(h,l),s=!0;break}}bfcl.Debug.Assert(s,"find not game id:"+h)}},n.prototype.SwtichGame=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var o,s=this;return __generator(this,function(r){switch(r.label){case 0:return bfcl.Debug.Assert(this.m_Class.ContainsKey(t)),null!=this.m_CurGame&&(bfcl.Debug.Assert(this.m_CurGame.Id!=t),this.Recycle(),this.m_Layers.GetValue(e.GAME).removeChild(this.m_CurGame)),i.TopTool.BtnEnables=bfcl.Enum.TopToolUI.Buttons.UNKOWN,o=this,[4,this.Find(t,n,i,function(){s.m_CurGame.Start()})];case 1:return o.m_CurGame=r.sent(),i.TopTool.BtnEnables=bfcl.Enum.TopToolUI.Buttons.ALL,this.m_Layers.GetValue(e.GAME).addChild(this.m_CurGame),bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,n)),i.SoundSettingPanel.Synchronize(),[2]}})})},n.prototype.Find=function(t,n,i,o){return __awaiter(this,void 0,void 0,function(){var s,r;return __generator(this,function(a){switch(a.label){case 0:return s=null,r=null,this.m_Games.ContainsKey(t)?(s=this.m_Games.GetValue(t),r=this.m_Context.GetValue(t),[3,3]):[3,1];case 1:return s=new(game.Scene[this.m_Class.GetValue(t)]),[4,s.LoadResource(this.m_Layers.GetValue(e.LOADING_PANEL),n,o)];case 2:a.sent(),r=s.NewContext(),r.Worker.LocalizationManager=new bfcl.Localization.Manager(s.TextLibrary),r.Worker.AudioManager=new bfcl.Audio.Manager(s.SoundLibrary),r.Dc.GameMsgBox=i.GameMsgBox,r.Dc.Info=i.Info,r.Dc.Blackboard=i.Blackboard,r.Dc.BigWin=i.BigWin,r.Dc.NormalScore=i.NormalScore,r.Dc.ScoreBar=i.ScoreBar,r.Dc.Waitting=i.Waitting,r.Dc.GameMsgBox.LocalizationManager=r.Worker.LocalizationManager,r.Dc.Info.LocalizationManager=r.Worker.LocalizationManager,this.m_Games.Add(t,s),this.m_Context.Add(t,r),a.label=3;case 3:return s.Init(r),[2,s]}})})},n.prototype.Recycle=function(){if(null!=this.m_CurGame){this.m_CurGame.Clear();var t=this.m_Context.GetValue(this.m_CurGame.Id);t.Dc.Clear(),t.Worker.Clear()}},n}(eui.Component);t.GameManager=n,__reflect(n.prototype,"kernel.Core.GameManager")}(e=t.Core||(t.Core={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e=function(){function t(){this.Codepage=bfcl.Constants.Codepages.EN}return t}();t.Status=e,__reflect(e.prototype,"kernel.Core.Status")}(e=t.Core||(t.Core={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(e){var n=function(){function e(){this.SetLocalizationManager(),this.SetAudioManager()}return e.prototype.SetLocalizationManager=function(){var e=new bfcl.Localization.Library;e.Register(bfcl.Constants.Codepages.TW,t.Localization.Text.zh_TW()),e.Register(bfcl.Constants.Codepages.EN,t.Localization.Text.en_US()),e.Register(bfcl.Constants.Codepages.VN,t.Localization.Text.vi_VN()),this.LocalizationManager=new bfcl.Localization.Manager(e)},e.prototype.SetAudioManager=function(){var e=new bfcl.Localization.Library;e.Register(bfcl.Constants.Codepages.TW,t.localization.Sound.zh_TW()),e.Register(bfcl.Constants.Codepages.EN,t.localization.Sound.en_US()),e.Register(bfcl.Constants.Codepages.VN,t.localization.Sound.vi_VN()),this.AudioManager=new bfcl.Audio.Manager(e)},e}();e.Worker=n,__reflect(n.prototype,"kernel.Core.Worker")}(e=t.Core||(t.Core={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){function e(){return{Bigwin:"BigWin_mp3",Superwin:"SuperWin_mp3",Megawin:"MegaWin_mp3"}}t.en_US=e}(e=t.Sound||(t.Sound={}))}(e=t.localization||(t.localization={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){function e(){return{Bigwin:"BigWin_mp3",Superwin:"SuperWin_mp3",Megawin:"MegaWin_mp3"}}t.vi_VN=e}(e=t.Sound||(t.Sound={}))}(e=t.localization||(t.localization={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){function e(){return{Bigwin:"BigWin_mp3",Superwin:"SuperWin_mp3",Megawin:"MegaWin_mp3"}}t.zh_TW=e}(e=t.Sound||(t.Sound={}))}(e=t.localization||(t.localization={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){function e(){return{BUTTON_OK:"OK",BUTTON_CANCEL:"Cancel",SURE_ENTER_THIS_GAME:"Are you sure enter the game room?",GAME_PLAYING:"The game is in progress.",CREDIT_NOT_ENOUGH:"Your balance is insufficient!\nPlease adjust the bet amount or deposit money",MAX_BET_ARRIVED:"Maximum bet level reached",AUTO_PLAY:"AUTO PLAY",STOP_AUTOPLAY_CONFIG:"Stop Autoplay",IF_FREE_SPIN_ARE_WON:"If Free Spins are won.",IF_BALANCE_DECREASE_BY1:"If Balance decreases by",IF_BALANCE_DECREASE_BY2:"The minimum value is 100 ~ the maximum value is {0}",CREDIT:"Balance",WIN:"WIN",BET:"BET",MAX_BET:"MAX BET"}}t.en_US=e}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){function e(){return{BUTTON_OK:"Chắc chắn",BUTTON_CANCEL:"Hủy",SURE_ENTER_THIS_GAME:"Bạn có chắc vào phòng trò chơi?",GAME_PLAYING:"Trò chơi đang diễn ra",CREDIT_NOT_ENOUGH:"Số dư của bạn không đủ!\nVui lòng điều chỉnh lại tiền cược hoặc tiến hành nạp tiền",MAX_BET_ARRIVED:"Đã đạt mức đặt cược tối đa",AUTO_PLAY:"AUTO PLAY",STOP_AUTOPLAY_CONFIG:"Stop Autoplay",IF_FREE_SPIN_ARE_WON:"If Free Spins are won.",IF_BALANCE_DECREASE_BY1:"If Balance decreases by",IF_BALANCE_DECREASE_BY2:"The minimum value is 100 ~ the maximum value is {0}",CREDIT:"Balance",WIN:"WIN",BET:"BET",MAX_BET:"MAX BET"}}t.vi_VN=e}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(kernel||(kernel={}));var kernel;!function(t){var e;!function(t){var e;!function(t){function e(){return{BUTTON_OK:"確定",BUTTON_CANCEL:"取消",SURE_ENTER_THIS_GAME:"確定前往該遊戲館?",GAME_PLAYING:"遊戲進行中。",CREDIT_NOT_ENOUGH:"您餘額不足！\n請調整押注金額或進行儲值。",MAX_BET_ARRIVED:"已達押注上限",AUTO_PLAY:"AUTO PLAY",STOP_AUTOPLAY_CONFIG:"停止自動遊戲設定",IF_FREE_SPIN_ARE_WON:"當在免費遊戲獲得分數時。",IF_BALANCE_DECREASE_BY1:"當遊戲幣低於",IF_BALANCE_DECREASE_BY2:"最低遊戲幣設定為100 ~ 最高遊戲幣設定為{0}",CREDIT:"遊戲幣",WIN:"贏分",BET:"押注額",MAX_BET:"最大押注"}}t.zh_TW=e}(e=t.Text||(t.Text={}))}(e=t.Localization||(t.Localization={}))}(kernel||(kernel={}));var slot;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,bfcl.Constants.GameIds.Common,t.API.GameHoldStatus.Request,t.API.GameHoldStatus.Response)||this}return __extends(n,e),Object.defineProperty(n.prototype,"JwToken",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return t.Config.HAYDN_LOBBY_SERVER_URL},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/game/get_machine"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);e.GameHoldStatus=n,__reflect(n.prototype,"slot.API.GameHoldStatus")}(e=t.API||(t.API={}))}(slot||(slot={})),function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Request);t.Request=e,__reflect(e.prototype,"slot.API.GameHoldStatus.Request");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Response);t.Response=n,__reflect(n.prototype,"slot.API.GameHoldStatus.Response")}(e=t.GameHoldStatus||(t.GameHoldStatus={}))}(e=t.API||(t.API={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(){function e(){}return e.GetGameHoldStatus=function(e,n,i){var o=new t.GameHoldStatus;o.Request.type=e,o.Request.reserved=n,o.OnSuccessCallback=i,o.Send()},e}();t.Service=e,__reflect(e.prototype,"slot.API.Service")}(e=t.API||(t.API={}))}(slot||(slot={}));var slot;!function(t){var e=function(){function t(){}return t.HAYDN_LOBBY_SERVER_URL="https://lobby-stage.99ta-city.com",t}();t.Config=e,__reflect(e.prototype,"slot.Config")}(slot||(slot={}));var bfcl;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t[t.FULL_SCREEN_ON=2]="FULL_SCREEN_ON",t[t.FULL_SCREEN_OFF=4]="FULL_SCREEN_OFF",t[t.SHOPPING_CART=8]="SHOPPING_CART",t[t.RANK=16]="RANK",t[t.VOLUME_ON=32]="VOLUME_ON",t[t.VOLUME_OFF=64]="VOLUME_OFF",t[t.UNKOWN=131072]="UNKOWN",t[t.ALL=-1]="ALL"}(e=t.Buttons||(t.Buttons={}))}(e=t.TopToolUI||(t.TopToolUI={}))}(e=t.Enum||(t.Enum={}))}(bfcl||(bfcl={})),function(t){var e;!function(e){var n=function(e){function n(){var n=e.call(this)||this;return n.m_BtnFunctions=[],n.m_BtnEnables=t.Enum.TopToolUI.Buttons.UNKOWN,n.m_BtnHides=t.Enum.TopToolUI.Buttons.UNKOWN,n.skinName="resource/haydn_skins/base/TopToolSkin.exml",n}return __extends(n,e),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.m_BtnEnables},set:function(t){this.m_BtnEnables=t;for(var e=0;e<this.m_Buttons.Count;e++){var n=this.m_Buttons.GetValuePair(e);n.Value.enabled=(t&n.Key)==n.Key}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return this.m_BtnHides},set:function(t){this.m_BtnHides=t;for(var e=0;e<this.m_Buttons.Count;e++){var n=this.m_Buttons.GetValuePair(e);n.Value.visible=!((t&n.Key)==n.Key)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AudioManager",{set:function(e){t.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsVolumeOn",{set:function(t){this.m_IsVolumeOn=t,this.m_BtnVolumeOff.visible=!t,this.m_BtnVolumeOn.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsFullScreen",{set:function(t){this.m_IsFullScreen=t,this.m_BtnFullScreenOff.visible=t,this.m_BtnFullScreenOn.visible=!t},enumerable:!0,configurable:!0}),n.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.m_Buttons=new t.Collections.Dictionary,this.m_Buttons.Add(t.Enum.TopToolUI.Buttons.FULL_SCREEN_ON,this.m_BtnFullScreenOn),this.m_Buttons.Add(t.Enum.TopToolUI.Buttons.FULL_SCREEN_OFF,this.m_BtnFullScreenOff),this.m_Buttons.Add(t.Enum.TopToolUI.Buttons.SHOPPING_CART,this.m_BtnShoppingCart),this.m_Buttons.Add(t.Enum.TopToolUI.Buttons.RANK,this.m_BtnRank),this.m_Buttons.Add(t.Enum.TopToolUI.Buttons.VOLUME_ON,this.m_BtnVolumeOn),this.m_Buttons.Add(t.Enum.TopToolUI.Buttons.VOLUME_OFF,this.m_BtnVolumeOff),this.m_BtnFunctions.push(this.OnBtnClickFullScreenOn),this.m_BtnFunctions.push(this.OnBtnClickFullScreenOff),this.m_BtnFunctions.push(this.OnBtnClickShoppingCart),this.m_BtnFunctions.push(this.OnBtnClickRank),this.m_BtnFunctions.push(this.OnBtnClickVolumeOn),this.m_BtnFunctions.push(this.OnBtnClickVolumeOff);for(var n=0;n<this.m_Buttons.Count;n++){var i=this.m_Buttons.GetValuePair(n).Value;i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[n],this)}this.Clear()},n.prototype.PlayBtnDownSound=function(){this.m_AudioManager.PlaySound("button01_mp3")},n.prototype.OnBtnClickFullScreenOn=function(t){this.PlayBtnDownSound(),this.IsFullScreen=!0;var e=document.documentElement,n=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof n&&n&&n.call(e)},n.prototype.OnBtnClickFullScreenOff=function(t){this.PlayBtnDownSound(),this.IsFullScreen=!1;var e=document;e.exitFullscreen?e.exitFullscreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen()},n.prototype.OnBtnClickShoppingCart=function(e){this.PlayBtnDownSound(),this.dispatchEvent(new t.Event.TopTool(t.Event.TopTool.BUTTON_CLICK,t.Enum.TopToolUI.Buttons.SHOPPING_CART))},n.prototype.OnBtnClickRank=function(e){this.PlayBtnDownSound(),this.dispatchEvent(new t.Event.TopTool(t.Event.TopTool.BUTTON_CLICK,t.Enum.TopToolUI.Buttons.RANK))},n.prototype.OnBtnClickVolumeOn=function(e){this.PlayBtnDownSound(),this.IsVolumeOn=!1,this.dispatchEvent(new t.Event.TopTool(t.Event.TopTool.BUTTON_CLICK,t.Enum.TopToolUI.Buttons.VOLUME_ON))},n.prototype.OnBtnClickVolumeOff=function(e){this.PlayBtnDownSound(),this.IsVolumeOn=!0,this.dispatchEvent(new t.Event.TopTool(t.Event.TopTool.BUTTON_CLICK,t.Enum.TopToolUI.Buttons.VOLUME_OFF))},n.prototype.Clear=function(){this.IsVolumeOn=!0,this.IsFullScreen=!1},n.prototype.Dispose=function(){this.Clear();for(var t=0;t<this.m_Buttons.Count;t++){var e=this.m_Buttons.GetValuePair(t).Value;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[t],this)}},n}(eui.Component);e.TopToolUI=n,__reflect(n.prototype,"bfcl.Controls.TopToolUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var slot;!function(t){var e;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Digits=new bfcl.Controls.Digits.TransDigits("bigwin_number_fnt"),t}return __extends(n,e),Object.defineProperty(n.prototype,"Number",{get:function(){return this.m_Digits.Number},set:function(t){this.m_Digits.Number=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_ListenEvent?this.m_Digits.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this):this.m_Digits.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AudioManager",{set:function(t){bfcl.Debug.Assert(null==this.AudioManager),this.m_Digits.AudioManager=t},enumerable:!0,configurable:!0}),n.prototype.Init=function(){this.m_Digits.Init(),this.m_Digits.scaleX=this.m_Digits.scaleY=.75,this.m_Digits.x=200,this.m_Digits.y=370,this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER,this.addChild(this.m_Digits),this.Clear()
},n.prototype.TransTo=function(t,e){this.m_Digits.Clear(),this.m_Digits.TransTo(t,e)},n.prototype.OnDigitsTranFinished=function(e){this.dispatchEvent(new t.Event.BigWin(t.Event.BigWin.TRAN_FINISHED))},n.prototype.Clear=function(){this.visible=this.ListenEvent=!1,this.m_Digits.Clear(),this.visible=!1},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Digits),this.m_Digits.Dispose(),this.m_Digits=null},n}(eui.Component);e.NormalScore=n,__reflect(n.prototype,"slot.Controls.NormalScore",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t[t.MENU=2]="MENU",t[t.MINUS_BET=4]="MINUS_BET",t[t.PLUS_BET=8]="PLUS_BET",t[t.MAX_BET=16]="MAX_BET",t[t.TURBO_ON=32]="TURBO_ON",t[t.TURBO_OFF=64]="TURBO_OFF",t[t.AUTO=128]="AUTO",t[t.SPIN=256]="SPIN",t[t.STOP=512]="STOP",t[t.UNKOWN=131072]="UNKOWN",t[t.ALL=-1]="ALL"}(e=t.Buttons||(t.Buttons={}))}(e=t.ScoreBarUI||(t.ScoreBarUI={}))}(e=t.Enum||(t.Enum={}))}(slot||(slot={})),function(t){var e;!function(e){var n=function(e){function n(){var n=e.call(this)||this;return n.m_LblBalance=new eui.Label,n.m_LblBet=new eui.Label,n.m_LblWin=new eui.Label,n.m_BtnMenu=new bfcl.Controls.ButtonUI,n.m_BtnMinusBet=new bfcl.Controls.LoopButtonUI,n.m_BtnPlusBet=new bfcl.Controls.LoopButtonUI,n.m_BtnMaxBet=new bfcl.Controls.ButtonUI,n.m_BtnAuto=new bfcl.Controls.ButtonUI,n.m_MinBet=0,n.m_MaxBet=0,n.m_BetSpace=0,n.m_Menu=new bfcl.Controls.BounceMenuUI,n.m_AutoPlayPanel=new t.Controls.AutoPlay.Panel,n.m_AutoPlayEvent=null,n.m_IsTurbo=!1,n.m_IsSpinning=!1,n.m_BtnEnables=t.Enum.ScoreBarUI.Buttons.UNKOWN,n.m_BtnHides=t.Enum.ScoreBarUI.Buttons.UNKOWN,n.m_BtnFunctions=[],n.skinName="resource/haydn_skins/slot/ScoreBarSkin.exml",n}return __extends(n,e),Object.defineProperty(n.prototype,"LastWin",{get:function(){return void 0==this.m_LastWin?0:this.m_LastWin.Number},set:function(t){this.m_LastWin.Number=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Win",{get:function(){return void 0==this.m_Win?0:this.m_Win.Number},set:function(t){this.m_Win.Number=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Credit",{get:function(){return void 0==this.m_Credit?0:this.m_Credit.Number},set:function(t){this.m_Credit.Number=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Bet",{get:function(){return void 0==this.m_Bet?0:this.m_Bet.Number},set:function(t){this.m_Bet.Number=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AutoPlaySpinCount",{get:function(){return this.m_AutoPlayEvent.SpinCount},set:function(t){this.m_AutoPlayEvent.SpinCount=t,this.RefreshBtnAutoText()},enumerable:!0,configurable:!0}),n.prototype.RefreshBtnAutoText=function(){this.m_BtnAuto.Label.text="AUTO\n"+(0==this.AutoPlaySpinCount?"PLAY":this.AutoPlaySpinCount.toString())},n.prototype.StopAutoPlay=function(){this.AutoPlaySpinCount=0},Object.defineProperty(n.prototype,"IsAutoPlay",{get:function(){return this.AutoPlaySpinCount>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsTurbo",{get:function(){return this.m_IsTurbo},enumerable:!0,configurable:!0}),n.prototype.SetTurbo=function(t){this.m_IsTurbo=t,this.m_BtnTurboOn.visible=t,this.m_BtnTurboOff.visible=!t},Object.defineProperty(n.prototype,"IsSpinning",{set:function(t){this.m_IsSpinning=t,this.m_BtnSpin.scaleX=this.m_BtnSpin.scaleY=this.m_IsSpinning?0:1,this.m_BtnStop.scaleX=this.m_BtnStop.scaleY=this.m_IsSpinning?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnEnables",{get:function(){return this.m_BtnEnables},set:function(t){this.m_BtnEnables=t;for(var e=0;e<this.m_Buttons.Count;e++){var n=this.m_Buttons.GetValuePair(e),i=(t&n.Key)==n.Key;n.Value.enabled=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"BtnHides",{get:function(){return this.m_BtnHides},set:function(t){this.m_BtnHides=t;for(var e=0;e<this.m_Buttons.Count;e++){var n=this.m_Buttons.GetValuePair(e);n.Value.visible=!((t&n.Key)==n.Key)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"AudioManager",{set:function(t){bfcl.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t,this.m_Menu.AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LocalizationManager",{set:function(t){bfcl.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=t,this.m_AutoPlayPanel.LocalizationManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(e){if(this.m_ListenEvent!=e){this.m_ListenEvent=e,this.m_ListenEvent?this.m_AutoPlayPanel.addEventListener(t.Event.AutoPlay.VALUE_CHANGED,this.OnAutoPlayValueChanged,this):this.m_AutoPlayPanel.removeEventListener(t.Event.AutoPlay.VALUE_CHANGED,this.OnAutoPlayValueChanged,this),this.m_ListenEvent?this.m_Menu.addEventListener(bfcl.Event.BounceMenu.CLICK,this.OnBtnClickMenu,this):this.m_Menu.removeEventListener(bfcl.Event.BounceMenu.CLICK,this.OnBtnClickMenu,this);for(var n=0;n<this.m_Buttons.Count;n++){var i=this.m_Buttons.GetValuePair(n).Value;i instanceof bfcl.Controls.ButtonUI?i.SetEnable(this.m_ListenEvent):i.enabled=this.m_ListenEvent,i.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[n],this):i.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.m_BtnFunctions[n],this)}}},enumerable:!0,configurable:!0}),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.m_LblBalance.fontFamily="Bahnschrift",this.m_LblBalance.x=8,this.m_LblBalance.y=.865*egret.sys.$TempStage.stageHeight,this.m_LblBalance.bold=!0,this.m_LblBalance.width=500,this.m_LblBalance.textAlign=egret.HorizontalAlign.CENTER,this.m_LblBalance.size=28,this.m_LocalizationManager.Bind(this.m_LblBalance,bfcl.Constants.Propertys.Text,"CREDIT"),this.m_LblWin.fontFamily="Bahnschrift",this.m_LblWin.x=.29*egret.sys.$TempStage.stageWidth,this.m_LblWin.y=.865*egret.sys.$TempStage.stageHeight,this.m_LblWin.bold=!0,this.m_LblWin.width=500,this.m_LblWin.textAlign=egret.HorizontalAlign.CENTER,this.m_LblWin.size=28,this.m_LocalizationManager.Bind(this.m_LblWin,bfcl.Constants.Propertys.Text,"WIN"),this.m_LblBet.fontFamily="Bahnschrift",this.m_LblBet.x=.552*egret.sys.$TempStage.stageWidth,this.m_LblBet.y=.865*egret.sys.$TempStage.stageHeight,this.m_LblBet.bold=!0,this.m_LblBet.width=500,this.m_LblBet.textAlign=egret.HorizontalAlign.CENTER,this.m_LblBet.size=28,this.m_LocalizationManager.Bind(this.m_LblBet,bfcl.Constants.Propertys.Text,"BET"),this.m_BtnMenu.Init("btn_menu_png","btn_menu_black_png"),this.m_BtnMenu.x=.01*egret.sys.$TempStage.stageWidth,this.m_BtnMenu.y=.86*egret.sys.$TempStage.stageHeight,this.m_BtnMinusBet.Init("btn_bet_00_png","btn_bet_00_black_png"),this.m_BtnMinusBet.x=.65*egret.sys.$TempStage.stageWidth,this.m_BtnMinusBet.y=.9*egret.sys.$TempStage.stageHeight,this.m_BtnPlusBet.Init("btn_bet_01_png","btn_bet_01_black_png"),this.m_BtnPlusBet.x=.74*egret.sys.$TempStage.stageWidth,this.m_BtnPlusBet.y=.9*egret.sys.$TempStage.stageHeight,this.m_BtnMaxBet.Init("btn_maxbet_png","btn_maxbet_black_png"),this.m_BtnMaxBet.x=.81*egret.sys.$TempStage.stageWidth,this.m_BtnMaxBet.y=.884*egret.sys.$TempStage.stageHeight;var n=new eui.Label;n.fontFamily="Bahnschrift",n.bold=!0,n.width=this.m_BtnMaxBet.Width,n.textAlign=egret.HorizontalAlign.CENTER,n.size=28,this.m_BtnMaxBet.AddLabel(n),this.m_LocalizationManager.Bind(this.m_BtnMaxBet.Label,bfcl.Constants.Propertys.Text,"MAX_BET"),this.m_BtnAuto.Init("btn_auto_png","btn_auto_black_png"),this.m_BtnAuto.x=.895*egret.sys.$TempStage.stageWidth,this.m_BtnAuto.y=.59*egret.sys.$TempStage.stageHeight;var n=new eui.Label;n.fontFamily="Bahnschrift",n.text="AUTO\nPLAY",n.bold=!0,n.width=this.m_BtnAuto.Width,n.textAlign=egret.HorizontalAlign.CENTER,n.size=30,this.m_BtnAuto.AddLabel(n),this.m_Buttons=new bfcl.Collections.Dictionary,this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.MENU,this.m_BtnMenu),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.MINUS_BET,this.m_BtnMinusBet),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.PLUS_BET,this.m_BtnPlusBet),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.MAX_BET,this.m_BtnMaxBet),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.TURBO_ON,this.m_BtnTurboOn),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.TURBO_OFF,this.m_BtnTurboOff),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.AUTO,this.m_BtnAuto),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.SPIN,this.m_BtnSpin),this.m_Buttons.Add(t.Enum.ScoreBarUI.Buttons.STOP,this.m_BtnStop),this.m_BtnFunctions.push(this.OnBtnClickMenu),this.m_BtnFunctions.push(this.OnBtnClickMinusBet),this.m_BtnFunctions.push(this.OnBtnClickPlusBet),this.m_BtnFunctions.push(this.OnBtnClickMaxBet),this.m_BtnFunctions.push(this.OnBtnClickTurboOn),this.m_BtnFunctions.push(this.OnBtnClickTurboOff),this.m_BtnFunctions.push(this.OnBtnClickAuto),this.m_BtnFunctions.push(this.OnBtnClickSpin),this.m_BtnFunctions.push(this.OnBtnClickStop),this.m_Credit=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_Credit.TextAlign=egret.HorizontalAlign.CENTER,this.m_Credit.GroupWidth=this.m_GroupCredit.width,this.m_Win=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_Win.TextAlign=egret.HorizontalAlign.CENTER,this.m_Win.GroupWidth=this.m_GroupWin.width,this.m_LastWin=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_LastWin.TextAlign=egret.HorizontalAlign.LEFT,this.m_LastWin.GroupWidth=this.m_GroupLastWin.width,this.m_LastWin.scaleX=this.m_LastWin.scaleY=.9,this.m_Bet=new bfcl.Controls.Digits.TransDigits("ScoreBarDigits_fnt"),this.m_Bet.TextAlign=egret.HorizontalAlign.CENTER,this.m_Bet.GroupWidth=this.m_GroupBet.width,this.m_GroupCredit.addChild(this.m_Credit),this.m_GroupWin.addChild(this.m_Win),this.m_GroupLastWin.addChild(this.m_LastWin),this.m_GroupBet.addChild(this.m_Bet);var i=[];i.push(new bfcl.Property.BounceProperty("btn_info_png","btn_info_black_png")),i.push(new bfcl.Property.BounceProperty("btn_setting_png","btn_setting_black_png")),this.m_Menu.Init(i,"bg_01_png"),this.m_Menu.x=23,this.m_Menu.y=767,this.touchEnabled=!1,this.m_AutoPlayPanel.Init(),this.addChild(this.m_LblBalance),this.addChild(this.m_LblWin),this.addChild(this.m_LblBet),this.addChild(this.m_BtnMenu),this.addChild(this.m_BtnMinusBet),this.addChild(this.m_BtnPlusBet),this.addChild(this.m_BtnMaxBet),this.addChild(this.m_BtnAuto),this.addChild(this.m_Menu),this.addChild(this.m_AutoPlayPanel),this.Clear()},n.prototype.Init=function(t,e,n){this.Clear(),this.SetBetRange(t,e,n),this.Bet=this.m_MinBet,this.ListenEvent=!0},n.prototype.MenuBind=function(t){this.m_Menu.Bind(t)},n.prototype.SetBetRange=function(t,e,n,i){void 0===i&&(i=!1),this.m_MinBet=t,this.m_MaxBet=e,this.m_BetSpace=n,i&&(this.Bet=t)},n.prototype.Commit=function(t,e,n){this.PlaySound("WinCollect_mp3"),this.AutoPlaySpinCount>0&&this.AutoPlaySpinCount--,n&&this.m_AutoPlayEvent.IfFreeSpinAreWon&&(this.m_AutoPlayEvent.IfFreeSpinAreWon=!1,this.AutoPlaySpinCount=0),t<this.m_AutoPlayEvent.CreditLossBy&&this.m_AutoPlayEvent.IfBalanceDecreaseBY&&(this.m_AutoPlayEvent.IfBalanceDecreaseBY=!1,this.AutoPlaySpinCount=0),this.Win=0,this.Credit=t,this.LastWin=e},n.prototype.PlayBtnDownSound=function(){this.PlaySound("button01_mp3")},n.prototype.PlaySound=function(t){null!=this.m_AudioManager&&this.m_AudioManager.PlaySound(t)},n.prototype.OnBtnClickPlusBet=function(t){this.Bet+this.m_BetSpace>this.m_MaxBet||(this.PlayBtnDownSound(),this.Bet+=this.m_BetSpace)},n.prototype.OnBtnClickMinusBet=function(t){this.Bet-this.m_BetSpace<this.m_MinBet||(this.PlayBtnDownSound(),this.Bet-=this.m_BetSpace)},n.prototype.OnBtnClickMaxBet=function(t){this.PlayBtnDownSound(),this.Bet!=this.m_MaxBet&&(this.Bet=this.m_MaxBet)},n.prototype.OnBtnClickMenu=function(t){this.PlayBtnDownSound(),this.m_Menu.IsShow?(this.m_BtnMenu.Skin("btn_menu_png","btn_menu_black_png"),this.m_Menu.Hide()):(this.m_BtnMenu.Init("btn_cancel_png","btn_cancel_black_png"),this.m_Menu.Show())},n.prototype.OnBtnClickSpin=function(e){this.PlayBtnDownSound(),this.dispatchEvent(new t.Event.ScoreBar(t.Event.ScoreBar.BUTTON_CLICK,t.Enum.ScoreBarUI.Buttons.SPIN))},n.prototype.OnBtnClickStop=function(e){this.PlayBtnDownSound(),this.dispatchEvent(new t.Event.ScoreBar(t.Event.ScoreBar.BUTTON_CLICK,t.Enum.ScoreBarUI.Buttons.STOP))},n.prototype.OnBtnClickAuto=function(t){this.PlayBtnDownSound(),this.m_AutoPlayPanel.Show(Math.floor(this.Credit/2))},n.prototype.OnBtnClickTurboOn=function(e){this.PlayBtnDownSound(),this.SetTurbo(!0),this.dispatchEvent(new t.Event.ScoreBar(t.Event.ScoreBar.BUTTON_CLICK,t.Enum.ScoreBarUI.Buttons.TURBO_ON,this.m_IsTurbo))},n.prototype.OnBtnClickTurboOff=function(e){this.PlayBtnDownSound(),this.SetTurbo(!1),this.dispatchEvent(new t.Event.ScoreBar(t.Event.ScoreBar.BUTTON_CLICK,t.Enum.ScoreBarUI.Buttons.TURBO_OFF,this.m_IsTurbo))},n.prototype.OnAutoPlayValueChanged=function(t){this.m_AutoPlayEvent=t,this.RefreshBtnAutoText()},n.prototype.Clear=function(){this.ListenEvent=!1,this.m_Win.Clear(),this.m_LastWin.Clear(),this.m_Credit.Clear(),this.m_Bet.Clear(),this.m_Menu.Clear(),this.BtnEnables=t.Enum.ScoreBarUI.Buttons.UNKOWN,this.BtnHides=t.Enum.ScoreBarUI.Buttons.UNKOWN,this.IsSpinning=!1,this.m_AutoPlayEvent=new t.Event.AutoPlay,this.SetTurbo(!1)},n.prototype.Dispose=function(){this.Clear(),this.m_GroupCredit.removeChild(this.m_Credit),this.m_GroupWin.removeChild(this.m_Win),this.m_GroupWin.removeChild(this.m_LastWin),this.m_GroupBet.removeChild(this.m_Bet),this.removeChild(this.m_LblBalance),this.removeChild(this.m_LblWin),this.removeChild(this.m_LblBet),this.removeChild(this.m_BtnMenu),this.removeChild(this.m_BtnMinusBet),this.removeChild(this.m_BtnPlusBet),this.removeChild(this.m_BtnMaxBet),this.removeChild(this.m_BtnAuto),this.removeChild(this.m_Menu),this.removeChild(this.m_AutoPlayPanel),this.m_Credit.Dispose(),this.m_Win.Dispose(),this.m_LastWin.Dispose(),this.m_Bet.Dispose(),this.m_BtnMenu.Dispose(),this.m_BtnMinusBet.Dispose(),this.m_BtnPlusBet.Dispose(),this.m_Menu.Dispose(),this.m_BtnMaxBet.Dispose(),this.m_BtnAuto.Dispose(),this.m_AutoPlayPanel.Dispose(),this.m_LblBalance=null,this.m_LblWin=null,this.m_LblBet=null,this.m_BtnMaxBet=null,this.m_BtnAuto=null,this.m_Menu=null,this.m_BtnMenu=null,this.m_BtnMinusBet=null,this.m_BtnPlusBet=null,this.m_AutoPlayPanel=null,this.m_Win=null,this.m_LastWin=null,this.m_Credit=null,this.m_Bet=null},n}(eui.Component);e.ScoreBarUI=n,__reflect(n.prototype,"slot.Controls.ScoreBarUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var bfcl;!function(t){var e;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_BG=new eui.Image,t.m_UpArrow=new e.ButtonUI,t.m_DownArrow=new e.ButtonUI,t.m_Btn=new e.ButtonUI,t.m_Sensor=null,t.m_IsDownning=!1,t.m_Distance=new egret.Point,t}return __extends(i,n),Object.defineProperty(i.prototype,"Position",{get:function(){return this.m_Position},set:function(t){0>t&&(t=0),t>1&&(t=1),this.m_Position=t,this.m_Btn.y=this.START_Y+this.FreeSpace*t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"FreeSpace",{get:function(){return this.m_BG.height-(this.m_Btn.Height+this.m_UpArrow.height+this.m_DownArrow.height+2*i.SLIDE_SPACING)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Weight",{get:function(){return this.m_Weight},set:function(e){this.m_Weight!=e&&(t.Debug.Assert(e>0&&1>=e),this.m_Weight=e,this.m_Btn.Height=this.MAX_BTN_HEIGHT*e,null!=this.m_Position&&(this.Position=this.m_Position))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Sensor.touchEnabled=t,this.m_ListenEvent?(this.m_UpArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnUpClick,this),this.m_DownArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnDownClick,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnSensorDown,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnSensorMove,this),this.m_Sensor.addEventListener(egret.TouchEvent.TOUCH_END,this.OnSensorUp,this)):(this.m_UpArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnUpClick,this),this.m_DownArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnDownClick,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.OnSensorDown,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.OnSensorMove,this),this.m_Sensor.removeEventListener(egret.TouchEvent.TOUCH_END,this.OnSensorUp,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(t){this.m_BG.texture=RES.getRes("msg_bar00_png"),this.m_UpArrow.Init("msg_bar01_png","msg_bar01_png"),this.m_UpArrow.x=this.m_BG.width/2-this.m_UpArrow.width/2,this.m_UpArrow.y=i.SLIDE_SPACING,this.m_DownArrow.Init("msg_bar02_png","msg_bar02_png"),this.m_DownArrow.x=this.m_BG.width/2-this.m_DownArrow.width/2,this.m_DownArrow.y=this.m_BG.height-this.m_DownArrow.height-i.SLIDE_SPACING,this.m_Btn.Init("msg_bar03_png","msg_bar03_png"),this.m_Btn.x=this.m_BG.width/2-this.m_Btn.width/2,this.m_Btn.Scale9Grid=new egret.Rectangle(0,10,0,10),this.START_Y=this.m_UpArrow.x+this.m_UpArrow.height,this.MAX_BTN_HEIGHT=this.m_BG.height-(this.m_UpArrow.height+this.m_DownArrow.height+2*i.SLIDE_SPACING),this.m_Sensor=new e.Mask.RectShape(null==t?this.m_BG.width:t.width,this.MAX_BTN_HEIGHT),this.m_Sensor.x=null==t?0:t.x,this.m_Sensor.y=this.START_Y,this.m_Sensor.alpha=0,this.addChild(this.m_BG),this.addChild(this.m_UpArrow),this.addChild(this.m_DownArrow),this.addChild(this.m_Btn),this.addChild(this.m_Sensor),this.width=this.m_BG.width,this.height=this.m_BG.height,this.Clear()},i.prototype.OnUpClick=function(e){var n=this.Position;0>=n||(n-=this.m_Weight,0>n&&(n=0),this.Position=n,this.dispatchEvent(new t.Event.VScrollBar(t.Event.VScrollBar.POSITION_CHANGED,this.Position)))},i.prototype.OnDownClick=function(e){var n=this.Position;n>=1||(n+=this.m_Weight,n>1&&(n=1),this.Position=n,this.dispatchEvent(new t.Event.VScrollBar(t.Event.VScrollBar.POSITION_CHANGED,this.Position)))},i.prototype.OnSensorDown=function(t){this.m_IsDownning=!0,this.m_Distance.y=t.stageY-this.m_Btn.y},i.prototype.OnSensorMove=function(e){if(1!=this.Weight&&this.m_IsDownning){var n=e.stageY-this.m_Distance.y,i=(n-this.START_Y)/this.FreeSpace;0>i&&(i=0),i>1&&(i=1),this.m_Position!=i&&(this.Position=i,this.dispatchEvent(new t.Event.VScrollBar(t.Event.VScrollBar.POSITION_CHANGED,this.Position)))}},i.prototype.OnSensorUp=function(t){this.m_IsDownning=!1},i.prototype.Clear=function(){this.ListenEvent=!1,this.Weight=1,this.Position=0},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_UpArrow),this.removeChild(this.m_DownArrow),this.removeChild(this.m_Btn),this.m_BG=null,this.m_UpArrow.Dispose(),this.m_UpArrow=null,this.m_DownArrow.Dispose(),this.m_DownArrow=null,this.m_Btn.Dispose(),this.m_Btn=null},i.SLIDE_SPACING=5,i}(eui.Component);e.VScrollBarUI=n,__reflect(n.prototype,"bfcl.Controls.VScrollBarUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var slot;!function(t){var e;!function(t){var e=function(){function t(t,e,n){void 0===n&&(n=50),this.m_Library=null,this.m_Created=0,this.m_Items=[],this.MAX_COUNT=n,this.m_Library=t,this.m_ItemGenerator=e}return Object.defineProperty(t.prototype,"Lib",{get:function(){return this.m_Library},enumerable:!0,configurable:!0}),t.prototype.Pop=function(t){var e=null,n=this.m_Library.Search(t);return this.m_Items.length>0?(e=this.m_Items.splice(0,1)[0],e.SetProperty(n)):this.m_Created<this.MAX_COUNT&&(this.m_Created++,e=new this.m_ItemGenerator,e.Init(n)),e},t.prototype.Recycle=function(t){t.Clear(),this.m_Items.push(t)},t.prototype.Dispose=function(){for(;this.m_Items.length>0;){var t=this.m_Items.splice(0,1)[0];t.Dispose(),t=null}},t}();t.SymbolUIFactory=e,__reflect(e.prototype,"slot.Controls.SymbolUIFactory",["bfcl.Interface.IFactory"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_Items=[],t.m_CurIndex=-1,t}return __extends(i,n),Object.defineProperty(i.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(e){if(this.m_ListenEvent!=e){this.m_ListenEvent=e;for(var n=0,i=this.m_Items;n<i.length;n++){var o=i[n];o.touchEnabled=this.m_ListenEvent,o.ListenEvent=this.m_ListenEvent,this.m_ListenEvent?o.addEventListener(t.Event.AutoPlayItem.SELECTED,this.OnItemSelected,this):o.removeEventListener(t.Event.AutoPlayItem.SELECTED,this.OnItemSelected,this)}}},enumerable:!0,configurable:!0}),i.prototype.Init=function(){for(var t=RES.getRes("msg_autoplay_btn00_png"),n=0;n<i.VALUES.length;n++){var o=new e.ItemUI;o.Serial=i.VALUES[n],o.Init(o.Serial.toString(),"msg_autoplay_btn01_png","msg_autoplay_btn00_png"),o.x=n*(t.bitmapData.width+55),this.m_Items.push(o),this.addChild(o)}this.Clear()},i.prototype.SetAmount=function(t){void 0===t&&(t=-1);var e=i.VALUES.indexOf(t);if(bfcl.Debug.Assert(-1!=e),this.m_CurIndex==e)return this.m_Items[this.m_CurIndex].Selected=!1,void(this.m_CurIndex=-1);this.m_CurIndex=e;for(var n=0;n<this.m_Items.length;n++)this.m_Items[n].Selected=n==this.m_CurIndex},i.prototype.GetAmount=function(){return-1==this.m_CurIndex?0:i.VALUES[this.m_CurIndex]},i.prototype.OnItemSelected=function(t){this.SetAmount(t.Serial)},i.prototype.Clear=function(){this.m_CurIndex=-1;for(var t=0,e=this.m_Items;t<e.length;t++){var n=e[t];n.Selected=!1}},i.prototype.Dispose=function(){for(this.ListenEvent=!1;this.m_Items.length>0;){var t=this.m_Items.splice(0,1)[0];this.removeChild(t),t.Dispose(),t=null}bfcl.Debug.Assert(0==this.numChildren)},i.VALUES=[10,20,50,100,500,1e3],i}(eui.Component);e.ItemsUI=n,__reflect(n.prototype,"slot.Controls.AutoPlay.ItemsUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.AutoPlay||(e.AutoPlay={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_Image=new eui.Image,t.m_Label=new eui.Label,t.m_Serial=-1,t}return __extends(n,e),Object.defineProperty(n.prototype,"Serial",{get:function(){return this.m_Serial},set:function(t){this.m_Serial=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Selected",{get:function(){return this.m_Selected},set:function(t){this.m_Selected!=t&&(this.m_Selected=t,this.m_Image.texture=t?this.m_SelectRes:this.m_UnSelectRes)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Image.touchEnabled=this.m_ListenEvent,this.m_ListenEvent?this.m_Image.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this):this.m_Image.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnItemClick,this))},enumerable:!0,configurable:!0}),n.prototype.Init=function(t,e,n){this.m_SelectRes=RES.getRes(e),this.m_UnSelectRes=RES.getRes(n),this.m_Label.text=t,this.m_Label.fontFamily="Bahnschrift",this.m_Label.textColor=16777215,this.m_Label.size=45,this.m_Label.touchEnabled=!1,this.m_Label.bold=!0,this.m_Label.verticalCenter=0,this.m_Label.horizontalCenter=0,this.addChild(this.m_Image),this.addChild(this.m_Label),this.Clear()},n.prototype.OnItemClick=function(e){this.dispatchEvent(new t.Event.AutoPlayItem(t.Event.AutoPlayItem.SELECTED,this.m_Serial))},n.prototype.Clear=function(){this.Selected=!1},n.prototype.Dispose=function(){this.ListenEvent=!1,this.removeChild(this.m_Image),this.removeChild(this.m_Label),this.m_Image=null,this.m_Label=null},n}(eui.Component);e.ItemUI=n,__reflect(n.prototype,"slot.Controls.AutoPlay.ItemUI",["eui.UIComponent","egret.DisplayObject"])}(n=e.AutoPlay||(e.AutoPlay={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MIN_WIDTH=200,e.CHAR_SIZE=30,e.m_Image=new eui.Image,e.m_TxtField=new egret.TextField,e.m_MaxValue=100,e.m_Text="",e}return __extends(e,t),Object.defineProperty(e.prototype,"Value",{get:function(){return this.m_NumValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaxValue",{set:function(t){this.m_MaxValue=t},enumerable:!0,configurable:!0}),e.prototype.SetValue=function(t){this.m_NumValue=t,this.m_TxtField.text=t.toString(),this.m_TxtField.width=this.m_Image.width=this.GetTextWidth()},e.prototype.GetTextWidth=function(){var t=this.m_TxtField.text.length*this.CHAR_SIZE;return t<this.MIN_WIDTH?this.MIN_WIDTH:t},Object.defineProperty(e.prototype,"Enabled",{get:function(){return this.m_Enabled},set:function(t){this.m_Enabled!=t&&(this.m_Enabled=t,this.m_TxtField.touchEnabled=t,this.m_Enabled?this.m_TxtField.addEventListener(egret.Event.CHANGE,this.OnTextChanged,this):this.m_TxtField.removeEventListener(egret.Event.CHANGE,this.OnTextChanged,this))},enumerable:!0,configurable:!0}),e.prototype.Init=function(t){this.MIN_VALUE=t;var e=RES.getRes("msg_autoplay_btn00_png");this.MIN_WIDTH=e.bitmapData.width,this.m_Image.texture=e,this.m_Image.height=.85*e.bitmapData.height,this.m_TxtField.type=egret.TextFieldType.INPUT,this.m_TxtField.inputType=egret.TextFieldInputType.TEXT,this.m_TxtField.fontFamily="Bahnschrift",this.m_TxtField.textColor=16756224,this.m_TxtField.height=.92*e.bitmapData.height,this.m_TxtField.bold=!0,this.m_TxtField.size=50,this.m_TxtField.restrict="0-9",this.m_TxtField.textAlign=egret.HorizontalAlign.CENTER,this.m_TxtField.verticalAlign=egret.VerticalAlign.MIDDLE,this.addChild(this.m_Image),this.addChild(this.m_TxtField),this.Clear()},e.prototype.OnTextChanged=function(t){var e=t.currentTarget.text;if(this.m_Text!=e){this.m_Text==e;var n=+e;n<this.MIN_VALUE&&(n=this.MIN_VALUE),n>this.m_MaxValue&&(n=this.m_MaxValue),this.SetValue(n)}},e.prototype.Clear=function(){this.m_Text="",this.SetValue(this.MIN_VALUE),this.Enabled=!1},e.prototype.Dispose=function(){this.removeChild(this.m_Image),this.removeChild(this.m_TxtField)},e}(eui.Component);t.NumInputBoxUI=e,__reflect(e.prototype,"slot.Controls.AutoPlay.NumInputBoxUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.AutoPlay||(t.AutoPlay={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_BG=new eui.Image,t.m_Title=new eui.Label,t.m_Text=new eui.Label,t.m_ChkIfFreeSpinAreWon=new bfcl.Controls.CheckBoxUI,t.m_ChkIfBalanceDecreaseBY=new bfcl.Controls.CheckBoxUI,t.m_Remark=new eui.Label,t.m_NumInputBox=new e.NumInputBoxUI,t.m_Items=new e.ItemsUI,t.m_BtnOK=new bfcl.Controls.ButtonUI,t.m_BtnExit=new bfcl.Controls.ButtonUI,t}return __extends(i,n),Object.defineProperty(i.prototype,"ListenEvent",{get:function(){return this.m_ListenEvent},set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Items.ListenEvent=this.m_ListenEvent,this.m_ChkIfFreeSpinAreWon.ListenEvent=this.m_ListenEvent,this.m_ChkIfBalanceDecreaseBY.ListenEvent=this.m_ListenEvent,this.m_BtnOK.touchEnabled=this.m_ListenEvent,this.m_NumInputBox.Enabled=this.m_ListenEvent,this.m_ListenEvent?(this.m_BtnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_BtnExit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnExitClick,this)):(this.m_BtnOK.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnOkClick,this),this.m_BtnExit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnExitClick,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"LocalizationManager",{set:function(t){bfcl.Debug.Assert(null==this.LocalizationManager),this.m_LocalizationManager=t},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_BG.texture=RES.getRes("msg_ui_png"),this.m_Title.width=400,this.m_Title.fontFamily="Tahoma",this.m_Title.textColor=16756224,this.m_Title.size=70,this.m_Title.bold=!0,this.m_Title.textAlign=egret.HorizontalAlign.CENTER,this.m_Title.verticalAlign=egret.VerticalAlign.MIDDLE,this.m_Title.x=800-this.m_Title.width/2,this.m_Title.y=80,this.m_LocalizationManager.Bind(this.m_Title,bfcl.Constants.Propertys.Text,"AUTO_PLAY"),this.m_Items.Init(),this.m_Items.x=120,this.m_Items.y=220,this.m_Text.x=400,this.m_Text.y=390,this.m_Text.fontFamily="Bahnschrift",this.m_Text.textColor=16777215,this.m_Text.size=45,this.m_Text.bold=!0,this.m_Text.textAlign=egret.HorizontalAlign.CENTER,this.m_Text.verticalAlign=egret.VerticalAlign.MIDDLE,this.m_LocalizationManager.Bind(this.m_Text,bfcl.Constants.Propertys.Text,"STOP_AUTOPLAY_CONFIG"),this.m_ChkIfFreeSpinAreWon.x=400,this.m_ChkIfFreeSpinAreWon.y=490,this.m_ChkIfFreeSpinAreWon.Label.y=3,this.m_ChkIfFreeSpinAreWon.Label.fontFamily="Bahnschrift",this.m_ChkIfFreeSpinAreWon.Label.textColor=16777215,this.m_ChkIfFreeSpinAreWon.Label.size=45,this.m_ChkIfFreeSpinAreWon.Label.bold=!0,this.m_LocalizationManager.Bind(this.m_ChkIfFreeSpinAreWon.Label,bfcl.Constants.Propertys.Text,"IF_FREE_SPIN_ARE_WON"),this.m_ChkIfBalanceDecreaseBY.Label.text="If Balance decreases by ",this.m_ChkIfBalanceDecreaseBY.x=400,this.m_ChkIfBalanceDecreaseBY.y=600,this.m_ChkIfBalanceDecreaseBY.Label.y=3,this.m_ChkIfBalanceDecreaseBY.Label.fontFamily="Bahnschrift",this.m_ChkIfBalanceDecreaseBY.Label.textColor=16777215,this.m_ChkIfBalanceDecreaseBY.Label.size=45,this.m_ChkIfBalanceDecreaseBY.Label.bold=!0,this.m_LocalizationManager.Bind(this.m_ChkIfBalanceDecreaseBY.Label,bfcl.Constants.Propertys.Text,"IF_BALANCE_DECREASE_BY1"),this.m_NumInputBox.Init(100),this.m_NumInputBox.x=960,this.m_NumInputBox.y=600,this.m_Remark.text="The minimum value is 100~the maximum value is 2000",this.m_Remark.x=460,this.m_Remark.y=670,this.m_Remark.fontFamily="Bahnschrift",this.m_Remark.textColor=16777215,this.m_Remark.size=35,this.m_Remark.bold=!0,this.m_BtnOK.Init("msg_bestgames_btn00_png","msg_bestgames_btn00_png"),this.m_BtnOK.x=550,this.m_BtnOK.y=760;var t=new eui.Label;t.fontFamily="Bahnschrift",t.text="OK",t.bold=!0,t.size=33,this.m_BtnOK.AddLabel(t),this.m_BtnExit.Init("msg_bestgames_btn01_png","msg_bestgames_btn01_png"),this.m_BtnExit.x=850,this.m_BtnExit.y=760;var t=new eui.Label;t.fontFamily="Bahnschrift",t.text="CANCEL",t.bold=!0,t.size=33,this.m_BtnExit.AddLabel(t),this.addChild(this.m_BG),this.addChild(this.m_Title),this.addChild(this.m_Text),this.addChild(this.m_Remark),this.addChild(this.m_ChkIfFreeSpinAreWon),this.addChild(this.m_ChkIfBalanceDecreaseBY),this.addChild(this.m_NumInputBox),this.addChild(this.m_Items),this.addChild(this.m_BtnOK),this.addChild(this.m_BtnExit),this.Clear()},i.prototype.Show=function(t){this.visible=this.ListenEvent=!0,100>t&&(t=100),this.m_NumInputBox.MaxValue=t,this.m_LocalizationManager.Bind(this.m_Remark,bfcl.Constants.Propertys.Text,"IF_BALANCE_DECREASE_BY2",t.toString())},i.prototype.Hide=function(){this.visible=this.ListenEvent=!1},i.prototype.OnBtnOkClick=function(e){this.dispatchEvent(new t.Event.AutoPlay(t.Event.AutoPlay.VALUE_CHANGED,this.m_Items.GetAmount(),this.m_ChkIfFreeSpinAreWon.Checked,this.m_ChkIfBalanceDecreaseBY.Checked,this.m_NumInputBox.Value)),this.Hide()},i.prototype.OnBtnExitClick=function(t){this.Hide()},i.prototype.Clear=function(){this.ListenEvent=!1,this.m_Items.Clear(),this.m_ChkIfFreeSpinAreWon.Checked=!1,this.m_ChkIfBalanceDecreaseBY.Checked=!1,this.Hide()},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_BG),this.removeChild(this.m_Title),this.removeChild(this.m_Text),this.removeChild(this.m_Remark),this.removeChild(this.m_ChkIfFreeSpinAreWon),this.removeChild(this.m_ChkIfBalanceDecreaseBY),this.removeChild(this.m_NumInputBox),this.removeChild(this.m_Items),this.removeChild(this.m_BtnOK),this.removeChild(this.m_BtnExit),this.m_BG=null,this.m_Title=null,this.m_Remark=null,this.m_Text=null,this.m_ChkIfFreeSpinAreWon.Dispose(),this.m_ChkIfFreeSpinAreWon=null,this.m_ChkIfBalanceDecreaseBY.Dispose(),this.m_ChkIfBalanceDecreaseBY=null,this.m_NumInputBox.Dispose(),this.m_NumInputBox=null,this.m_Items.Dispose(),this.m_Items=null,this.m_BtnOK.Dispose(),this.m_BtnOK=null,this.m_BtnExit.Dispose(),this.m_BtnExit=null
},i}(eui.Component);e.Panel=n,__reflect(n.prototype,"slot.Controls.AutoPlay.Panel",["eui.UIComponent","egret.DisplayObject"])}(n=e.AutoPlay||(e.AutoPlay={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_Factory=new dragonBones.EgretFactory,t.m_ArmatureDisplay=null,t.m_Background=new egret.Sprite,t.m_Foreground=new egret.Sprite,t.m_GoldenPool=null,t.m_Digits=null,t.m_Anim=i.ANIM_END,t.m_State=i.STATUS_NONE,t.m_BigWinPayout=50,t.m_SuperWinPayout=100,t.m_MegaWinPayout=150,t.m_BetAmount=0,t.m_WinAmount=0,t.m_Payout=0,t.m_UpgradeLevel=[],t}return __extends(i,n),Object.defineProperty(i.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"IsShowing",{get:function(){return this.m_State!=i.STATUS_NONE&&this.m_State!=i.STATUS_HIDDING},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_ListenEvent?(this.m_Foreground.addEventListener(egret.TouchEvent.TOUCH_TAP,this.SwitchToNextLevel,this),this.m_Digits.addEventListener(bfcl.Event.Digits.UPGRADE,this.OnDigitsTranUpgrade,this),this.m_Digits.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this),this.m_ArmatureDisplay.addEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this)):(this.m_Foreground.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.SwitchToNextLevel,this),this.m_Digits.removeEventListener(bfcl.Event.Digits.UPGRADE,this.OnDigitsTranUpgrade,this),this.m_Digits.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTranFinished,this),this.m_ArmatureDisplay.removeEventListener(dragonBones.EventObject.COMPLETE,this.OnAnimComplete,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(t){bfcl.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),i.prototype.Init=function(){this.m_GoldenPool=new e.BigWin.GoldenPoolUI,this.m_Background.graphics.beginFill(0,.55),this.m_Background.graphics.drawRect(0,0,egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight),this.m_Background.graphics.endFill(),this.m_Foreground.graphics.beginFill(0,0),this.m_Foreground.graphics.drawRect(0,0,egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight),this.m_Foreground.graphics.endFill(),this.m_Foreground.touchEnabled=!0,this.m_Factory.parseDragonBonesData(RES.getRes("Public_MSG_ske_json")),this.m_Factory.parseTextureAtlasData(RES.getRes("Public_MSG_tex_json"),RES.getRes("Public_MSG_tex_png")),this.m_ArmatureDisplay=this.m_Factory.buildArmatureDisplay("Armature"),this.m_ArmatureDisplay.x=egret.sys.$TempStage.stageWidth/2,this.m_ArmatureDisplay.y=egret.sys.$TempStage.stageHeight/2,this.m_Digits=new bfcl.Controls.Digits.TransDigits("bigwin_number_fnt"),this.m_Digits.Init(),this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER,this.m_Digits.y=430,this.m_Digits.horizontalCenter=0,this.addChild(this.m_Background),this.addChild(this.m_ArmatureDisplay),this.addChild(this.m_GoldenPool),this.addChild(this.m_Digits),this.addChild(this.m_Foreground),this.width=egret.sys.$TempStage.stageWidth,this.height=egret.sys.$TempStage.stageHeight,this.Clear()},i.prototype.SetPayout=function(t,e,n){this.m_BigWinPayout=t,this.m_SuperWinPayout=e,this.m_MegaWinPayout=n},i.prototype.OnAnimComplete=function(t){this.m_Level==i.LEVEL_BIG_WIN&&this.m_Anim==i.ANIM_START&&(this.m_GoldenPool.Start(),this.TranNumbers()),this.m_Anim==i.ANIM_START?this.SwitchLevelState(this.m_Level,i.ANIM_LOOP):this.m_Anim==i.ANIM_END&&this.m_UpgradeLevel.length>0&&this.SwitchLevelState(this.m_UpgradeLevel.splice(0,1)[0],i.ANIM_START)},i.prototype.Show=function(t,e){this.Clear(),this.m_State=i.STATUS_DIGITS_TRANNING,this.visible=this.ListenEvent=!0,this.m_BetAmount=t,this.m_WinAmount=e,this.m_Payout=e/t,this.SwitchLevelState(i.LEVEL_BIG_WIN,i.ANIM_START)},i.prototype.SwitchLevelState=function(t,e){this.m_Level=t,this.m_Anim=e;var n=this.m_Anim==i.ANIM_LOOP?-1:1;this.m_ArmatureDisplay.animation.gotoAndPlayByFrame(this.m_Level+this.m_Anim,0,n),e==i.ANIM_START&&this.m_AudioManager.PlayVoice([this.m_Level])},i.prototype.TranNumbers=function(){this.m_Digits.Clear(),this.m_Digits.UpgradeTs=this.GetUpgradeData(),this.m_Digits.TransTo(this.m_WinAmount,this.GetTransDuration()),this.m_AudioManager.PlaySound("BigPrizeCoin_mp3",-1)},i.prototype.GetTransDuration=function(){var t=this.m_Payout>=this.m_BigWinPayout?3:0;return t+=this.m_Payout>=this.m_SuperWinPayout?5:0,t+=this.m_Payout>=this.m_MegaWinPayout?7:0},i.prototype.GetUpgradeData=function(){var t=[],e=0;return this.m_Payout>=this.m_SuperWinPayout&&(e+=5,t.push(e),this.m_UpgradeLevel.push(i.LEVEL_SUPER_WIN)),this.m_Payout>=this.m_MegaWinPayout&&(e+=7,t.push(e),this.m_UpgradeLevel.push(i.LEVEL_MEGA_WIN)),t},i.prototype.OnDigitsTranUpgrade=function(t){this.SwitchLevelState(this.m_Level,i.ANIM_END)},i.prototype.OnDigitsTranFinished=function(e){this.m_State=i.STATUS_DIGITS_TRAN_FINSIHED,this.m_GoldenPool.Stop(),this.m_AudioManager.StopSound("BigPrizeCoin_mp3"),this.dispatchEvent(new t.Event.BigWin(t.Event.BigWin.TRAN_FINISHED))},i.prototype.SwitchToNextLevel=function(){var e=this;if(egret.Tween.removeTweens(this),this.m_State==i.STATUS_DIGITS_TRANNING){if(this.m_State=i.STATUS_DIGITS_TRAN_FINSIHED,this.m_Digits.Clear(),this.m_Digits.Number=this.m_WinAmount,this.m_UpgradeLevel.length>0){for(;this.m_UpgradeLevel.length>1;)this.m_UpgradeLevel.splice(0,1);this.SwitchLevelState(this.m_UpgradeLevel.splice(0,1)[0],i.ANIM_LOOP)}return void this.OnDigitsTranFinished(null)}this.IsShowing&&(this.m_State=i.STATUS_HIDDING,this.SwitchLevelState(this.m_Level,i.ANIM_END),egret.Tween.get(this).wait(500).call(function(){e.dispatchEvent(new t.Event.BigWin(t.Event.BigWin.SHOW_FINISHED)),e.Clear()}))},i.prototype.SwitchToLastLevel=function(){for(var t=0;2>t;t++)this.IsShowing&&this.SwitchToNextLevel()},i.prototype.Clear=function(){this.m_State=i.STATUS_NONE,this.visible=this.ListenEvent=!1,this.m_ArmatureDisplay.animation.stop(),this.m_Anim="",this.m_Digits.Clear(),this.m_GoldenPool.Clear(),this.m_UpgradeLevel=[]},i.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Background),this.removeChild(this.m_GoldenPool),this.removeChild(this.m_ArmatureDisplay),this.removeChild(this.m_Digits),this.removeChild(this.m_Foreground),this.m_Factory.clear(),this.m_Factory=null,this.m_ArmatureDisplay.dispose(),this.m_ArmatureDisplay=null,this.m_Background=null,this.m_Digits.Dispose(),this.m_Digits=null,this.m_Foreground=null,this.m_GoldenPool.Dispose(),this.m_GoldenPool=null},i.STATUS_NONE=0,i.STATUS_DIGITS_TRANNING=1,i.STATUS_DIGITS_TRAN_FINSIHED=2,i.STATUS_HIDDING=3,i.LEVEL_BIG_WIN="Bigwin",i.LEVEL_SUPER_WIN="Superwin",i.LEVEL_MEGA_WIN="Megawin",i.ANIM_END="_End",i.ANIM_LOOP="_Loop",i.ANIM_START="_Start",i}(eui.Component);e.BigWinUI=n,__reflect(n.prototype,"slot.Controls.BigWinUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.m_Item=null,n.VX=-1,n.VY=-1,n.m_Item=bfcl.Decorator.MovieClip(e),n.m_Item.gotoAndPlay(0,-1),n.addChild(n.m_Item),n}return __extends(e,t),Object.defineProperty(e.prototype,"Width",{get:function(){return null==this.m_Item?0:this.m_Item.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return null==this.m_Item?0:this.m_Item.height},enumerable:!0,configurable:!0}),e.prototype.Dispose=function(){this.removeChild(this.m_Item),this.m_Item.stop(),this.m_Item=null},e}(eui.Component);t.GoldenPoolObjUI=e,__reflect(e.prototype,"slot.Controls.BigWin.GoldenPoolObjUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.BigWin||(t.BigWin={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.m_Container=new eui.Group,t.m_DynamicOfVX=15,t.m_DynamicOfVY=-10,t.m_BaseOfVX=7.5,t.m_BaseOfVY=35,t.m_StartPoint=new egret.Point(800,850),t.m_StartPointRangeX=25,t.m_Gravitation=1.5,t.m_ScaleIncXY=.01,t.m_MaxAmount=65,t.m_IsPooling=!1,t.m_CoinDefaultScaleXY=.65,t.m_CoinMaxScaleXY=1.25,t.m_State=n.STATE_STOP,t.m_TimeOnEnterFrame=0,t.m_CurTs=0,t.m_Limit={},t.m_Limit.L=0,t.m_Limit.R=1600,t.m_Limit.T=0,t.m_Limit.B=900,t.addChild(t.m_Container),t}return __extends(n,e),Object.defineProperty(n.prototype,"isPooling",{get:function(){return this.m_IsPooling},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"amount",{set:function(t){bfcl.Debug.Assert(t>0),this.m_MaxAmount=t},enumerable:!0,configurable:!0}),n.prototype.Start=function(){this.m_State!=n.STATE_START&&(this.m_State=n.STATE_START,this.m_IsPooling=!0,this.m_CurTs=0,this.m_TimeOnEnterFrame=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this))},n.prototype.Stop=function(){this.m_State!=n.STATE_STOP&&(this.m_State=n.STATE_STOP)},n.prototype.StopImmediately=function(){this.Clear()},n.prototype.GetRandomRangeValue=function(t){return Math.random()*t*(0==Math.floor(2*Math.random())?1:-1)},n.prototype.SetCoinPorperty=function(t){t.x=this.m_StartPoint.x+this.GetRandomRangeValue(this.m_StartPointRangeX),t.y=this.m_StartPoint.y,t.scaleX=this.m_CoinDefaultScaleXY,t.scaleY=this.m_CoinDefaultScaleXY,t.rotation=0,t.VX=Math.random()*this.m_DynamicOfVX-this.m_BaseOfVX,t.VY=Math.random()*this.m_DynamicOfVY-this.m_BaseOfVY},n.prototype.OnEnterFrame=function(e){var i=egret.getTimer();if(this.m_CurTs+=i-this.m_TimeOnEnterFrame,this.m_TimeOnEnterFrame=i,this.m_Container.numChildren<this.m_MaxAmount&&this.m_CurTs>=120&&this.m_State==n.STATE_START){this.m_CurTs-=120;var o=new t.GoldenPoolObjUI("pool_coin");this.SetCoinPorperty(o),this.m_Container.addChild(o)}for(var s=0;s<this.m_Container.numChildren;s++)o=this.m_Container.getChildAt(s),o.VY+=this.m_Gravitation,o.scaleX+=this.m_ScaleIncXY,o.scaleX>this.m_CoinMaxScaleXY&&(o.scaleX=this.m_CoinMaxScaleXY),o.scaleY+=this.m_ScaleIncXY,o.scaleY>this.m_CoinMaxScaleXY&&(o.scaleY=this.m_CoinMaxScaleXY),o.x+=o.VX,o.y+=o.VY,o.rotation+=o.VX>0?5:-5,(o.x-o.Width/2<this.m_Limit.L||o.y-o.Height/2<this.m_Limit.T||o.x+o.Width/2>this.m_Limit.R)&&(this.m_Container.removeChild(o),o.Dispose(),o=null),this.m_State==n.STATE_START&&this.m_Container.numChildren<=0&&this.Clear()},n.prototype.Clear=function(){for(this.m_State=n.STATE_STOP,this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this);this.m_Container.numChildren>0;){var t=this.m_Container.removeChildAt(0);t.Dispose(),t=null}this.m_IsPooling=!1},n.prototype.Dispose=function(){this.Clear(),this.removeChild(this.m_Container),this.m_Container=null},n.STATE_STOP=0,n.STATE_START=1,n}(eui.Component);t.GoldenPoolUI=e,__reflect(e.prototype,"slot.Controls.BigWin.GoldenPoolUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.BigWin||(t.BigWin={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_Boards=new bfcl.Collections.Dictionary,t.m_Mode=i.STATUS_NONE,t.m_IsInited=!1,t}return __extends(i,n),Object.defineProperty(i.prototype,"CurMode",{get:function(){return this.m_Mode},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Mode",{set:function(t){if(this.m_Mode!=t){this.m_Mode=t;for(var e=0;e<this.m_Boards.Count;e++)this.m_Boards.GetValuePair(e).Value.visible=this.m_Mode==e}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"CurBoard",{get:function(){return this.m_Mode!=i.STATUS_NONE&&0!=this.m_Boards.Count?this.m_Boards.GetValue(this.m_Mode):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ShowDuration",{set:function(t){this.CurBoard.ShowDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"DigitsDuration",{set:function(t){this.CurBoard.DigitsDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"AudioManager",{set:function(t){bfcl.Debug.Assert(null==this.AudioManager),this.m_AudioManager=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){if(this.m_ListenEvent!=e){this.m_ListenEvent=e;for(var n=0;n<this.m_Boards.Count;n++){var i=this.m_Boards.GetValuePair(n).Value;i.ListenEvent=e,this.m_ListenEvent?(i.addEventListener(t.Event.Blackboard.CLICK,this.OnButtonClick,this),i.addEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this),i.addEventListener(t.Event.Blackboard.ACTION_FINISHED,this.OnActionFinished,this)):(i.removeEventListener(t.Event.Blackboard.CLICK,this.OnButtonClick,this),i.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnTranFinished,this),i.removeEventListener(t.Event.Blackboard.ACTION_FINISHED,this.OnActionFinished,this))}}},enumerable:!0,configurable:!0}),i.prototype.Init=function(t){this.m_IsInited&&this.Dispose(),this.m_IsInited=!0;var n=new e.BlackboardUI;n.BG=t.Entrance.BG,n.InitTitle1(t.Entrance.Title1_Normal,t.Entrance.Title1_Shine),n.InitTitle2(t.Entrance.Title2_Normal,t.Entrance.Title2_Shine),n.InitTitle3(t.Entrance.Title3_Normal,t.Entrance.Title3_Shine),n.InitFrame(t.Entrance.Frame,t.Entrance.Frame_Point),n.InitButton(t.Entrance.Button_Up,t.Entrance.Button_Down,t.Entrance.Button_Label),n.Init(t.Entrance.Digit_Point);var o=new e.BlackboardUI;o.BG=t.Exeunt.BG,o.InitTitle1(t.Exeunt.Title1_Normal,t.Exeunt.Title1_Shine),o.InitTitle2(t.Exeunt.Title2_Normal,t.Exeunt.Title2_Shine),o.InitTitle3(t.Exeunt.Title3_Normal,t.Exeunt.Title3_Shine),o.InitFrame(t.Exeunt.Frame,t.Exeunt.Frame_Point),o.InitButton(t.Exeunt.Button_Up,t.Exeunt.Button_Down,t.Exeunt.Button_Label),o.Init(t.Exeunt.Digit_Point),this.m_Boards.Add(i.STATUS_ENTRANCE,n),this.m_Boards.Add(i.STATUS_EXEUNT,o);for(var s=0;s<this.m_Boards.Count;s++)this.addChild(this.m_Boards.GetValuePair(s).Value);this.touchEnabled=!1,this.Clear()},i.prototype.OnButtonClick=function(e){this.m_AudioManager.PlaySound("button01_mp3"),this.dispatchEvent(new t.Event.Blackboard(t.Event.Blackboard.CLICK))},i.prototype.OnTranFinished=function(t){this.dispatchEvent(new bfcl.Event.Digits(bfcl.Event.Digits.FINISHED))},i.prototype.OnActionFinished=function(e){this.CurMode==i.STATUS_ENTRANCE&&e.State==t.Event.Blackboard.STATE_SHOW&&this.CurBoard.ShineNumber(),this.dispatchEvent(new t.Event.Blackboard(t.Event.Blackboard.ACTION_FINISHED,e.State))},i.prototype.Show=function(t,e){void 0===e&&(e=!1),this.Mode=t,this.CurBoard.Show(e),this.visible=!0},i.prototype.SetNumber=function(t,e){void 0===e&&(e=!1),this.CurBoard.SetNumber(t,e)},i.prototype.Hide=function(t){void 0===t&&(t=!1),this.CurBoard.Hide(t)},i.prototype.Clear=function(){this.ListenEvent=!1,this.Mode=i.STATUS_NONE;for(var t=0;t<this.m_Boards.Count;t++)this.m_Boards.GetValuePair(t).Value.Clear();this.visible=!1},i.prototype.Dispose=function(){this.Clear();for(var t=0;t<this.m_Boards.Count;t++){var e=this.m_Boards.GetValuePair(t).Value;this.removeChild(e),e.Dispose(),e=null}this.m_Boards.Clear(),bfcl.Debug.Assert(0==this.numChildren)},i.STATUS_NONE=-1,i.STATUS_ENTRANCE=0,i.STATUS_EXEUNT=1,i}(eui.Component);e.BlackboardSwitcherUI=n,__reflect(n.prototype,"slot.Controls.BlackboardSwitcherUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(e){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.m_BG=new eui.Image,t.m_Title1=new bfcl.Controls.Label.ShineLabelUI,t.m_Title2=new bfcl.Controls.Label.ShineLabelUI,t.m_Title3=new bfcl.Controls.Label.ShineLabelUI,t.m_Frame=new eui.Image,t.m_Digits=new bfcl.Controls.Digits.ShineTransDigits,t.m_Button=new e.Blackboard.ButtonUI,t.m_Mask=new egret.Sprite,t.m_Container=new eui.Group,t.m_WinAmount=0,t.m_ShowDuration=1.5,t.m_DigitsDuration=1.5,t.m_State=-1,t.m_Serial=-1,t}return __extends(i,n),Object.defineProperty(i.prototype,"Serial",{set:function(t){this.m_Serial=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"BG",{set:function(t){this.m_BG.visible=""!=t,this.m_BG.visible&&(this.m_BG.source=RES.getRes(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ShowDuration",{set:function(t){this.m_ShowDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"DigitsDuration",{set:function(t){this.m_DigitsDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(t){this.m_ListenEvent!=t&&(this.m_ListenEvent=t,this.m_Digits.ListenEvent=t,this.m_ListenEvent?(this.m_Button.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClicked,this),this.m_Digits.addEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Mask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnMaskClicked,this)):(this.m_Button.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnClicked,this),this.m_Digits.removeEventListener(bfcl.Event.Digits.FINISHED,this.OnDigitsTransFinished,this),this.m_Mask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnBtnMaskClicked,this)))},enumerable:!0,configurable:!0}),i.prototype.InitTitle1=function(t,e){this.m_Title1.visible=""!=t,this.m_Title1.visible&&(this.m_Title1.Init(t,e,new bfcl.Controls.Mask.RectShape(100,180),!0),this.m_Title1.ShinePoint=new egret.Point(0,0),this.m_Title1.MaskRotation=-10)},i.prototype.InitTitle2=function(t,e){this.m_Title2.visible=""!=t,this.m_Title2.visible&&(this.m_Title2.Init(t,e,new bfcl.Controls.Mask.RectShape(60,110)),this.m_Title2.ShinePoint=new egret.Point(0,0),this.m_Title2.MaskRotation=-20)},i.prototype.InitTitle3=function(t,e){this.m_Title3.visible=""!=t,this.m_Title3.visible&&(this.m_Title3.Init(t,e,new bfcl.Controls.Mask.RectShape(60,110)),this.m_Title3.ShinePoint=new egret.Point(0,0),this.m_Title3.MaskRotation=-20)},i.prototype.InitFrame=function(t,e){this.m_Frame.visible=""!=t,this.m_Frame.visible&&(this.m_Frame.source=RES.getRes(t),this.m_Frame.x=e.x,this.m_Frame.y=e.y)},i.prototype.InitButton=function(t,e,n){this.m_Button.visible=""!=n,this.m_Button.visible&&this.m_Button.Init(t,e,n)},i.prototype.Init=function(t){this.m_Digits.Init("blackboard_normal_digits_fnt","blackboard_glow_digits_fnt",new bfcl.Controls.Mask.RectShape(40,175)),this.m_Digits.ShinePoint=new egret.Point(0,0),this.m_Digits.MaskRotation=-20,this.m_Digits.TextAlign=egret.HorizontalAlign.CENTER,this.m_Digits.x=t.x,this.m_Digits.y=t.y,this.m_Mask.graphics.beginFill(0,.01),this.m_Mask.graphics.drawRect(0,0,egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight),this.m_Mask.graphics.endFill(),this.m_Mask.touchEnabled=!0,this.m_BG.x=30,this.m_BG.y=80,this.m_Title1.x=460,this.m_Title1.y=215,this.m_Title2.x=860,this.m_Title2.y=375,this.m_Title3.x=700,this.m_Title3.y=700,this.m_Button.x=660,this.m_Button.y=845,this.m_Container.scaleX=this.m_Container.scaleY=.75,this.m_Container.addChild(this.m_BG),this.m_Container.addChild(this.m_Title1),this.m_Container.addChild(this.m_Title2),this.m_Container.addChild(this.m_Frame),this.m_Container.addChild(this.m_Title3),this.m_Container.addChild(this.m_Digits),this.m_Container.addChild(this.m_Button),this.addChild(this.m_Container),this.addChild(this.m_Mask),this.Clear()},i.prototype.OnBtnMaskClicked=function(t){this.m_WinAmount<=0||this.OnDigitsTransFinished()},i.prototype.OnDigitsTransFinished=function(){this.m_Digits.ToTheEndAndShine(this.m_WinAmount),this.m_Mask.visible=!1,this.m_WinAmount=0,this.dispatchEvent(new bfcl.Event.Digits(bfcl.Event.Digits.FINISHED))},i.prototype.OnBtnClicked=function(e){this.m_State!=i.STATE_HIDE&&this.dispatchEvent(new t.Event.Blackboard(t.Event.Blackboard.CLICK))},i.prototype.OnEffectFinished=function(e){this.m_Mask.visible=!0,e==t.Event.Blackboard.STATE_SHOW&&(this.m_Title1.Shine(1.5),this.m_Title2.Shine(),this.m_Title3.Shine(),this.m_Button.Shine()),this.dispatchEvent(new t.Event.Blackboard(t.Event.Blackboard.ACTION_FINISHED,e))},i.prototype.Show=function(e){var n=this;return void 0===e&&(e=!1),this.m_State!=i.STATE_SHOW?(this.m_State=i.STATE_SHOW,egret.Tween.removeTweens(this),e?void(this.alpha=1):void egret.Tween.get(this).set({alpha:0}).to({alpha:1},1e3*this.m_ShowDuration).call(function(){return n.OnEffectFinished(t.Event.Blackboard.STATE_SHOW)})):void 0},i.prototype.Hide=function(e){var n=this;return void 0===e&&(e=!1),this.m_State!=i.STATE_HIDE?(this.m_State=i.STATE_HIDE,egret.Tween.removeTweens(this),e?void(this.alpha=0):void egret.Tween.get(this).set({alpha:1}).to({alpha:0},1e3*this.m_ShowDuration).call(function(){return n.OnEffectFinished(t.Event.Blackboard.STATE_HIDE)})):void 0},i.prototype.ShineNumber=function(){this.m_Mask.visible=!1,this.m_Digits.ToTheEndAndShine(this.m_Digits.Number)},i.prototype.SetNumber=function(t,e){return void 0===e&&(e=!1),e?(this.m_WinAmount=0,void(this.m_Digits.Number=t)):(this.m_WinAmount=t,void this.m_Digits.TransTo(t,this.m_DigitsDuration))},i.prototype.Clear=function(){this.Hide(!0),this.ListenEvent=!1,this.m_WinAmount=0,this.m_Digits.Clear()},i.prototype.Dispose=function(){this.Clear(),this.m_Container.removeChild(this.m_BG),this.m_BG=null,this.m_Container.removeChild(this.m_Title1),this.m_Container.removeChild(this.m_Title2),this.m_Container.removeChild(this.m_Title3),this.m_Title1=null,this.m_Title2=null,this.m_Title3=null,this.m_Container.removeChild(this.m_Frame),this.m_Frame=null,this.m_Container.removeChild(this.m_Digits),this.m_Digits.Dispose(),this.m_Digits=null,this.m_Container.removeChild(this.m_Button),this.m_Button.Dispose(),this.m_Button=null,this.m_Container,this.removeChild(this.m_Container),this.m_Container=null,this.removeChild(this.m_Mask),this.m_Mask=null,bfcl.Debug.Assert(0==this.numChildren)},i.STATE_SHOW=0,i.STATE_HIDE=1,i}(eui.Component);e.BlackboardUI=n,__reflect(n.prototype,"slot.Controls.BlackboardUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ShineLabel=null,e}return __extends(e,t),e.prototype.Init=function(e,n,i,o,s){void 0===o&&(o=!1),void 0===s&&(s=""),t.prototype.Init.call(this,e,n,s),this.m_ShineLabel=new bfcl.Controls.Label.ShineLabelUI,this.m_ShineLabel.Init(i+"png",i+"G_png",new bfcl.Controls.Mask.RectShape(40,120),o),this.m_ShineLabel.ShinePoint=new egret.Point(2.5,2.5),this.m_ShineLabel.MaskRotation=-25,this.m_ShineLabel.x=RES.getRes(e).bitmapData.width/2-RES.getRes(i+"G_png").bitmapData.width/2,this.m_ShineLabel.y=15,this.m_ShineLabel.touchChildren=!1,this.m_ShineLabel.touchEnabled=!1,this.addChild(this.m_ShineLabel)},e.prototype.Shine=function(){this.m_ShineLabel.Shine()},e.prototype.Dispose=function(){t.prototype.Dispose.call(this),this.removeChild(this.m_ShineLabel),this.m_ShineLabel.Dispose(),this.m_ShineLabel=null},e}(bfcl.Controls.ButtonUI);t.ButtonUI=e,__reflect(e.prototype,"slot.Controls.Blackboard.ButtonUI")}(e=t.Blackboard||(t.Blackboard={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var bfcl;!function(t){var e;!function(e){var n=function(n){function i(){var i=null!==n&&n.apply(this,arguments)||this;return i.m_WaitUI=t.Decorator.MovieClip("Load_Animation"),i.m_Mask=new e.Mask.RectShape(egret.sys.$TempStage.stageWidth,egret.sys.$TempStage.stageHeight,0,.65),i}return __extends(i,n),i.prototype.Init=function(){this.m_WaitUI.x=725,this.m_WaitUI.y=375,this.addChild(this.m_Mask),this.addChild(this.m_WaitUI),this.Hide()},i.prototype.Show=function(){this.visible=!0,this.m_WaitUI.gotoAndPlay(0,-1)},i.prototype.Hide=function(){this.m_WaitUI.stop(),this.visible=!1},i.prototype.Dispose=function(){this.removeChild(this.m_Mask),this.removeChild(this.m_WaitUI),this.m_Mask=null,this.m_WaitUI.stop(),this.m_WaitUI=null},i}(eui.Component);e.WaittingUI=n,__reflect(n.prototype,"bfcl.Controls.WaittingUI",["eui.UIComponent","egret.DisplayObject"])}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(e){function n(n){var i=e.call(this)||this;return i.m_Codepage=t.Constants.Codepages.UNKOWN,i.m_BGM=new t.Audio.Sound,i.m_Voice=new t.Audio.SoundQueue,i.m_TmpSounds=[],i.m_SoundFactory=new t.Audio.SoundFactory("adaa4198-bfe4-4800-a43f-db1f7ddde724",20),null!=n&&(i.m_Libs=n,t.Event.Tracker.Instance.addEventListener(t.Event.CodePage.CHANGED,i.OnCodepageChanged,i)),t.Event.Tracker.Instance.addEventListener(t.Event.Volume.CHANGED,i.OnVolumeChanged,i),i}return __extends(n,e),n.prototype.OnCodepageChanged=function(t){this.m_Codepage!=t.Codepage&&(this.m_Codepage=t.Codepage)},n.prototype.OnVolumeChanged=function(e){switch(e.Params.type){case t.Volume.Type.Bgm:this.m_BGM.Volume=e.Params.volume;break;case t.Volume.Type.Voice:this.m_Voice.Volume=e.Params.volume;break;case t.Volume.Type.Sound:this.m_SoundFactory.Volume=e.Params.volume,this.m_TmpSounds.forEach(function(t){return t.Volume=e.Params.volume})}},n.prototype.PlayBgm=function(t){this.m_BGM.Clear(),this.m_BGM.Load(t),this.m_BGM.Play(0)},n.prototype.StopBgm=function(){this.m_BGM.Clear()},n.prototype.PlaySound=function(t,e){void 0===e&&(e=1);var n=this.m_SoundFactory.Pop();null!=n&&(n.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),n.Load(t),n.Play(e),this.m_TmpSounds.push(n))},n.prototype.StopSound=function(t){for(var e=-1,n=0;n<this.m_TmpSounds.length;n++)if(this.m_TmpSounds[n].Res==t){e=n;break}-1!=e&&this.RecycleOneSound(e)},n.prototype.StopAllSound=function(){for(;this.m_TmpSounds.length>0;)this.RecycleOneSound(0)},n.prototype.RecycleOneSound=function(t){var e=this.m_TmpSounds.splice(t,1)[0];e.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.m_SoundFactory.Recycle(e)},n.prototype.onSoundComplete=function(t){t.target.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.m_SoundFactory.Recycle(t.target);var e=this.m_TmpSounds.indexOf(t.target,0);e>-1&&this.m_TmpSounds.splice(e,1)},n.prototype.PlayVoice=function(e,n){void 0===n&&(n=1),t.Debug.Assert(null!=this.m_Libs),t.Debug.Assert(e.length>0);for(var i=[],o=0,s=e;o<s.length;o++){var r=s[o];i.push(this.m_Libs.Search(this.m_Codepage,r))}this.m_Voice.Play(i,n)},n.prototype.StopVoice=function(){this.m_Voice.Clear()},n.prototype.Clear=function(){this.StopVoice(),this.StopBgm(),this.StopAllSound()},n.prototype.Dispose=function(){this.Clear(),null!=this.m_Libs&&(this.m_Libs.Dispose(),this.m_Libs=null),this.m_BGM.Dispose(),this.m_BGM=null,this.m_Voice.Dispose(),this.m_Voice=null,this.m_SoundFactory.Dispose(),this.m_SoundFactory=null},n}(egret.EventDispatcher);e.Manager=n,__reflect(n.prototype,"bfcl.Audio.Manager")}(e=t.Audio||(t.Audio={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(t){t[t.Sound=0]="Sound",t[t.Voice=1]="Voice",t[t.Bgm=2]="Bgm"}(n=e.Type||(e.Type={}));var i=function(){function e(){this.m_VolumeGroups=new t.Collections.Dictionary,this.m_VolumeGroups.Add(n.Sound,1),this.m_VolumeGroups.Add(n.Voice,1),this.m_VolumeGroups.Add(n.Bgm,1)}return e.prototype.GetVolume=function(t){return this.m_VolumeGroups.GetValue(t)},e.prototype.SetVolume=function(t,e){this.m_VolumeGroups.SetValue(t,e)},e.prototype.Dispose=function(){this.m_VolumeGroups.Clear(),this.m_VolumeGroups=null},e}();e.Mixer=i,__reflect(i.prototype,"bfcl.Volume.Mixer")}(e=t.Volume||(t.Volume={}))}(bfcl||(bfcl={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){t[t.None=0]="None",t[t.WattingConfigBottomY=1]="WattingConfigBottomY",t[t.Moving=2]="Moving"}(e||(e={}));var n=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.m_CurBottomY=0,n.m_State=e.None,n.m_IsAllInPlace=!1,n}return __extends(n,t),Object.defineProperty(n.prototype,"IsInPlace",{get:function(){return this.m_IsAllInPlace},enumerable:!0,configurable:!0}),n.prototype.SetFinallyList=function(n){for(t.prototype.SetFinallyList.call(this,n),this.m_State=e.WattingConfigBottomY;this.m_Leftover.length>0;){var i=this.m_Leftover.splice(0,1)[0],o=this.m_Factory.Pop(i);bfcl.Debug.Assert(null!=o),this.m_Container.addChildAt(o,0);var s=this.m_Container.getChildAt(1);s.y<=0&&this.m_Container.numChildren>1?o.y=s.y-this.GetRowHeight(o.RowHeight):o.y=-this.GetRowHeight(o.RowHeight)}},n.prototype.Push=function(t){var e=this.m_Factory.Pop(t);if(bfcl.Debug.Assert(null!=e),this.m_Container.addChildAt(e,0),this.m_Container.numChildren>1){var n=this.m_Container.getChildAt(1);e.y=n.y-this.GetRowHeight(e.RowHeight)}else e.y=-this.GetRowHeight(e.RowHeight)},n.prototype.Move=function(t){if(this.m_State!=e.None){var n;this.m_State==e.WattingConfigBottomY&&(this.m_State=e.Moving,this.m_CurBottomY=this.FindBottomY());for(var i=0;i<this.m_Container.numChildren;i++)if(n=this.GetSymbolByRow(i),n.y>=this.m_CurBottomY){if(i==this.m_Container.numChildren-1){this.m_IsAllInPlace=!0;break}}else n.y+=t,n.y>=this.m_CurBottomY&&(n.y=this.m_CurBottomY,this.m_CurBottomY-=this.GetRowHeight(n.RowHeight));this.MotionBlurModeIfNecessary(t)}},n.prototype.FindBottomY=function(){bfcl.Debug.Assert(this.m_Container.numChildren>0);for(var t=this.Height,e=0,n=0;n<this.m_Container.numChildren;n++){var i=this.GetSymbolByRow(n);if(e=this.GetRowHeight(i.RowHeight),0==n&&(t+=e),i.y+e<t)break;t-=e}return t-e},n.prototype.Clear=function(){this.m_State=e.None,this.m_IsAllInPlace=!1,t.prototype.Clear.call(this)},n}(t.BaseContainer);t.DropContainer=n,__reflect(n.prototype,"slot.Controls.Reel.Containers.DropContainer")}(e=t.Containers||(t.Containers={}))}(e=t.Reel||(t.Reel={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"IsInPlace",{get:function(){return this.m_Leftover.length<=0},enumerable:!0,configurable:!0}),e.prototype.Push=function(t){var e=this.m_Factory.Pop(t);bfcl.Debug.Assert(null!=e),this.m_Container.addChildAt(e,0);var n=this.Height;if(this.m_Container.numChildren>1){var i=this.m_Container.getChildAt(1);n=i.y-this.GetRowHeight(e.RowHeight)}e.y=n},e.prototype.Move=function(t){for(var e=0;e<this.m_Container.numChildren;e++)this.m_Container.getChildAt(e).y+=t;for(;;){var n=this.GetSymbolByRow(this.m_Container.numChildren-1);if(n.y<=0)break;var i=!this.IsInPlace,o=i?this.m_Leftover.splice(0,1)[0]:this.GetRandSymbolCode();i&&this.IsInPlace&&(this.m_OverflowY=n.y),this.Push(o)}for(;;){var s=this.GetSymbolByRow(0);if(s.y<=this.m_Container.height+s.height)break;this.m_Container.removeChild(s),this.m_Factory.Recycle(s)}this.MotionBlurModeIfNecessary(t)},e}(t.BaseContainer);t.RollContainer=e,__reflect(e.prototype,"slot.Controls.Reel.Containers.RollContainer")}(e=t.Containers||(t.Containers={}))}(e=t.Reel||(t.Reel={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var bfcl;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_NowTs=-1,e.m_CurTs=0,e.m_TotalTs=1e3,e}return __extends(e,t),e.prototype.SetEnable=function(e){this.m_Enable!=e&&(t.prototype.SetEnable.call(this,e),this.m_Enable?this.addEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this):this.removeEventListener(egret.Event.ENTER_FRAME,this.OnEnterFrame,this))},e.prototype.OnEnterFrame=function(t){if(this.m_IsTouching){var e=egret.getTimer();-1==this.m_NowTs&&(this.m_NowTs=e);var n=e-this.m_NowTs;this.m_NowTs=e,this.m_TotalTs+=n,this.m_CurTs+=n,this.m_TotalTs<400||this.m_CurTs<100||(this.m_CurTs=0,this.dispatchEvent(new egret.TouchEvent(egret.TouchEvent.TOUCH_TAP)))}},e.prototype.OnDown=function(e){t.prototype.OnDown.call(this,e),this.m_NowTs=-1,this.m_CurTs=0,this.m_TotalTs=0},e}(t.ButtonUI);t.LoopButtonUI=e,__reflect(e.prototype,"bfcl.Controls.LoopButtonUI")
}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var slot;!function(t){var e;!function(t){var e;!function(e){var n=function(){function e(t){null!=t&&(this.m_Target=t)}return Object.defineProperty(e.prototype,"Target",{set:function(t){this.m_Target=t},enumerable:!0,configurable:!0}),e.prototype.Play=function(){this.m_Target.visible=!0,this.m_Target instanceof egret.MovieClip&&this.m_Target.gotoAndPlay(0,-1),this.m_Target instanceof t.StatusActioner&&this.m_Target.Play()},e.prototype.Stop=function(){this.m_Target.visible=!1,this.m_Target instanceof egret.MovieClip&&this.m_Target.stop(),this.m_Target instanceof t.StatusActioner&&this.m_Target.Stop()},e}();e.StatusSwitcher=n,__reflect(n.prototype,"slot.Controls.Symbol.StatusSwitcher")}(e=t.Symbol||(t.Symbol={}))}(e=t.Controls||(t.Controls={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(n,i,o,s,r,a,l){void 0===n&&(n=e.VALUE_CHANGED),void 0===a&&(a=!1),void 0===l&&(l=!1);var h=t.call(this,n,a,l)||this;return h.CreditLossBy=-1,h.SpinCount=0,h.IfFreeSpinAreWon=!1,h.IfBalanceDecreaseBY=!1,h.SpinCount=i,h.IfFreeSpinAreWon=o,h.IfBalanceDecreaseBY=s,h.CreditLossBy=r,h}return __extends(e,t),e.VALUE_CHANGED="AutoPlay_VALUE_CHANGED",e}(egret.Event);t.AutoPlay=e,__reflect(e.prototype,"slot.Event.AutoPlay")}(e=t.Event||(t.Event={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_Serial=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"Serial",{get:function(){return this.m_Serial},enumerable:!0,configurable:!0}),e.SELECTED="AutoPlayItem_SELECTED",e}(egret.Event);t.AutoPlayItem=e,__reflect(e.prototype,"slot.Event.AutoPlayItem")}(e=t.Event||(t.Event={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)||this}return __extends(e,t),e.SHOW_FINISHED="BigWin_SHOW_FINISHED",e.TRAN_FINISHED="BigWin_TRAN_FINISHED",e}(egret.Event);t.BigWin=e,__reflect(e.prototype,"slot.Event.BigWin")}(e=t.Event||(t.Event={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===n&&(n=""),void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_State=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),e.ACTION_FINISHED="Blackboard_ACTION_FINISHED",e.CLICK="CLICK",e.STATE_SHOW="STATE_SHOW",e.STATE_HIDE="STATE_HIDE",e}(egret.Event);t.Blackboard=e,__reflect(e.prototype,"slot.Event.Blackboard")}(e=t.Event||(t.Event={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=t.call(this,e,i,o)||this;return s.m_ReelNum=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"ReelNum",{get:function(){return this.m_ReelNum},enumerable:!0,configurable:!0}),e.ROLL_BACK="Reel_ROLL_BACK",e.ROLLING="Reel_ROLLING",e.ALL_ROLLING="Reel_ALL_ROLL",e.STOPPING="Reel_STOPPING",e.STOPPED="Reel_STOPPED",e.ALL_STOPPED="Reel_ALL_STOPPED",e}(egret.Event);t.Reel=e,__reflect(e.prototype,"slot.Event.Reel")}(e=t.Event||(t.Event={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o,s){void 0===i&&(i=null),void 0===o&&(o=!1),void 0===s&&(s=!1);var r=t.call(this,e,o,s)||this;return r.m_Button=n,r.m_Value=i,r}return __extends(e,t),Object.defineProperty(e.prototype,"Button",{get:function(){return this.m_Button},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Value",{get:function(){return this.m_Value},enumerable:!0,configurable:!0}),e.BUTTON_CLICK="ScoreBar_BUTTON_CLICK",e}(egret.Event);t.ScoreBar=e,__reflect(e.prototype,"slot.Event.ScoreBar")}(e=t.Event||(t.Event={}))}(slot||(slot={}));var bfcl;!function(t){var e;!function(e){var n;!function(t){t[t.None=0]="None",t[t.Loaded=1]="Loaded",t[t.Playing=2]="Playing",t[t.Pause=3]="Pause",t[t.Stop=4]="Stop",t[t.Error=5]="Error"}(n=e.Status||(e.Status={}));var i=function(e){function i(t){void 0===t&&(t="");var i=e.call(this)||this;return i.m_State=n.None,i.m_Sound=null,i.m_SoundChannel=null,i.m_LoopCount=1,i.m_Position=0,i.m_Volume=1,i.Load(t),i}return __extends(i,e),Object.defineProperty(i.prototype,"Res",{get:function(){return this.m_Res},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"State",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Volume",{get:function(){return this.m_Volume},set:function(t){t>this.m_Volume&&t>1&&(t=1),t<this.m_Volume&&0>t&&(t=0),this.m_Volume!=t&&(this.m_Volume=t,null!=this.m_SoundChannel&&(this.m_SoundChannel.volume=t))},enumerable:!0,configurable:!0}),i.prototype.Load=function(e){""!=e&&(this.Clear(),this.m_Res=e,this.m_Sound=RES.getRes(e),t.Debug.Assert(void 0!==this.m_Sound&&null!==this.m_Sound,"Sound[Load] 未載入當下資源組或是res名稱有誤："+e),this.m_State=n.Loaded)},i.prototype.Play=function(t){void 0===t&&(t=1),(this.m_State==n.Loaded||this.m_State==n.Stop)&&(this.m_LoopCount=t,this.AddSoundChannel(this.m_Sound.play(0,this.m_LoopCount)))},i.prototype.AddSoundChannel=function(t){null!=this.m_SoundChannel&&this.RemoveSoundChannel(),null!=t&&(this.m_State=n.Playing,this.m_SoundChannel=t,this.m_SoundChannel.volume=this.m_Volume,this.m_SoundChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this))},i.prototype.onSoundComplete=function(t){this.RemoveSoundChannel(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},i.prototype.RemoveSoundChannel=function(){null!=this.m_SoundChannel&&(this.m_State=n.Stop,this.m_SoundChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.m_SoundChannel.stop(),this.m_SoundChannel=null)},i.prototype.Pause=function(){null!=this.m_SoundChannel&&this.m_State==n.Playing&&(this.m_State=n.Pause,this.m_Position=this.m_SoundChannel.position,this.m_SoundChannel.stop())},i.prototype.Resume=function(){null!=this.m_SoundChannel&&this.m_State==n.Pause&&this.AddSoundChannel(this.m_Sound.play(this.m_Position,this.m_LoopCount))},i.prototype.Stop=function(){null!=this.m_SoundChannel&&this.m_State==n.Playing&&this.RemoveSoundChannel()},i.prototype.Clear=function(){this.RemoveSoundChannel(),this.m_Res="",this.m_State=n.None,this.m_LoopCount=1,this.m_Position=0},i.prototype.Dispose=function(){this.Clear(),null!=this.m_Sound&&(this.m_Sound.close(),this.m_Sound=null)},i}(egret.EventDispatcher);e.Sound=i,__reflect(i.prototype,"bfcl.Audio.Sound")}(e=t.Audio||(t.Audio={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(n){var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),Object.defineProperty(i.prototype,"TextAlign",{set:function(t){this.m_Normal.TextAlign=t,this.m_Shine.TextAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Number",{get:function(){return null==this.m_Normal?0:this.m_Normal.Number},set:function(t){this.m_Normal.Number=t,this.m_Shine.Number=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ListenEvent",{set:function(e){this.m_ListenEvent!=e&&(this.m_ListenEvent=e,this.m_ListenEvent?(this.m_Normal.addEventListener(t.Event.Digits.FINISHED,this.OnTranFinished,this),this.m_Normal.addEventListener(t.Event.Digits.UPGRADE,this.OnUpgradeFinished,this)):(this.m_Normal.removeEventListener(t.Event.Digits.FINISHED,this.OnTranFinished,this),this.m_Normal.removeEventListener(t.Event.Digits.UPGRADE,this.OnUpgradeFinished,this)))},enumerable:!0,configurable:!0}),i.prototype.Init=function(t,i,o){this.m_Normal=new n.TransDigits(t),this.m_Shine=new n.NormalDigits(i),this.m_Mask=o,e.prototype.Init.call(this),this.Clear()},i.prototype.ToTheEndAndShine=function(t){this.Number=t;var e=1+.1*t.toString().length;this.DistanceX=this.m_Normal.LabelWidth,this.m_Mask.x=this.m_Normal.LabelX,this.Shine(e)},i.prototype.OnTranFinished=function(e){this.ToTheEndAndShine(this.m_Normal.Number),this.dispatchEvent(new t.Event.Digits(e.type,e.Serial))},i.prototype.OnUpgradeFinished=function(e){this.dispatchEvent(new t.Event.Digits(e.type,e.Serial))},i.prototype.TransTo=function(t,e){this.m_Normal.TransTo(t,e)},i.prototype.Clear=function(){this.ListenEvent=!1,this.m_Normal.Clear(),this.m_Shine.Clear()},i.prototype.Dispose=function(){this.Clear(),this.m_Normal.Dispose(),this.m_Shine.Dispose(),e.prototype.Dispose.call(this)},i}(e.Base.ShineUI);n.ShineTransDigits=i,__reflect(i.prototype,"bfcl.Controls.Digits.ShineTransDigits")}(n=e.Digits||(e.Digits={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(t){var n=e.call(this,t)||this;return n.timeOnEnterFrame=0,n.m_StartNumber=0,n.m_EndNumber=0,n.m_RangeNumber=0,n.m_TotalTs=0,n.m_CurTs=0,n.m_SoundTs=0,n.m_MaxIndex=-1,n}return __extends(n,e),Object.defineProperty(n.prototype,"AudioManager",{set:function(e){t.Debug.Assert(null==this.AudioManager),this.m_AudioManager=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Number",{get:function(){return this.m_CurValue},set:function(t){this.RemoveEventListener(),e.prototype.SetNumber.call(this,t),this.visible=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"UpgradeTs",{set:function(t){this.m_UpgradeTs=t},enumerable:!0,configurable:!0}),n.prototype.Init=function(){this.Clear()},n.prototype.TransTo=function(e,n){this.RemoveEventListener(),this.m_CurValue!=e&&(this.m_EndNumber=e,this.m_StartNumber=this.m_CurValue,this.m_RangeNumber=this.m_EndNumber-this.m_StartNumber,this.m_TotalTs=1e3*n,this.m_CurTs=0,this.timeOnEnterFrame=egret.getTimer(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),t.Debug.Assert(this.m_RangeNumber>0),this.visible=!0)},n.prototype.onEnterFrame=function(n){var i=egret.getTimer(),o=i-this.timeOnEnterFrame;this.m_CurTs+=o,this.m_SoundTs+=o,this.timeOnEnterFrame=i,e.prototype.SetNumber.call(this,this.m_RangeNumber*(this.m_CurTs/this.m_TotalTs)+this.m_StartNumber),this.DispatchUpgradeEventIfNecessary(this.m_CurTs);var s=this.m_RangeNumber<0&&this.m_CurValue<=this.m_EndNumber||this.m_RangeNumber>0&&this.m_CurValue>=this.m_EndNumber;return s?(this.Number=this.m_EndNumber,void this.dispatchEvent(new t.Event.Digits(t.Event.Digits.FINISHED,this.m_MaxIndex))):void(null!=this.m_AudioManager&&this.m_SoundTs>=100&&(this.m_SoundTs=0,this.m_AudioManager.PlaySound("ngScore_mp3")))},n.prototype.DispatchUpgradeEventIfNecessary=function(e){if(null!=this.m_UpgradeTs&&0!=this.m_UpgradeTs.length){for(var n=-1,i=-1==this.m_MaxIndex?0:this.m_MaxIndex,o=i;o<this.m_UpgradeTs.length;o++)e>=1e3*this.m_UpgradeTs[o]&&(n=o);n>this.m_MaxIndex&&(this.m_MaxIndex=n,this.dispatchEvent(new t.Event.Digits(t.Event.Digits.UPGRADE,this.m_MaxIndex)))}},n.prototype.RemoveEventListener=function(){this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},n.prototype.Clear=function(){this.RemoveEventListener(),e.prototype.Clear.call(this),this.visible=!1,this.m_MaxIndex=-1,this.m_UpgradeTs=[]},n.prototype.Dispose=function(){this.Clear(),e.prototype.Dispose.call(this)},n}(e.NormalDigits);e.TransDigits=n,__reflect(n.prototype,"bfcl.Controls.Digits.TransDigits")}(n=e.Digits||(e.Digits={}))}(e=t.Controls||(t.Controls={}))}(bfcl||(bfcl={}));var bfcl;!function(t){var e;!function(e){var n=function(){function e(t,e){this.m_Created=0,this.m_Items=[],this.m_Volume=1,this.GUID=t,this.MAX_COUNT=e}return Object.defineProperty(e.prototype,"Volume",{set:function(t){t>this.m_Volume&&t>1&&(t=1),t<this.m_Volume&&0>t&&(t=0),this.m_Volume!=t&&(this.m_Volume=t)},enumerable:!0,configurable:!0}),e.prototype.Pop=function(){for(var e=0;e<this.m_Items.length;e++){var n=this.m_Items[e];if(n.State==t.Audio.Status.None||n.State==t.Audio.Status.Stop)return this.m_Items.splice(e,1),n.Volume=this.m_Volume,n}if(this.m_Created<this.MAX_COUNT){this.m_Created++;var n=new t.Audio.Sound;return n.CountryOfOrigin=this.GUID,n.Volume=this.m_Volume,n}return null},e.prototype.Recycle=function(e){t.Debug.Assert(e.CountryOfOrigin==this.GUID,"SoundFactory[Recycle]CountryOfOrigin != GUID"),e.Clear(),this.m_Items.push(e)},e.prototype.Dispose=function(){for(;this.m_Items.length>0;){var t=this.m_Items.splice(0,1)[0];t.Dispose(),t=null}},e}();e.SoundFactory=n,__reflect(n.prototype,"bfcl.Audio.SoundFactory",["bfcl.Interface.IFactory"])}(e=t.Audio||(t.Audio={}))}(bfcl||(bfcl={}));var slot;!function(t){var e;!function(t){var e=function(){function t(){this.m_packs=new bfcl.Collections.Dictionary}return Object.defineProperty(t.prototype,"Count",{get:function(){return this.m_packs.Count},enumerable:!0,configurable:!0}),t.prototype.SymbolCode=function(t){return bfcl.Debug.Assert(t>=0&&t<this.Count),this.m_packs.GetKey(t)},t.prototype.Register=function(t,e){bfcl.Debug.Assert(!this.m_packs.ContainsKey(t)),this.m_packs.Add(t,e)},t.prototype.Search=function(t){return bfcl.Debug.Assert(this.m_packs.ContainsKey(t)),this.m_packs.GetValue(t)},t.prototype.Dispose=function(){this.m_packs.Clear(),this.m_packs=null},t}();t.SymbolLibrary=e,__reflect(e.prototype,"slot.Library.SymbolLibrary",["bfcl.Interface.ILibrary"])}(e=t.Library||(t.Library={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){var s=t.call(this)||this;return s.ReelNum=-1,void 0!=e&&(s.Type=e),void 0!=n&&(s.ReelNum=n),void 0!=i&&(s.StopPosList=i),void 0!=o&&(s.RemovePosList=o),s}return __extends(e,t),e}(bfcl.Property.BaseProperty);t.ActionProperty=e,__reflect(e.prototype,"slot.Property.ActionProperty")}(e=t.Property||(t.Property={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(e,n,i,o){var s=t.call(this)||this;return s.ReelNum=-1,void 0!=e&&(s.Type=e),void 0!=n&&(s.ReelNum=n),void 0!=i&&(s.StopPosList=i),void 0!=o&&(s.RemovePosList=o),s}return __extends(e,t),e}(bfcl.Property.BaseProperty);t.ActionScript=e,__reflect(e.prototype,"slot.Property.ActionScript")}(e=t.Property||(t.Property={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BG="msg_bg_png",e.Title1_Normal="Congratulation_png",e.Title1_Shine="Congratulation_G_png",e.Title2_Normal="Congratulation_png",e.Title2_Shine="Congratulation_G_png",e.Title3_Normal="Congratulation_png",e.Title3_Shine="Congratulation_G_png",e.Frame="msg_frame_01_png",e.Frame_Point=new egret.Point(145,370),e.Button_Up="msg_button_png",e.Button_Down="msg_button_glow_png",e.Button_Label="msg_button_start_",e.Digit_Point=new egret.Point(1035,510),e}return __extends(e,t),e}(bfcl.Property.BaseProperty);t.BlackboardProperty=e,__reflect(e.prototype,"slot.Property.BlackboardProperty")}(e=t.Property||(t.Property={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.Entrance=new t.BlackboardProperty,n.Exeunt=new t.BlackboardProperty,n.Entrance.BG="msg_bg_png",n.Entrance.Title1_Normal="Congratulation_png",n.Entrance.Title1_Shine="Congratulation_G_png",n.Entrance.Title2_Normal="msg_youwin_png",n.Entrance.Title2_Shine="msg_youwin_G_png",n.Entrance.Title3_Normal="msg_freegames_png",n.Entrance.Title3_Shine="msg_freegames_G_png",n.Entrance.Frame="msg_frame_01_png",n.Entrance.Frame_Point=new egret.Point(145,370),n.Entrance.Button_Up="msg_button_png",n.Entrance.Button_Down="msg_button_glow_png",n.Entrance.Button_Label="msg_button_start_",n.Entrance.Digit_Point=new egret.Point(250,510),n.Exeunt.BG="msg_bg_png",n.Exeunt.Title1_Normal="Congratulation_png",n.Exeunt.Title1_Shine="Congratulation_G_png",n.Exeunt.Title2_Normal="msg_youwin_png",n.Exeunt.Title2_Shine="msg_youwin_G_png",n.Exeunt.Title3_Normal="",n.Exeunt.Title3_Shine="",n.Exeunt.Frame="msg_frame_02_png",n.Exeunt.Frame_Point=new egret.Point(145,430),n.Exeunt.Button_Up="msg_button_png",n.Exeunt.Button_Down="msg_button_glow_png",n.Exeunt.Button_Label="msg_button_backtogame_",n.Exeunt.Digit_Point=new egret.Point(250,550),n}return __extends(n,e),n}(bfcl.Property.BaseProperty);t.BlackboardSwitcherProperty=e,__reflect(e.prototype,"slot.Property.BlackboardSwitcherProperty")}(e=t.Property||(t.Property={}))}(slot||(slot={}));var slot;!function(t){var e;!function(t){var e=function(){function t(){}return t.StrToPosList=function(t,e,n,i){for(var o=[],s=t.split(","),r=e.split(","),a=0;n>a;a++){var l=[];l.push(+r[a]);for(var h=0;i>h;h++)l.push(+s[h*n+a]);l.push(+r[a+n]),o.push(l)}return o},t}();t.Array=e,__reflect(e.prototype,"slot.Utils.Array")}(e=t.Utils||(t.Utils={}))}(slot||(slot={}));var test;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Codepage=bfcl.Constants.Codepages.UNKOWN,e.m_VolumeMixer=new bfcl.Volume.Mixer,e.m_LocalizationManager=null,e.m_AudioManager=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"LocalizationManager",{get:function(){return this.m_LocalizationManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AudioManager",{get:function(){return this.m_AudioManager},enumerable:!0,configurable:!0}),e.prototype.SetVolume=function(t,e){this.m_VolumeMixer.GetVolume(t)!=e&&(this.m_VolumeMixer.SetVolume(t,e),bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.Volume(bfcl.Event.Volume.CHANGED,t,e)))},Object.defineProperty(e.prototype,"Codepage",{set:function(t){this.m_Codepage!=t&&(this.m_Codepage=t,bfcl.Event.Tracker.Instance.dispatchEvent(new bfcl.Event.CodePage(bfcl.Event.CodePage.CHANGED,t)))},enumerable:!0,configurable:!0}),e.prototype.RegisterText=function(t){this.m_LocalizationManager=new bfcl.Localization.Manager(t)},e.prototype.RegisterVoice=function(t){this.m_AudioManager=new bfcl.Audio.Manager(t)},e.prototype.Destroy=function(){this.m_LocalizationManager.Dispose(),this.m_AudioManager.Dispose(),this.m_LocalizationManager=null,this.m_AudioManager=null},e}(egret.EventDispatcher);t.Kernel=e,__reflect(e.prototype,"test.Kernel")}(test||(test={}));var TestScene=function(t){function e(){var e=t.call(this)||this;return e.m_LocalizationManager=null,e.m_AudioManager=null,e.m_Kernel=new test.Kernel,e.toggle=!1,e.skinName="resource/haydn_skins/test/TestSceneSkin.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=new bfcl.Localization.Library;e.Register(bfcl.Constants.Codepages.TW,test.Text.Get_zh_TW()),e.Register(bfcl.Constants.Codepages.EN,test.Text.Get_en_US()),e.Register(bfcl.Constants.Codepages.VN,test.Text.Get_vi_VN());var n=new bfcl.Localization.Library;n.Register(bfcl.Constants.Codepages.TW,test.Voice.Get_zh_TW()),n.Register(bfcl.Constants.Codepages.EN,test.Voice.Get_en_US()),n.Register(bfcl.Constants.Codepages.VN,test.Voice.Get_vi_VN()),this.m_Kernel.RegisterText(e),this.m_Kernel.RegisterVoice(n),this.btnPlay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnPlayClick,this),this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnStopClick,this),this.btnVolumeB.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnVolumeBClick,this),this.btnVolumeS.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtnVolumeSClick,this),this.m_SoundQueue=new bfcl.Audio.SoundQueue,this.m_SoundQueue.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.GetLocalizationManager(this.m_Kernel.LocalizationManager),this.m_LocalizationManager.Bind(this.btnPlay,bfcl.Constants.Propertys.Label,1001,"btn"),this.m_LocalizationManager.Bind(this.lbl,bfcl.Constants.Propertys.Text,1001,"lbl"),this.m_LocalizationManager.Bind(this.imgABC,bfcl.Constants.Propertys.Texture,1e3,"img"),this.GetAudioManager(this.m_Kernel.AudioManager)},e.prototype.GetLocalizationManager=function(t){this.m_LocalizationManager=t},e.prototype.GetAudioManager=function(t){this.m_AudioManager=t},e.prototype.onSoundComplete=function(t){egret.log("音效播完了!!")},e.prototype.onbtnPlayClick=function(t){this.m_Kernel.Codepage=bfcl.Constants.Codepages.EN},e.prototype.onbtnStopClick=function(t){this.m_Kernel.Codepage=bfcl.Constants.Codepages.TW},e.prototype.onbtnVolumeBClick=function(t){this.m_SoundQueue.Volume+=.1},e.prototype.onbtnVolumeSClick=function(t){this.m_SoundQueue.Volume-=.1},e.prototype.onButtonClick=function(t){bfcl.Constants.Codepages.Current==bfcl.Constants.Codepages.TW?bfcl.Constants.Codepages.Current=bfcl.Constants.Codepages.VN:bfcl.Constants.Codepages.Current==bfcl.Constants.Codepages.VN?bfcl.Constants.Codepages.Current=bfcl.Constants.Codepages.EN:bfcl.Constants.Codepages.Current=bfcl.Constants.Codepages.TW,egret.log("目前語系："+bfcl.Constants.Codepages.Current),this.m_Kernel.Codepage=bfcl.Constants.Codepages.Current},e.prototype.fullScreen=function(){var t=document.documentElement,e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;"undefined"!=typeof e&&e&&e.call(t)},e.prototype.exitScreen=function(){var t=document;t.exitFullscreen?t.exitFullscreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen()},e}(eui.Component);__reflect(TestScene.prototype,"TestScene",["eui.UIComponent","egret.DisplayObject"]);var test;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,bfcl.Constants.GameIds.MineSlot,t.API.AddDemoUser.Request,t.API.AddDemoUser.Response)||this}return __extends(n,e),Object.defineProperty(n.prototype,"JwToken",{get:function(){return"eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiOTY3OTg0MzE0IiwiZXhwIjoxODI5NjIzMTIwfQ.Utv4DXW99inU9smhaX11HpuuA-oBeRvBpeQY-f6L69g7yG81DfsH1F3aC7aEyoP3NLfarvCOKALH0hJ8b9fe3QxDyQlSbT0G1wiLd2HjAXVYDxQ0c7942SL1nfrWxDUW-MAfNMWft-an_fAyshT6gTvJO9QNAS-C27oHVSdd71tmPX8f_sTLndpkfPtz4d4gIAuuGR8NpKduAiK80dmqL214VQsnG_vCnVYH0J5e7hRmHsQmDtwqLqZEgdoQv47QnGeFDn06HX4qo0pYQ8PySEMQkmIeP82BfWd9WacgwTUgnrI5VQ4OlvdJowvlmjBmddKW43buTrwcROgMQpbEog"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.GET},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/add_demo_user"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);e.AddDemoUser=n,__reflect(n.prototype,"test.API.AddDemoUser")}(e=t.API||(t.API={}))}(test||(test={})),function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Request);t.Request=e,__reflect(e.prototype,"test.API.AddDemoUser.Request");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Response);t.Response=n,__reflect(n.prototype,"test.API.AddDemoUser.Response")}(e=t.AddDemoUser||(t.AddDemoUser={}))}(e=t.API||(t.API={}))}(test||(test={}));var test;!function(t){var e;!function(e){var n=function(e){function n(){return e.call(this,bfcl.Constants.GameIds.MineSlot,t.API.Init.Request,t.API.Init.Response)||this}return __extends(n,e),Object.defineProperty(n.prototype,"JwToken",{get:function(){return"eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzdWJqZWN0IiwidXNlcklkIjoiOTY3OTg0MzE0IiwiZXhwIjoxODI5NjIzMTIwfQ.Utv4DXW99inU9smhaX11HpuuA-oBeRvBpeQY-f6L69g7yG81DfsH1F3aC7aEyoP3NLfarvCOKALH0hJ8b9fe3QxDyQlSbT0G1wiLd2HjAXVYDxQ0c7942SL1nfrWxDUW-MAfNMWft-an_fAyshT6gTvJO9QNAS-C27oHVSdd71tmPX8f_sTLndpkfPtz4d4gIAuuGR8NpKduAiK80dmqL214VQsnG_vCnVYH0J5e7hRmHsQmDtwqLqZEgdoQv47QnGeFDn06HX4qo0pYQ8PySEMQkmIeP82BfWd9WacgwTUgnrI5VQ4OlvdJowvlmjBmddKW43buTrwcROgMQpbEog"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Method",{get:function(){return egret.HttpMethod.POST},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ServerUrl",{get:function(){return"https://mineslot-stage.99ta-city.com"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Api",{get:function(){return"/ms_game/get_last_mine_slot_init"},enumerable:!0,configurable:!0}),n}(bfcl.Http.Service);e.Init=n,__reflect(n.prototype,"test.API.Init")}(e=t.API||(t.API={}))}(test||(test={})),function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game_type=5,e}return __extends(e,t),e}(bfcl.Http.Data.Request);t.Request=e,__reflect(e.prototype,"test.API.Init.Request");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(bfcl.Http.Data.Response);t.Response=n,__reflect(n.prototype,"test.API.Init.Response");var i=function(){function t(){}return t}();t.BetInfo=i,__reflect(i.prototype,"test.API.Init.BetInfo")}(e=t.Init||(t.Init={}))}(e=t.API||(t.API={}))}(test||(test={}));var test;!function(t){var e;!function(t){function e(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}。",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton error，singleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list！",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}t.Get_en_US=e}(e=t.Text||(t.Text={}))}(test||(test={}));var test;!function(t){var e;!function(t){function e(){return{1e3:"icon_08_png",1001:"找不到Egret入口类: {0}。",1002:"Egret入口类 {0} 必须继承自egret.DisplayObject。",1003:"参数 {0} 不能为 null。",1004:"无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。",1005:"不能将对象添加为其自身的子对象。",1006:"提供的 DisplayObject 必须是调用者的子级。",1007:"为参数指定的索引不在范围内。",1008:"实例化单例出错，不允许实例化多个 {0} 对象。",1009:"类 {0} 不可以使用属性 {1}",1010:"类 {0} 属性 {1} 是只读的",1011:"流错误。URL: {0}",1012:"参数 {0} 的类型必须为 Class。",1013:"变量赋值为NaN，请查看代码！",1014:"类 {0} 常量 {1} 是只读的",1015:"xml not found!",1016:"{0}已经废弃",1017:"JSON文件格式不正确: {0}\ndata: {1}",1018:"9宫格设置错误",1019:"网络异常:{0}",1020:"无法初始化着色器",1021:"当前浏览器不支持webgl",1022:"{0} ArgumentError",1023:"此方法在ScrollView内不可用!",1025:"遇到文件尾",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:"调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"跨域图片不可以使用toDataURL来转换成base64",1034:'音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。',1035:"Native 下暂未实现此功能！",1036:"声音已停止，请重新调用 Sound.play() 来播放声音！",1037:"非正确的blob加载！",1038:"XML 格式错误!",1039:"跨域图片不能获取像素信息!",1040:"hitTestPoint 不能对跨域图片进行检测! 请检查该显示对象内是否含有跨域元素",1041:"{0} 已废弃,请使用 {1} 代替",1042:"drawToTexture方法传入的区域各个参数需要为整数,否则某些浏览器绘制会出现异常",1043:"{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",1044:"当前的 runtime 版本不支持视频播放,请使用最新的版本",1045:"没有设置要加载的资源地址",1046:"BitmapText 找不到对应字符:{0}，请检查配置文件",1047:"egret.localStorage.setItem保存失败,key={0}&value={1}",1048:"视频加载失败",1049:"声音在没有加载完之前不允许播放",1050:"ExternalInterface调用了js没有注册的方法: {0}",1051:"runtime 只支持 webgl 渲染模式",1052:"网络请求超时:{0}",3e3:"主题配置文件加载失败: {0}",3001:"找不到主题中所配置的皮肤类名: {0}",3002:'索引:"{0}"超出集合元素索引范围',3003:"在此组件中不可用，若此组件为容器类，请使用",3004:"addChild(){0}addElement()代替",3005:"addChildAt(){0}addElementAt()代替",3006:"removeChild(){0}removeElement()代替",3007:"removeChildAt(){0}removeElementAt()代替",3008:"setChildIndex(){0}setElementIndex()代替",3009:"swapChildren(){0}swapElements()代替",3010:"swapChildrenAt(){0}swapElementsAt()代替",3011:'索引:"{0}"超出可视元素索引范围',3012:"此方法在Scroller组件内不可用!",3013:"UIStage是GUI根容器，只能有一个此实例在显示列表中！",3014:"设置全屏模式失败",3100:"当前浏览器不支持WebSocket",3101:"请先连接WebSocket",3102:"请先设置type为二进制类型",3200:"getResByUrl 必须在 loadConfig 之后调用",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"该平台不支持 {0} 适配模式，已经自动替换为 {1} 模式，请修改您的代码适配逻辑"}}t.Get_vi_VN=e}(e=t.Text||(t.Text={}))}(test||(test={}));var test;!function(t){var e;!function(t){function e(){return{1e3:"icon_07_png",1001:"找不到Egret入口類: {0}。",1002:"Egret入口類 {0} 必須繼承自egret.DisplayObject。",1003:"參數 {0} 不能為 null。",1004:"無法將對象添加為它的一個子對象（或子對象的子對像等）的子對象。",1005:"不能將對象添加為其自身的子對象。",1006:"提供的 DisplayObject 必須是調用者的子級。",1007:"為參數指定的索引不在範圍內。",1008:"實例化單例出錯，不允許實例化多個 {0} 對象。",1009:"類 {0} 不可以使用屬性 {1}",1010:"類 {0} 屬性 {1} 是只讀的",1011:"流錯誤。URL: {0}",1012:"參數 {0} 的類型必須為 Class。",1013:"變量賦值為NaN，請查看代碼！",1014:"類 {0} 常量 {1} 是只讀的",1015:"xml not found!",1016:"{0}已經廢棄",1017:"JSON文件格式不正確: {0}\ndata: {1}",1018:"9宮格設置錯誤",1019:"網絡異常:{0}",1020:"無法初始化著色器",1021:"當前瀏覽器不支持webgl",1022:"{0} ArgumentError",1023:"此方法在ScrollView內不可用!",1025:"遇到文件尾",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:"調用了未配置的注入規則:{0}。 請先在項目初始化里配置指定的注入規則，再調用對應單例。",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"跨域圖片不可以使用toDataURL來轉換成base64",1034:'音樂文件解碼失敗："{0}"，請使用標準的轉換工具重新轉換下mp3。',1035:"Native 下暫未實現此功能！",1036:"聲音已停止，請重新調用 Sound.play() 來播放聲音！",1037:"非正確的blob加載！",1038:"XML 格式錯誤!",1039:"跨域圖片不能獲取像素信息!",1040:"hitTestPoint 不能對跨域圖片進行檢測! 請檢查該顯示對象內是否含有跨域元素",1041:"{0} 已廢棄,請使用 {1} 代替",1042:"drawToTexture方法傳入的區域各個參數需要為整數,否則某些瀏覽器繪製會出現異常",1043:"{0} 中存在編譯錯誤，屬性名 : {1}，屬性值 : {2}",1044:"當前的 runtime 版本不支持視頻播放,請使用最新的版本",1045:"沒有設置要加載的資源地址",1046:"BitmapText 找不到對應字符:{0}，請檢查配置文件",1047:"egret.localStorage.setItem保存失敗,key={0}&value={1}",1048:"視頻加載失敗",1049:"聲音在沒有加載完之前不允許播放",1050:"ExternalInterface調用了js沒有註冊的方法: {0}",1051:"runtime 只支持 webgl 渲染模式",1052:"網絡請求超時:{0}",3e3:"主題配置文件加載失敗: {0}",3001:"找不到主題中所配置的皮膚類名: {0}",3002:'索引:"{0}"超出集合元素索引範圍',3003:"在此組件中不可用，若此組件為容器類，請使用",3004:"addChild(){0}addElement()代替",3005:"addChildAt(){0}addElementAt()代替",3006:"removeChild(){0}removeElement()代替",3007:"removeChildAt(){0}removeElementAt()代替",3008:"setChildIndex(){0}setElementIndex()代替",3009:"swapChildren(){0}swapElements()代替",3010:"swapChildrenAt(){0}swapElementsAt()代替",3011:'索引:"{0}"超出可視元素索引範圍',3012:"此方法在Scroller組件內不可用!",3013:"UIStage是GUI根容器，只能有一個此實例在顯示列表中！",3014:"設置全屏模式失敗",3100:"當前瀏覽器不支持WebSocket",3101:"請先連接WebSocket",3102:"請先設置type為二進制類型",3200:"getResByUrl 必須在 loadConfig 之後調用",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"該平台不支持 {0} 適配模式，已經自動替換為 {1} 模式，請修改您的代碼適配邏輯"}
}t.Get_zh_TW=e}(e=t.Text||(t.Text={}))}(test||(test={}));var test;!function(t){var e;!function(t){function e(){return{1e3:"icon_09_png",1001:"Could not find Egret entry class: {0}。",1002:"Egret entry class '{0}' must inherit from egret.DisplayObject.",1003:"Parameter {0} must be non-null.",1004:"An object cannot be added as a child to one of it's children (or children's children, etc.).",1005:"An object cannot be added as a child of itself.",1006:"The supplied DisplayObject must be a child of the caller.",1007:"An index specified for a parameter was out of range.",1008:"Instantiate singleton error，singleton class {0} can not create multiple instances.",1009:'the Class {0} cannot use the property "{1}"',1010:'the property "{1}" of the Class "{0}" is readonly',1011:"Stream Error. URL: {0}",1012:"The type of parameter {0} must be Class.",1013:"Variable assignment is NaN, please see the code!",1014:'the constant "{1}" of the Class "{0}" is read-only',1015:"xml not found!",1016:"{0}has been obsoleted",1017:"The format of JSON file is incorrect: {0}\ndata: {1}",1018:"the scale9Grid is not correct",1019:"Network ab:{0}",1020:"Cannot initialize Shader",1021:"Current browser does not support webgl",1022:"{0} ArgumentError",1023:"This method is not available in the ScrollView!",1025:"end of the file",1026:"! EncodingError The code point {0} could not be encoded.",1027:"DecodingError",1028:". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"Photos can not be used across domains toDataURL to convert base64",1034:'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',1035:"Native does not support this feature!",1036:"Sound has stopped, please recall Sound.play () to play the sound!",1037:"Non-load the correct blob!",1038:"XML format error!",1039:"Cross domains pictures can not get pixel information!",1040:"hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",1041:"{0} is deprecated, please use {1} replace",1042:"The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",1043:"Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",1044:"The current version of the Runtime does not support video playback, please use the latest version",1045:"The resource url is not found",1046:"BitmapText no corresponding characters: {0}, please check the configuration file",1047:"egret.localStorage.setItem save failed,key={0}&value={1}",1048:"Video loading failed",1049:"In the absence of sound is not allowed to play after loading",1050:"ExternalInterface calls the method without js registration: {0}",1051:"runtime only support webgl render mode",1052:"network request timeout{0}",3e3:"Theme configuration file failed to load: {0}",3001:"Cannot find the skin name which is configured in Theme: {0}",3002:'Index:"{0}" is out of the collection element index range',3003:"Cannot be available in this component. If this component is container, please continue to use",3004:"addChild(){0}addElement() replace",3005:"addChildAt(){0}addElementAt() replace",3006:"removeChild(){0}removeElement() replace",3007:"removeChildAt(){0}removeElementAt() replace",3008:"setChildIndex(){0}setElementIndex() replace",3009:"swapChildren(){0}swapElements() replace",3010:"swapChildrenAt(){0}swapElementsAt() replace",3011:'Index:"{0}" is out of the visual element index range',3012:"This method is not available in Scroller component!",3013:"UIStage is GUI root container, and only one such instant is in the display list！",3014:"set fullscreen error",3100:"Current browser does not support WebSocket",3101:"Please connect Socket firstly",3102:"Please set the type of binary type",3200:"getResByUrl must be called after loadConfig",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"}}t.Get_en_US=e}(e=t.Voice||(t.Voice={}))}(test||(test={}));var test;!function(t){var e;!function(t){function e(){return{1e3:"icon_08_png",1001:"找不到Egret入口类: {0}。",1002:"Egret入口类 {0} 必须继承自egret.DisplayObject。",1003:"参数 {0} 不能为 null。",1004:"无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。",1005:"不能将对象添加为其自身的子对象。",1006:"提供的 DisplayObject 必须是调用者的子级。",1007:"为参数指定的索引不在范围内。",1008:"实例化单例出错，不允许实例化多个 {0} 对象。",1009:"类 {0} 不可以使用属性 {1}",1010:"类 {0} 属性 {1} 是只读的",1011:"流错误。URL: {0}",1012:"参数 {0} 的类型必须为 Class。",1013:"变量赋值为NaN，请查看代码！",1014:"类 {0} 常量 {1} 是只读的",1015:"xml not found!",1016:"{0}已经废弃",1017:"JSON文件格式不正确: {0}\ndata: {1}",1018:"9宫格设置错误",1019:"网络异常:{0}",1020:"无法初始化着色器",1021:"当前浏览器不支持webgl",1022:"{0} ArgumentError",1023:"此方法在ScrollView内不可用!",1025:"遇到文件尾",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:"调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"跨域图片不可以使用toDataURL来转换成base64",1034:'音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。',1035:"Native 下暂未实现此功能！",1036:"声音已停止，请重新调用 Sound.play() 来播放声音！",1037:"非正确的blob加载！",1038:"XML 格式错误!",1039:"跨域图片不能获取像素信息!",1040:"hitTestPoint 不能对跨域图片进行检测! 请检查该显示对象内是否含有跨域元素",1041:"{0} 已废弃,请使用 {1} 代替",1042:"drawToTexture方法传入的区域各个参数需要为整数,否则某些浏览器绘制会出现异常",1043:"{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",1044:"当前的 runtime 版本不支持视频播放,请使用最新的版本",1045:"没有设置要加载的资源地址",1046:"BitmapText 找不到对应字符:{0}，请检查配置文件",1047:"egret.localStorage.setItem保存失败,key={0}&value={1}",1048:"视频加载失败",1049:"声音在没有加载完之前不允许播放",1050:"ExternalInterface调用了js没有注册的方法: {0}",1051:"runtime 只支持 webgl 渲染模式",1052:"网络请求超时:{0}",3e3:"主题配置文件加载失败: {0}",3001:"找不到主题中所配置的皮肤类名: {0}",3002:'索引:"{0}"超出集合元素索引范围',3003:"在此组件中不可用，若此组件为容器类，请使用",3004:"addChild(){0}addElement()代替",3005:"addChildAt(){0}addElementAt()代替",3006:"removeChild(){0}removeElement()代替",3007:"removeChildAt(){0}removeElementAt()代替",3008:"setChildIndex(){0}setElementIndex()代替",3009:"swapChildren(){0}swapElements()代替",3010:"swapChildrenAt(){0}swapElementsAt()代替",3011:'索引:"{0}"超出可视元素索引范围',3012:"此方法在Scroller组件内不可用!",3013:"UIStage是GUI根容器，只能有一个此实例在显示列表中！",3014:"设置全屏模式失败",3100:"当前浏览器不支持WebSocket",3101:"请先连接WebSocket",3102:"请先设置type为二进制类型",3200:"getResByUrl 必须在 loadConfig 之后调用",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"该平台不支持 {0} 适配模式，已经自动替换为 {1} 模式，请修改您的代码适配逻辑"}}t.Get_vi_VN=e}(e=t.Voice||(t.Voice={}))}(test||(test={}));var test;!function(t){var e;!function(t){function e(){return{1e3:"icon_07_png",1001:"找不到Egret入口類: {0}。",1002:"Egret入口類 {0} 必須繼承自egret.DisplayObject。",1003:"參數 {0} 不能為 null。",1004:"無法將對象添加為它的一個子對象（或子對象的子對像等）的子對象。",1005:"不能將對象添加為其自身的子對象。",1006:"提供的 DisplayObject 必須是調用者的子級。",1007:"為參數指定的索引不在範圍內。",1008:"實例化單例出錯，不允許實例化多個 {0} 對象。",1009:"類 {0} 不可以使用屬性 {1}",1010:"類 {0} 屬性 {1} 是只讀的",1011:"流錯誤。URL: {0}",1012:"參數 {0} 的類型必須為 Class。",1013:"變量賦值為NaN，請查看代碼！",1014:"類 {0} 常量 {1} 是只讀的",1015:"xml not found!",1016:"{0}已經廢棄",1017:"JSON文件格式不正確: {0}\ndata: {1}",1018:"9宮格設置錯誤",1019:"網絡異常:{0}",1020:"無法初始化著色器",1021:"當前瀏覽器不支持webgl",1022:"{0} ArgumentError",1023:"此方法在ScrollView內不可用!",1025:"遇到文件尾",1026:"EncodingError! The code point {0} could not be encoded.",1027:"DecodingError",1028:"調用了未配置的注入規則:{0}。 請先在項目初始化里配置指定的注入規則，再調用對應單例。",1029:"Function.prototype.bind - what is trying to be bound is not callable",1033:"跨域圖片不可以使用toDataURL來轉換成base64",1034:'音樂文件解碼失敗："{0}"，請使用標準的轉換工具重新轉換下mp3。',1035:"Native 下暫未實現此功能！",1036:"聲音已停止，請重新調用 Sound.play() 來播放聲音！",1037:"非正確的blob加載！",1038:"XML 格式錯誤!",1039:"跨域圖片不能獲取像素信息!",1040:"hitTestPoint 不能對跨域圖片進行檢測! 請檢查該顯示對象內是否含有跨域元素",1041:"{0} 已廢棄,請使用 {1} 代替",1042:"drawToTexture方法傳入的區域各個參數需要為整數,否則某些瀏覽器繪製會出現異常",1043:"{0} 中存在編譯錯誤，屬性名 : {1}，屬性值 : {2}",1044:"當前的 runtime 版本不支持視頻播放,請使用最新的版本",1045:"沒有設置要加載的資源地址",1046:"BitmapText 找不到對應字符:{0}，請檢查配置文件",1047:"egret.localStorage.setItem保存失敗,key={0}&value={1}",1048:"視頻加載失敗",1049:"聲音在沒有加載完之前不允許播放",1050:"ExternalInterface調用了js沒有註冊的方法: {0}",1051:"runtime 只支持 webgl 渲染模式",1052:"網絡請求超時:{0}",3e3:"主題配置文件加載失敗: {0}",3001:"找不到主題中所配置的皮膚類名: {0}",3002:'索引:"{0}"超出集合元素索引範圍',3003:"在此組件中不可用，若此組件為容器類，請使用",3004:"addChild(){0}addElement()代替",3005:"addChildAt(){0}addElementAt()代替",3006:"removeChild(){0}removeElement()代替",3007:"removeChildAt(){0}removeElementAt()代替",3008:"setChildIndex(){0}setElementIndex()代替",3009:"swapChildren(){0}swapElements()代替",3010:"swapChildrenAt(){0}swapElementsAt()代替",3011:'索引:"{0}"超出可視元素索引範圍',3012:"此方法在Scroller組件內不可用!",3013:"UIStage是GUI根容器，只能有一個此實例在顯示列表中！",3014:"設置全屏模式失敗",3100:"當前瀏覽器不支持WebSocket",3101:"請先連接WebSocket",3102:"請先設置type為二進制類型",3200:"getResByUrl 必須在 loadConfig 之後調用",4e3:"An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",4001:"Abstract class can not be instantiated!",4002:"Unnamed data!",4003:"Nonsupport version!",4500:"該平台不支持 {0} 適配模式，已經自動替換為 {1} 模式，請修改您的代碼適配邏輯"}}t.Get_zh_TW=e}(e=t.Voice||(t.Voice={}))}(test||(test={}));